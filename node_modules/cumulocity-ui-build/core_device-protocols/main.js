/* core_device-protocols 9.12.5 2018-08-27T16:53:59+00:00 b689bea882f7+ (release/9.12.0) tip */
!function(){"use strict";function e(e){e.initUi()}e.$inject=["c8yDeviceProtocolUiProvider"],angular.module("c8y.deviceProtocols",[]).config(e)}(),function(){"use strict";function e(e,n,t){function o(e,n){var t=_.map(v,_.partial(i,n,e));return e.all(t).then(_.some)}function i(e,n,t){var o=e.get(t.service),i=!_.isFunction(o.showIf)||e.invoke(o.showIf);return n.when(i)}function r(n,t,o,r,a,c,s){function l(){return d().then(_.partialRight(_.map,m)).then(o.all).then(_.flatten)}function m(e){var n=h(e);return n.list().then(function(n){return _.map(n,function(n){return _.assign({},e,{data:n})})})}function d(){var e=_.map(v,function(e){return w(e).then(function(n){return n?_.clone(e):void 0})});return o.all(e).then(_.filter)}function u(){return s.open({component:"c8yAddDeviceProtocolWizard",backdrop:"static",keyboard:!1}).result}function g(e){return h(e).getName(e.data)}function f(e){var n=h(e),t=n.listRowInfoComponent||"c8yDeviceProtocolRow"+_.capitalize(e.id);return t}function h(e){return n.get(e.service)}function b(e){var n=h(e),o=n.detailPath(e.data);t.path(o)}function y(n){var t=h(n),o=e("Delete protocol?"),i=g(n),s={protocolName:n.name,title:i},l=r.getString("Do you really want to remove device protocol {{protocolName}} with the title {{title}}?",s),m={status:"warning",title:o,body:l,size:"sm",labels:{ok:e("Delete"),cancel:e("Cancel")}},d=_.partial(t.remove,n.data),p=_.partial(_.unary(a.success),"Device protocol removed");return c(m).then(d).then(p)}var w=_.partial(i,n,o);return{listProtocols:l,edit:b,remove:y,addWithWizard:u,VIEW_CONFIG:p,getProtocols:d,getService:h,getProtocolName:g,getProtocolRowInfoComponent:f}}function a(e){v.push(e)}function c(){s(),l()}function s(){t.when(d,p)}function l(){n.addNavigation(p)}o.$inject=["$q","$injector"],r.$inject=["$injector","$location","$q","gettextCatalog","c8yAlert","c8yModal","c8yWizardModal"];var m="c8y-device-protocols",d="deviceprotocols",p={parent:{name:e("Device types"),icon:"c8y-device-protocols"},name:e("Device protocols"),path:d,icon:m,template:"<c8y-device-protocol-view></c8y-device-protocol-view>",showIf:o},v=[];return{$get:r,register:a,initUi:c}}e.$inject=["gettext","c8yNavigatorProvider","c8yViewsProvider"],angular.module("c8y.deviceProtocols").provider("c8yDeviceProtocolUi",e)}(),function(){"use strict";function e(e){function n(){return o.isEmpty}function t(){return e.addWithWizard()}var o=this;_.assign(o,{CONFIG:e.VIEW_CONFIG,showEmptyState:n,add:t})}e.$inject=["c8yDeviceProtocolUi"],angular.module("c8y.deviceProtocols").component("c8yDeviceProtocolView",{templateUrl:"core_device-protocols/deviceProtocolView.html",controllerAs:"vm",controller:e})}(),function(){"use strict";function e(e){function n(){t(),c.mainView&&(c.mainView.refresh=t)}function t(){c.protocols=void 0,i(!0),e.listProtocols().then(o).finally(_.partial(i,!1))}function o(e){c.protocols=e,r(e)}function i(e){c.mainView&&(c.mainView.isLoading=e)}function r(e){c.mainView&&(c.mainView.isEmpty=0===_.get(e,"length"))}function a(n){var t=_.partial(_.pull,c.protocols,n),o=_.partial(r,c.protocols);return e.remove(n).then(t).then(o)}var c=this;_.assign(c,{$onInit:n,edit:e.edit,remove:a,CONFIG:e.VIEW_CONFIG,getTitle:e.getProtocolName,getRowInfoComponent:e.getProtocolRowInfoComponent})}e.$inject=["c8yDeviceProtocolUi"],angular.module("c8y.deviceProtocols").component("c8yDeviceProtocolList",{templateUrl:"core_device-protocols/deviceProtocolList.html",controllerAs:"vm",require:{mainView:"?^c8yDeviceProtocolView"},controller:e,bindings:{filter:"<",onList:"&"}})}(),function(){"use strict";function e(e,n,t,o){function i(){_.assign(s,s.wizardCtrl),s.flows=[]}function r(n){var t=o.getService(n);s.flow=t.flow(),e(a,100)}function a(){s.wizardCtrl.setFlowFromStepIds(),s.wizardCtrl.goTo(_.first(s.flow))}function c(e){s.modalInstance.close(),e?n.path(e):t.reload()}var s=this;_.assign(s,{CONFIG:o.VIEW_CONFIG,$onInit:i,select:r,finishProcess:c})}e.$inject=["$timeout","$location","$route","c8yDeviceProtocolUi"],angular.module("c8y.deviceProtocols").component("c8yAddDeviceProtocolWizard",{templateUrl:"core_device-protocols/deviceProtocolWizard.html",controllerAs:"vm",controller:e,bindings:{modalInstance:"<",resolve:"<"}})}(),function(){"use strict";function e(e){function n(){t(),i.protocolCtrl.wizardCtrl=i.wizardCtrl}function t(){e.getProtocols().then(o)}function o(e){i.protocols=e}var i=this;_.assign(i,{CONFIG:e.VIEW_CONFIG,customTitle:null,$onInit:n})}e.$inject=["c8yDeviceProtocolUi"],angular.module("c8y.deviceProtocols").component("c8yDeviceProtocolSelect",{templateUrl:"core_device-protocols/deviceProtocolSelect.html",require:{wizardCtrl:"^c8yWizardStep",protocolCtrl:"^c8yAddDeviceProtocolWizard"},controllerAs:"vm",controller:e})}(),function(){"use strict";function e(e){var n=this;_.assign(n,e.VIEW_CONFIG)}e.$inject=["c8yDeviceProtocolUi"],angular.module("c8y.deviceProtocols").component("c8yDeviceProtocolBreadcrumb",{templateUrl:"core_device-protocols/deviceProtocolBreadcrumb.html",controllerAs:"vm",controller:e})}(),function(){"use strict";function e(e,n){function t(e){var n=_.assign({resources:{}},e),t={};return _.set(t,u,{}),_.set(t,g,n.id),_.set(t,f,n),_.set(t,b,{}),_.set(t,y,{}),t}function o(e){var n=f+".name";return _.get(e,n)}function i(e){var n=_.get(e,h);return _.size(n)}function r(e,n,t){var o=_.get(t,h)||{},i=_.get(t,b)||{},r=_.get(e,"id"),a=_.get(n,"id"),c=i[a];return r===a||_.isUndefined(a)||(delete o[a],delete i[a],c&&(c.resourceID=r,r&&(i[r]=c))),r&&(o[r]=e),_.set(t,h,o),_.set(t,b,i),t}function a(e,n,t){var o=e;if(o){var i=_.get(t,b)||{},r=o.resourceID=n.id;i[r]=o,1===_.keys(o).length&&delete i[r],0===_.keys(i).length&&(i=null),_.set(t,b,i)}return t}function c(e,n){return r(null,e,n)}function s(t){var o=_.pick(t,["id",u]);return n.save(o).then(e.getResData)}function l(e){return _.get(e,f)}function m(e,n){var t=_.merge(_.get(n,f),e);return _.set(n,g,t.id),n}function d(e){return _.get(e,b)}function p(e){return _.get(e,f)}function v(e){return _.get(e,h)}var u="c8y_objectmapping_ObjectMapping",g=u+".objectId",f=u+".objectModel",h=f+".resources",b=u+".resourceMappings",y=u+".objectInstanceActions";return{createManagedObject:t,getName:o,countResources:i,updateResource:r,removeResource:c,updateMappingToResource:a,saveToInventory:s,getMainProperties:l,updateMainProperties:m,getMappings:d,getMainObject:p,getResources:v,fragments:{BASE_FRAGMENT:u}}}e.$inject=["c8yBase","c8yInventory"],angular.module("c8y.deviceProtocols").factory("c8yObjectMappings",e)}(),function(){"use strict";function e(e){function n(e){e.mapping&&t()}function t(){var e=u.mapping;u.hasMeasurement=!!_.get(e,s),u.hasEvent=!!_.get(e,m),u.hasAlarm=!!_.get(e,l),u.hasCustomAction=!!_.get(e,d),c()}function o(e){e||_.unset(u.mapping,s),c()}function i(e){e||_.unset(u.mapping,l),c()}function r(e){e||_.unset(u.mapping,m),c()}function a(e){e?_.set(u.mapping,d+".type",null):_.unset(u.mapping,d),c()}function c(){if(u.autoObserveLocked=!1,v){var e=u.hasMeasurement||u.hasEvent||u.hasAlarm||u.hasCustomAction;e||(u.autoObserveLocked=!0,_.unset(u.mapping,p))}}var s="measurementCreation",l="alarmCreation",m="eventCreation",d="customAction",p="observeParameters.autoObserve",v=!0,u=this;_.assign(u,{alarmSeverities:e.severityList,alarmStatus:e.statusList,$onChanges:n,updateMeasurementKey:o,updateAlarmKey:i,updateEventKey:r,updateCustomActionKey:a})}e.$inject=["c8yAlarms"];var n={templateUrl:"core_device-protocols/object-mapping.html",controllerAs:"vm",controller:e,bindings:{autoObserveParams:"@",mapping:"<",customActions:"<"}},t={template:'\n      <span ng-show="!vm.hasMeasurement && !vm.hasAlarm && !vm.hasEvent" class="text-muted">--</span>\n      <i c8y-icon="line-chart" uib-tooltip="{{\'Measurements\' | translate}}" ng-show="vm.hasMeasurement"></i>\n      <i c8y-icon="bell" uib-tooltip="{{\'Alarms\' | translate}}" ng-show="vm.hasAlarm"></i>\n      <i c8y-icon="c8y-events" uib-tooltip="{{\'Events\' | translate}}" ng-show="vm.hasEvent"></i>\n      <i c8y-icon="eye" uib-tooltip="{{\'Auto observe\' | translate}}" ng-show="vm.mapping.observeParameters.autoObserve"></i>\n      <i c8y-icon="wrench" uib-tooltip="{{\'Custom action\' | translate}}" ng-show="vm.hasCustomAction"></i>\n    ',controllerAs:"vm",controller:e,bindings:{mapping:"<"}},o={bindings:{data:"<"},template:'\n      <small class="text-muted">{{\'Resources\'  | translate}}</small>\n      <span class="badge badge-info">{{::vm.count(vm.data)}}</span>',controller:["c8yObjectMappings",function(e){this.count=e.countResources}],controllerAs:"vm"};angular.module("c8y.deviceProtocols").component("c8yObjectMapping",n).component("c8yObjectMappingStatusIcons",t).component("c8yDeviceProtocolRowCountResources",o)}(),function(){"use strict";function e(e){var n;n='<c8y-breadcrumbs-set>\n  <c8y-breadcrumbs-item path="#{{vm.path}}" label="{{vm.name | translate}}" icon="{{vm.icon}}"></c8y-breadcrumbs-item>\n</c8y-breadcrumbs-set>\n',e.put("device-protocols/deviceProtocolBreadcrumb.html",n),e.put("core_device-protocols/deviceProtocolBreadcrumb.html",n),e.put("/apps/core/device-protocols/deviceProtocolBreadcrumb.html",n),n='<div class="list-group">\n  <div class="list-group-item" ng-repeat="protocol in vm.protocols | filter:vm.filter " ng-click="vm.edit(protocol)">\n    <div class="flex-row">\n      <div class="list-item-actions" ng-click="$event.stopPropagation()">\n        <span class="dropdown settings" uib-dropdown dropdown-append-to-body="true">\n          <button class="dropdown-toggle c8y-dropdown btn-link" uib-dropdown-toggle>\n            <i c8y-icon="ellipsis-v"></i>\n          </button>\n          <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n            <li>\n              <a href="" ng-click="vm.edit(protocol)">\n                <i c8y-icon="edit"></i> {{\'Edit\' | translate}}\n              </a>\n            </li>\n            <li>\n              <a href="" ng-click="vm.remove(protocol)">\n                <i c8y-icon="trash"></i> {{\'Remove\' | translate}}\n              </a>\n            </li>\n          </ul>\n        </span>\n      </div>\n\n      <div class="list-item-icon">\n        <i c8y-icon="{{vm.CONFIG.icon}}"></i>\n      </div>\n\n        <div class="list-item-body flex-row">\n          <span class="label label-info right-m-sm">{{::protocol.name}}</span>\n          {{::vm.getTitle(protocol)}}\n        <div class="flex-item-right">\n          <c8y-ui-component component-name="::vm.getRowInfoComponent(protocol)" data="protocol.data">\n          </c8y-ui-component>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n',e.put("device-protocols/deviceProtocolList.html",n),e.put("core_device-protocols/deviceProtocolList.html",n),e.put("/apps/core/device-protocols/deviceProtocolList.html",n),n='<div class="modal-body">\n  <p class="lead text-center" style="margin:0" translate>\n    Select one of the available options\n  </p>\n  <p c8y-guide-docs>\n    <small class="text-muted" translate>\n      Find your device type in the\n      <a c8y-guide-href="">Device Guides</a>\n      to get more information.\n    </small>\n  </p>\n</div>\n\n<div class="modal-inner-scroll" style="min-height: 148px">\n\n  <div class="c8y-wizard-list-nav" ng-repeat="protocol in vm.protocols">\n    <a href="" class="list-group-item" ng-click="vm.protocolCtrl.select(protocol)">\n      <i c8y-icon="{{protocol.icon || vm.CONFIG.icon}}"></i>\n      <span>{{protocol.name | translate}}</span>\n    </a>\n  </div>\n\n</div>\n\n<div class="c8y-wizard-footer modal-footer">\n  <button class="btn btn-default" ng-click="vm.wizardCtrl.dismiss()" translate>\n    Cancel\n  </button>\n</div>\n',e.put("device-protocols/deviceProtocolSelect.html",n),e.put("core_device-protocols/deviceProtocolSelect.html",n),e.put("/apps/core/device-protocols/deviceProtocolSelect.html",n),n='<c8y-ui-title-set title="\'Device protocols\' | translate">\n</c8y-ui-title-set>\n\n<c8y-ui-action-bar-set>\n  <li class="navbar-form" action-bar-position="left" ng-show="!vm.showEmptyState()">\n    <div class="input-group input-group-search">\n      <input type="search" class="form-control ng-pristine ng-untouched ng-valid ng-empty" placeholder="{{\'Filter…\' | translate}}" ng-model="vm.searchString">\n      <span class="input-group-addon">\n          <i c8y-icon="search" ng-show="vm.searchString.length === 0 || !vm.searchString"></i>\n          <i c8y-icon="times" class="text-muted" ng-show="vm.searchString.length > 0" ng-click="vm.searchString = \'\'"></i>\n      </span>\n    </div>\n  </li>\n  <button class="btn btn-link" ng-click="vm.add()">\n    <i c8y-icon="plus-square"></i>\n    {{\'Add device protocol\' | translate}}\n  </button>\n  <button class="btn btn-link" ng-click="vm.refresh()" ng-disabled="vm.isLoading">\n    <i c8y-icon="refresh" ng-class="{\'fa-spin\': vm.isLoading}"></i>\n    {{\'Reload\' | translate}}\n  </button>\n</c8y-ui-action-bar-set>\n\n<c8y-ui-empty-state ng-show="vm.showEmptyState()" icon="vm.CONFIG.icon" title="\'No device protocols to display\' | translate" subtitle="\'Create your first device protocol by clicking below\' | translate">\n  <button class="btn btn-primary" ng-click="vm.add()">\n    <i c8y-icon="{{vm.CONFIG.icon}}"></i>\n    {{\'Add device protocol\' | translate}}\n  </button>\n\n</c8y-ui-empty-state>\n\n<c8y-device-protocol-list filter="vm.searchString">\n\n</c8y-device-protocol-list>\n',e.put("device-protocols/deviceProtocolView.html",n),e.put("core_device-protocols/deviceProtocolView.html",n),e.put("/apps/core/device-protocols/deviceProtocolView.html",n),n='<c8y-wizard on-dismiss="vm.modalInstance.dismiss()" on-close="vm.finishProcess(path)" initial-flow="[\'select\']">\n  <header>\n    <div style="font-size: 62px">\n      <span c8y-icon="{{vm.CONFIG.icon}}"></span>\n    </div>\n    <h4 class="text-uppercase" style="margin:0; letter-spacing: 0.15em" translate ng-hide="vm.customTitle">\n      Add new device protocol\n    </h4>\n    <h4 class="text-uppercase" style="margin:0; letter-spacing: 0.15em" ng-show="vm.customTitle">\n      {{vm.customTitle | translate}}\n    </h4>\n  </header>\n  <steps>\n    <!-- main page with device protocol selection type selection -->\n    <c8y-wizard-step step-id="select">\n      <c8y-device-protocol-select></c8y-device-protocol-select>\n    </c8y-wizard-step>\n\n    <c8y-wizard-step ng-repeat="step in vm.flow" step-id="{{step}}">\n      <c8y-ui-component component-name="step"></c8y-ui-component>\n    </c8y-wizard-step>\n\n    <c8y-wizard-step step-id="error">\n      <div class="alert alert-danger" style="margin:10px">\n        <span ng-show="vm.wizardCtrl.data.errorMsg">{{vm.wizardCtrl.data.errorMsg | translateServerMessage}}</span>\n        <span ng-hide="vm.wizardCtrl.data.errorMsg" translate>An error has occurred.</span>\n      </div>\n\n      <div class="c8y-wizard-footer">\n        <button class="btn btn-default" ng-show="vm.wizardCtrl.data.backStep !== undefined" ng-click="vm.wizardCtrl.goTo(vm.wizardCtrl.data.backStep);vm.wizardCtrl.data.backStep=undefined;" translate>Retry\n        </button>\n        <button class="btn btn-default" ng-click="vm.wizardCtrl.dismiss()" translate>Cancel\n        </button>\n      </div>\n\n    </c8y-wizard-step>\n  </steps>\n\n\n</c8y-wizard>\n',e.put("device-protocols/deviceProtocolWizard.html",n),e.put("core_device-protocols/deviceProtocolWizard.html",n),e.put("/apps/core/device-protocols/deviceProtocolWizard.html",n),n='<div class="form" ng-form="mappingForm">\n  <div class="legend form-block" translate>Functionalities</div>\n\n  <div class="list-group">\n    <div class="list-group-item">\n      <div class="flex-row">\n        <div class="list-item-switch">\n            <label class="c8y-switch">\n              <input type="checkbox" ng-model="vm.hasMeasurement" ng-change="vm.updateMeasurementKey(vm.hasMeasurement)">\n              <span></span>\n            </label>\n        </div>\n        <div class="list-item-icon">\n          <i c8y-icon="line-chart"></i>\n        </div>\n        <div class="list-item-title" translate>\n          Send measurement\n        </div>\n      </div>\n      <div uib-collapse="!vm.hasMeasurement">\n        <div class="tight-grid top-m" ng-if="vm.hasMeasurement">\n          <div class="col-md-3 col-sm-6">\n            <div class="form-group form-group-sm">\n              <label translate>Type</label>\n              <input name="measurementType" class="form-control" ng-model="vm.mapping.measurementCreation.type" placeholder="{{\'e.g.\' | translate}} c8y_Temperature" required ng-maxlength="100">\n              <c8y-error-feedback field="mappingForm.measurementType">\n              </c8y-error-feedback>\n            </div>\n          </div>\n          <div class="col-md-3 col-sm-6">\n            <div class="form-group form-group-sm">\n              <label translate>Series</label>\n              <input name="measurementSeries" class="form-control" ng-model="vm.mapping.measurementCreation.series" placeholder="{{\'e.g.\' | translate}} T" required ng-maxlength="100">\n              <c8y-error-feedback field="mappingForm.measurementSeries">\n              </c8y-error-feedback>\n            </div>\n          </div>\n          <div class="col-md-3 col-sm-6">\n            <div class="form-group form-group-sm">\n              <label translate>Unit</label>\n              <input name="measurementUnit" class="form-control" ng-model="vm.mapping.measurementCreation.unit" placeholder="{{\'e.g.\' | translate}} °C" required ng-maxlength="100">\n              <c8y-error-feedback field="mappingForm.measurementUnit">\n              </c8y-error-feedback>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="list-group-item">\n      <div class="flex-row">\n        <div class="list-item-switch">\n            <label class="c8y-switch">\n              <input type="checkbox" ng-model="vm.hasAlarm" ng-change="vm.updateAlarmKey(vm.hasAlarm)">\n              <span></span>\n            </label>\n        </div>\n        <div class="list-item-icon">\n          <i c8y-icon="bell"></i>\n        </div>\n        <div class="list-item-title" translate>\n          Create alarm\n        </div>\n      </div>\n      <div uib-collapse="!vm.hasAlarm">\n        <div class="tight-grid top-m" ng-if="vm.hasAlarm">\n          <div class="col-md-3 col-sm-6">\n            <div class="form-group form-group-sm">\n              <label translate>Severity</label>\n              <div class="c8y-select-wrapper">\n                <select required name="alarmSeverity" class="form-control" ng-model="vm.mapping.alarmCreation.severity" ng-options="alarmSeverity as (alarmSeverity | translate) for alarmSeverity in vm.alarmSeverities">\n                </select>\n                <span></span>\n              </div>\n              <c8y-error-feedback field="mappingForm.alarmSeverity">\n              </c8y-error-feedback>\n            </div>\n          </div>\n\n          <div class="col-md-3 col-sm-6">\n            <div class="form-group form-group-sm">\n              <label translate>Type</label>\n              <input name="alarmType" class="form-control" ng-model="vm.mapping.alarmCreation.type" placeholder="{{\'e.g.\' | translate}} c8y_HighTemperature" required ng-maxlength="100">\n              <c8y-error-feedback field="mappingForm.alarmType">\n              </c8y-error-feedback>\n            </div>\n          </div>\n\n          <div class="col-md-3 col-sm-6">\n            <div class="form-group form-group-sm">\n              <label translate>Status</label>\n              <div class="c8y-select-wrapper">\n                <select required name="alarmStatus" class="form-control" ng-model="vm.mapping.alarmCreation.status" ng-options="alarmStatus as (alarmStatus | translate) for alarmStatus in vm.alarmStatus">\n                </select>\n                <span></span>\n              </div>\n              <c8y-error-feedback field="mappingForm.alarmStatus">\n              </c8y-error-feedback>\n            </div>\n          </div>\n\n          <div class="col-md-3 col-sm-6">\n            <div class="form-group form-group-sm">\n              <label translate>Text</label>\n              <input name="alarmText" class="form-control" ng-model="vm.mapping.alarmCreation.text" placeholder="{{\'e.g. Temperature is high\' | translate}}" required ng-maxlength="100">\n              <c8y-error-feedback field="mappingForm.alarmText">\n              </c8y-error-feedback>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="list-group-item">\n      <div class="flex-row">\n        <div class="list-item-switch">\n            <label class="c8y-switch">\n              <input type="checkbox" ng-model="vm.hasEvent" ng-change="vm.updateEventKey(vm.hasEvent)">\n              <span></span>\n            </label>\n        </div>\n        <div class="list-item-icon">\n          <i c8y-icon="c8y-events"></i>\n        </div>\n        <div class="list-item-title" translate>\n          Send event\n        </div>\n      </div>\n      <div uib-collapse="!vm.hasEvent">\n        <div class="tight-grid top-m" ng-if="vm.hasEvent">\n\n          <div class="col-md-3 col-sm-6">\n            <div class="form-group form-group-sm">\n              <label translate>Type</label>\n              <input name="eventType" class="form-control" ng-model="vm.mapping.eventCreation.type" placeholder="{{\'e.g.\' | translate}} c8y_DoorStatus" required ng-maxlength="100">\n              <c8y-error-feedback field="mappingForm.eventType">\n              </c8y-error-feedback>\n            </div>\n          </div>\n\n          <div class="col-md-3 col-sm-6">\n            <div class="form-group form-group-sm">\n              <label translate>Text</label>\n              <input name="eventText" class="form-control" ng-model="vm.mapping.eventCreation.text" placeholder="{{\'e.g. Door status changed\' | translate}}" required ng-maxlength="100">\n              <c8y-error-feedback field="mappingForm.eventText">\n              </c8y-error-feedback>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n    <div class="list-group-item" ng-show="vm.customActions">\n      <div class="flex-row">\n        <div class="list-item-switch">\n            <label class="c8y-switch">\n              <input type="checkbox" ng-model="vm.hasCustomAction" ng-change="vm.updateCustomActionKey(vm.hasCustomAction)">\n              <span></span>\n            </label>\n        </div>\n        <div class="list-item-icon">\n          <i c8y-icon="wrench"></i>\n        </div>\n        <div class="list-item-title" translate>\n          Custom action\n        </div>\n      </div>\n      <div uib-collapse="!vm.hasCustomAction">\n        <div class="tight-grid top-m" ng-if="vm.hasCustomAction">\n          <div class="col-md-3 col-sm-6">\n            <div class="form-group form-group-sm">\n              <label translate>Action name</label>\n              <div class="c8y-select-wrapper">\n                <select required name="actionName" class="form-control" ng-model="vm.mapping.customAction.actionName" ng-options="action as action for action in vm.customActions">\n                </select>\n                <span></span>\n              </div>\n              <c8y-error-feedback field="mappingForm.actionName">\n              </c8y-error-feedback>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="list-group-item">\n      <div class="flex-row">\n        <div class="list-item-switch">\n            <label class="c8y-switch">\n              <input type="checkbox" ng-model="vm.mapping.observeParameters.autoObserve" ng-disabled="vm.autoObserveLocked">\n              <span></span>\n            </label>\n        </div>\n        <div class="list-item-icon">\n          <i c8y-icon="eye"></i>\n        </div>\n        <div class="list-item-title">\n          {{\'Auto observe\' | translate}}\n        </div>\n      </div>\n      <p ng-show="vm.autoObserveLocked" class="top-m-sm left-m-lg">\n        <i c8y-icon="info-circle" class="text-info"></i> <em><small class="text-muted" translate>At least one functionality must be set to enable auto observe.</small></em>\n      </p>\n\n      <div uib-collapse="!vm.autoObserveParams || !vm.mapping.observeParameters.autoObserve">\n        <div class="tight-grid top-m" ng-show="vm.mapping.observeParameters.autoObserve">\n          <div class="col-md-2 col-sm-4">\n            <div class="form-group form-group-sm" uib-tooltip="{{vm.helpTexts.minPeriod | translate}}">\n              <label translate>Minimum period</label>\n              <input placeholder="{{\'seconds\' | translate}}" name="observeMinPeriod" type="number" class="form-control" ng-model="vm.mapping.observeParameters.minPeriod">\n              <c8y-error-feedback field="mappingForm.observeMinPeriod">\n              </c8y-error-feedback>\n            </div>\n          </div>\n          <div class="col-md-2 col-sm-4">\n            <div class="form-group form-group-sm" uib-tooltip="{{vm.helpTexts.maxPeriod | translate}}">\n              <label translate>Maximum period</label>\n              <input placeholder="{{\'seconds\' | translate}}" name="observeMaxPeriod" type="number" class="form-control" ng-model="vm.mapping.observeParameters.maxPeriod">\n              <c8y-error-feedback field="mappingForm.observeMaxPeriod">\n              </c8y-error-feedback>\n            </div>\n          </div>\n\n          <div class="col-md-2 col-sm-4">\n            <div class="form-group form-group-sm" uib-tooltip="{{vm.helpTexts.lessThan | translate}}">\n              <label translate>Less than</label>\n              <input placeholder="{{\'seconds\' | translate}}" name="observeLessThan" type="number" class="form-control" ng-model="vm.mapping.observeParameters.lessThan">\n              <c8y-error-feedback field="mappingForm.observeLessThan">\n              </c8y-error-feedback>\n            </div>\n          </div>\n\n          <div class="col-md-2 col-sm-4">\n            <div class="form-group form-group-sm" uib-tooltip="{{vm.helpTexts.greaterThan | translate}}">\n              <label translate>Greater than</label>\n              <input placeholder="{{\'seconds\' | translate}}" name="observeGreaterThan" type="number" class="form-control" ng-model="vm.mapping.observeParameters.greaterThan">\n              <c8y-error-feedback field="mappingForm.observeGreaterThan">\n              </c8y-error-feedback>\n            </div>\n          </div>\n\n          <div class="col-md-2 col-sm-4">\n            <div class="form-group form-group-sm" uib-tooltip="{{vm.helpTexts.step | translate}}">\n              <label translate>Step</label>\n              <input placeholder="{{\'seconds\' | translate}}" name="observeStep" type="number" class="form-control" ng-model="vm.mapping.observeParameters.step">\n              <c8y-error-feedback field="mappingForm.observeStep">\n              </c8y-error-feedback>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',e.put("device-protocols/object-mapping.html",n),e.put("core_device-protocols/object-mapping.html",n),e.put("/apps/core/device-protocols/object-mapping.html",n)}angular.module("c8y.deviceProtocols").run(["$templateCache",e])}();