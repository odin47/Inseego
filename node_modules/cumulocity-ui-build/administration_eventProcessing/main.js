/* administration_eventProcessing 9.12.5 2018-08-27T16:53:21+00:00 b689bea882f7+ (release/9.12.0) tip */
!function(){"use strict";function e(e){var n={"/eventprocessing":{template:"<c8y-event-processing-rules-list />"},"/eventprocessing/new":{template:"<c8y-event-processing-rule-details />"},"/eventprocessing/:moduleId":{template:"<c8y-event-processing-rule-details />"}};_.forEach(n,function(n,t){e.when(t,n)})}function n(e,n,s){var i={parent:s("Business rules"),name:s("Event processing"),path:"eventprocessing",icon:"c8y-event-processing",priority:3e3};n.getPermissions().then(function(n){return t(e,i,n)})}function t(e,n,t){(t.canRead||t.canAdmin)&&e.addNavigation(n)}e.$inject=["c8yViewsProvider"],n.$inject=["c8yNavigator","eventProcessingSvc","gettext"],angular.module("c8y.eventProcessing",[]).config(e).run(n)}(),function(){"use strict";function e(e,n,t,s,i,l,a,r,o){function c(){P(l.redirectToRootIfPluginDisabled().then(u)),l.getPermissions().then(function(e){return _.assign(x,{permissions:e})})}function d(n){return e.modules||(e.modules=[]),n.forEach(function(n){e.modules.push(n)}),e.paging=n.paging,e.modules.length}function u(e){return t.listWithSmartRules(e).then(d)}function m(e){n.path("/eventprocessing/"+e.id)}function v(){n.path("/eventprocessing/new")}function g(e){return E[e.status].text}function p(e){return E[e.status].icon}function f(e){return E[e.status].cls}function h(n){s({title:a("Confirm delete?"),body:r.getString('Do you really want to remove the module "{{moduleName}}"?',{moduleName:n.name}),labels:{ok:a("Delete")},status:"danger"}).then(angular.bind(t,t.remove,n)).then(_.partial(_.pull,e.modules,n)).then(function(){P(o.when(e.modules.length))})}function b(){e.refreshLoading=!0,e.paging.refresh().then(function(n){return e.modules=null,e.refreshLoading=!1,n}).then(d)}function y(){e.paging.loading=!0,e.paging.next().then(d).finnally(function(){e.paging.loading=!1})}function P(e){var n=e.then(function(e){return{title:a("Event processing rules"),subtitle:_.isUndefined(e)?"":r.getPlural(e,"1 rule","{{$count}} rules",{})}});i.changeTitle(n)}var x=this,E={DEPLOYED:{text:a("Deployed"),icon:"check-circle",cls:"text-success"},NOT_DEPLOYED:{text:a("Not deployed"),icon:"exclamation-circle",cls:"text-warning"}};e.detail=m,e.add=v,e.onClickDelete=h,e.status=g,e.statusIcon=p,e.statusClass=f,e.refresh=b,e.loadNext=y,e.isSmartRuleModule=t.isSmartRuleModule,c()}e.$inject=["$scope","$location","c8yCepModule","c8yModal","c8yTitle","eventProcessingSvc","gettext","gettextCatalog","$q"],angular.module("c8y.eventProcessing").component("c8yEventProcessingRulesList",{templateUrl:"administration_eventProcessing/list/eventProcessingRulesList.html",controller:e,controllerAs:"vm"})}(),function(){"use strict";function e(e,n,t,s,i,l,a,r,o,c,d){function u(e){$=e,$.$blockScrolling=1/0}function m(){o.redirectToRootIfPluginDisabled().then(v),o.getPermissions().then(function(e){return _.assign(C,{permissions:e})})}function v(){N?i.detail(N).then(g):g({name:d.getString("newmodule"),status:"DEPLOYED"})}function g(e){C.module=e,C.moduleDeployed="DEPLOYED"===C.module.status,M=_.cloneDeep(e)}function p(e){C.module.status=e?"DEPLOYED":"NOT_DEPLOYED"}function f(e,n,t,s){var i=$.session.getAnnotations();i.push({row:e,column:n,text:t,type:s||"error"}),$.session.setAnnotations(i)}function h(){$.session.clearAnnotations()}function b(e){return L[e]["col-lg-12"]===!0}function y(e){_.forEach(L,function(e){e["col-lg-12"]=!1,e["col-lg-6"]=!1,e.hidden=!0}),L[e]["col-lg-12"]=!0,L[e].hidden=!1}function P(){_.forEach(L,function(e){e["col-lg-12"]=!1,e["col-lg-6"]=!0,e.hidden=!1})}function x(){return a.open({component:"c8yEventProcessingRulesExamples"}).result.then(E).then(R)}function E(e){var n=C.module.body;n=n?n+"\n\n":"",C.module.body=n+e.value}function R(){C.moduleForm.aceEditor.$setDirty()}function w(e,n){h(),i.save(e,{silentError:!0}).then(A).then(function(){r.success(d.getString('Module "{{name}}" has been saved successfully!',e)),n.$setPristine()}).catch(k)}function k(e){var n=_.get(e,"data",e),t=_.get(n,"message",""),s=_.get(t.match(/\[((\s|\S)+)\]/),1);if(s){var i=$.find(s,{wrap:!0,preventScroll:!0}),l=t.match(/at line (\d+) column (\d+)/),a={row:_.toNumber(_.get(l,1,1))-1,column:_.toNumber(_.get(l,2,0))},o={row:_.get(i,"start.row",0)+a.row,column:_.get(i,"start.column",0)+a.column};$&&($.gotoLine(o.row+1,o.column,!0),f(o.row,o.column,t,"error"))}else r.danger(t,n)}function A(e){N?v():n.path("eventprocessing/"+e.id)}function S(e){N?i.changeName(N,e).then(function(){r.success(d.getString('Module "{{name}}" has been renamed!',{name:e})),C.module.name=e,M.name=e}):(C.module.name=e,M.name=e)}function D(e,n){var t;return M.id&&!_.isEqual(M,C.module)&&(e.preventDefault(),t=l({title:c("Changes not saved"),body:c("Do you want to leave this page and discard the changes made?"),status:"warning",labels:{ok:c("Yes"),cancel:c("No")}}).then(function(){M=_.cloneDeep(C.module),s.location.href=n})),t}var M,$,C=this,N=t.moduleId,L={left:{"col-lg-12":!1,"col-lg-6":!0,hidden:!1},right:{"col-lg-12":!1,"col-lg-6":!0,hidden:!1}},T={height:"700px",width:"100%"},I={mode:"sql",useWrapMode:!0,showGutter:!0,onLoad:u};_.assign(C,{panelClasses:L,aceEditorStyles:T,aceEditorOptions:I,isSmartRuleModule:i.isSmartRuleModule,$onInit:m,onModuleDeployedChanged:p,expand:y,collapse:P,isExpanded:b,browseExamples:x,save:w,saveName:S}),e.$on("$locationChangeStart",D)}e.$inject=["$scope","$location","$routeParams","$window","c8yCepModule","c8yModal","$uibModal","c8yAlert","eventProcessingSvc","gettext","gettextCatalog"],angular.module("c8y.eventProcessing").component("c8yEventProcessingRuleDetails",{templateUrl:"administration_eventProcessing/details/eventProcessingRuleDetails.html",controller:e,controllerAs:"vm"})}(),function(){"use strict";function e(e){var n=this;_.assign(n,{RULES_LIST:"eventprocessing",isSmartRuleModule:e.isSmartRuleModule})}e.$inject=["c8yCepModule"],angular.module("c8y.eventProcessing").component("c8yEventProcessingRuleTitle",{templateUrl:"administration_eventProcessing/details/eventProcessingRuleTitle.html",bindings:{rule:"<",onSaveName:"&",ngDisabled:"="},controller:e,controllerAs:"vm"})}(),function(){"use strict";function e(e){function n(n){n.rule&&t.rule&&e.getAlarmListFilters(t.rule).then(function(e){t.alarmListFilters=e})}var t=this;_.assign(t,{$onChanges:n})}e.$inject=["eventProcessingSvc"],angular.module("c8y.eventProcessing").component("c8yEventProcessingRuleAlarms",{bindings:{rule:"<"},templateUrl:"administration_eventProcessing/details/eventProcessingRuleAlarms.html",controller:e,controllerAs:"vm"})}(),function(){"use strict";function e(e,n){function t(e){e.rule&&h.rule&&s(h.rule)}function s(n){if(o(),"DEPLOYED"===n.status){e.configure("debug");var t="/"+n.name+"/*";e.subscribe(t).then(a)}else l("notdeployed")}function i(e){var n=_.get(e,"channel");return _.last(n.split("/"))}function l(e){h.status=e}function a(e){if(y=e,!e.connected)var n=e.$on("connected",function(){l("connected"),n()});l(e.connected?"connected":"pending"),e.$on("message",r)}function r(e,n){n.id=parseInt(n.id,10),h.msgs.push(n)}function o(){y&&y.unsubscribe()}function c(e){return b[e]||{}}function d(e){return c(e).text}function u(e){return c(e).cls}function m(){h.msgs.length=0}function v(e){return P.indexOf(e)}function g(e){return v(e)>-1}function p(e){g(e)?P.splice(v(e),1):P.push(e)}function f(e){return e.data&&e.data.message&&e.data.message.indexOf("ReferenceError")!==-1}var h=this,b={connected:{text:n("Connected"),cls:"label-success"},pending:{text:n("Pending"),cls:"label-warning"},notdeployed:{text:n("Not deployed"),cls:"label-danger"}},y=null,P=[];_.assign(h,{$onChanges:t,$onDestroy:o,getStatementName:i,statusText:d,statusClass:u,clearAll:m,toggle:p,isOpen:g,isError:f}),h.msgs=[]}e.$inject=["c8yNotifications","gettext"],angular.module("c8y.eventProcessing").component("c8yEventProcessingRuleNotifications",{bindings:{rule:"<"},templateUrl:"administration_eventProcessing/details/eventProcessingRuleNotifications.html",controller:e,controllerAs:"vm"})}(),function(){"use strict";function e(e){function n(n){n.rule&&t.rule&&e.getModuleMetrics(t.rule).then(function(e){t.metrics=e})}var t=this;_.assign(t,{$onChanges:n})}e.$inject=["eventProcessingSvc"],angular.module("c8y.eventProcessing").component("c8yEventProcessingRuleMetrics",{bindings:{rule:"<"},templateUrl:"administration_eventProcessing/details/eventProcessingRuleMetrics.html",controller:e,controllerAs:"vm"})}(),function(){"use strict";function e(e,n){function t(e){return function(t){var s=_.toLower(e),i=_.toLower(n.getString(t.name)),l=_.toLower(t.value);return!s||_.includes(i,e)||_.includes(l,e)}}function s(e){c.example=e}function i(e){return c.example===e}function l(){r.modalInstance.close(c.example)}function a(){r.modalInstance.dismiss()}var r=this,o={mode:"sql",useWrapMode:!0},c={example:null};_.assign(r,{previewEditorOptions:o,examples:e,selection:c,filter:t,select:s,isSelected:i,append:l,cancel:a})}e.$inject=["c8yCepModuleExamples","gettextCatalog"],angular.module("c8y.eventProcessing").component("c8yEventProcessingRulesExamples",{bindings:{resolve:"<",modalInstance:"<"},templateUrl:"administration_eventProcessing/details/eventProcessingRulesExamples.html",controller:e,controllerAs:"vm"})}(),function(){"use strict";function e(e,n,t,s,i,l){function a(){return n.all({canRead:r(),canAdmin:o()})}function r(){var e={cepMicroserviceAvailable:i.shouldShowEventProcessing(),userCanRead:t.hasAnyRole(["ROLE_CEP_MANAGEMENT_READ"])};return n.all(e).then(function(e){return e.cepMicroserviceAvailable&&e.userCanRead})}function o(){var e={canRead:r(),userCanAdmin:t.hasAnyRole(["ROLE_CEP_MANAGEMENT_ADMIN"]),featureSubscribed:s.isAvailable({name:"feature-cep-custom-rules"})};return n.all(e).then(function(e){return e.canRead&&e.userCanAdmin&&e.featureSubscribed})}function c(){return r().then(d)}function d(t){return t?n.when(!0):(e.path("/"),n.reject())}function u(e){var n=_.get(e,"name"),t=n+":",s=void 0;return v().then(function(e){return s=e,s?l.getSupportedMeasurements(s):[]}).then(function(e){return _.compact(_.map(e,function(e){var n=void 0;return _.startsWith(e,t)&&(n={deviceId:s.id,fragment:e,statement:_.last(e.split(":"))}),n}))})}function m(e){var n=e.name+":";return v().then(function(e){return{source:e.id,orderMode:"ACTIVE_FIRST",displayFilter:function(e){return _.includes(e.type,n)}}})}function v(){return l.list({type:g}).then(_.first)}var g="c8y_CepAgent";return{getPermissions:a,redirectToRootIfPluginDisabled:c,getModuleMetrics:u,getAlarmListFilters:m}}e.$inject=["$location","$q","c8yPermissions","c8yApplication","c8yUiUtil","c8yInventory"],angular.module("c8y.eventProcessing").factory("eventProcessingSvc",e)}(),function(){"use strict";function e(e){var n;n='<div ng-if="vm.alarmListFilters">\r\n  <c8y-alarm-list filter="vm.alarmListFilters" unresolved="true" realtime="true" hide-header-actions="true">\r\n  </c8y-alarm-list>\r\n</div>\r\n',e.put("eventProcessing/details/eventProcessingRuleAlarms.html",n),e.put("administration_eventProcessing/details/eventProcessingRuleAlarms.html",n),e.put("/apps/administration/eventProcessing/details/eventProcessingRuleAlarms.html",n),n='<div>\n  <c8y-ui-title-set>\n    <c8y-event-processing-rule-title rule="vm.module" on-save-name="vm.saveName(name)" ng-disabled="!vm.permissions.canAdmin">\n    </c8y-event-processing-rule-title>\n  </c8y-ui-title-set>\n\n  <form name="vm.moduleForm" novalidate>\n    <div class="row">\n      <div ng-class="vm.panelClasses.left">\n        <div class="card">\n          <div class="card-header">\n\n            <div class="card-actions">\n              <button type="button" class="btn btn-link" ng-click="vm.browseExamples()" ng-disabled="!vm.permissions.canAdmin || vm.isSmartRuleModule(vm.module)">\n                <i c8y-icon="code"></i>\n                {{\'Examples\' | translate}}&hellip;\n              </button>\n              <button type="button" class="btn btn-link visible-lg-inline-block" ng-click="vm.expand(\'left\')" ng-if="!vm.isExpanded(\'left\')" title="{{\'Expand\' | translate}}">\n                <i c8y-icon="expand" class="text-muted"></i>\n              </button>\n              <button type="button" class="btn btn-link visible-lg-inline-block" ng-click="vm.collapse()" ng-if="vm.isExpanded(\'left\')" title="{{\'Collapse\' | translate}}">\n                <i c8y-icon="compress" class="text-muted"></i>\n              </button>\n            </div>\n            <h4 class="card-title">\n              <span>{{\'Source code\' | translate}}</span>\n              <br>\n              <small ng-if="vm.module.lastModified" translate>\n                Last edited: {{vm.module.lastModified | absoluteDate}}\n              </small>\n            </h4>\n          </div>\n          <hr>\n          <div name="aceEditor" ui-ace="vm.aceEditorOptions" ng-model="vm.module.body" ng-style="vm.aceEditorStyles" class="form-control" ng-readonly="!vm.permissions.canAdmin || vm.isSmartRuleModule(vm.module)" required>\n          </div>\n        </div>\n      </div>\n\n      <div ng-class="vm.panelClasses.right" ng-if="vm.module.id">\n        <div class="card" style="min-height: 750px">\n          <div class="card-header">\n            <h4 class="card-title">{{\'Debugging and monitoring\' | translate}}</h4>\n            <div class="card-actions">\n              <button type="button" class="btn btn-link visible-lg-inline-block" ng-click="vm.expand(\'right\')" ng-if="!vm.isExpanded(\'right\')" title="{{\'Expand\' | translate}}">\n                <i c8y-icon="expand" class="text-muted"></i>\n              </button>\n              <button type="button" class="btn btn-link visible-lg-inline-block" title="{{\'Collapse\' | translate}}" ng-click="vm.collapse()" ng-if="vm.isExpanded(\'right\')">\n                <i c8y-icon="compress" class="text-muted"></i>\n              </button>\n            </div>\n          </div>\n          <hr>\n          <div>\n            <uib-tabset justified="true">\n              <uib-tab>\n                <uib-tab-heading>\n                  <i c8y-icon="bell"></i>\n                  <span translate>Alarms</span>\n                </uib-tab-heading>\n                <div class="card-inner-scroll" style="max-height: 658px">\n                  <div class="card-block">\n                    <c8y-event-processing-rule-alarms rule="vm.module">\n                    </c8y-event-processing-rule-alarms>\n                  </div>\n                </div>\n              </uib-tab>\n              <uib-tab>\n                <uib-tab-heading>\n                  <i c8y-icon="rss"></i>\n                  <span translate>Notifications</span>\n                </uib-tab-heading>\n                <div class="card-inner-scroll" style="max-height: 658px">\n                  <div class="card-block">\n                    <c8y-event-processing-rule-notifications rule="vm.module">\n                    </c8y-event-processing-rule-notifications>\n                  </div>\n                </div>\n              </uib-tab>\n              <uib-tab>\n                <uib-tab-heading>\n                  <i c8y-icon="line-chart"></i>\n                  <span translate>Metrics</span>\n                </uib-tab-heading>\n                <div class="card-inner-scroll" style="max-height: 658px">\n                    <c8y-event-processing-rule-metrics rule="vm.module">\n                    </c8y-event-processing-rule-metrics>\n                </div>\n              </uib-tab>\n            </uib-tabset>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="form-inline">\n      <label translate>Status</label>\n      <div class="form-control-static">\n        <button type="button" class="btn btn-default" ng-model="vm.moduleDeployed" ng-disabled="!vm.permissions.canAdmin || vm.isSmartRuleModule(vm.module)" ng-change="vm.onModuleDeployedChanged(vm.moduleDeployed)" uib-btn-checkbox>\n          <span ng-if="vm.moduleDeployed">\n            <i c8y-icon="check-circle" class="text-success"></i>\n            <translate>Deployed</translate>\n          </span>\n          <span ng-if="!vm.moduleDeployed">\n            <i c8y-icon="minus-circle" class="text-warning"></i>\n            <translate>Not deployed</translate>\n          </span>\n        </button>\n      </div>\n    </div>\n    <div class="text-center page-footer">\n      <c8y-ui-button-footer changed="!vm.isSmartRuleModule(vm.module) && vm.moduleForm.$dirty">\n        <button type="submit" class="btn btn-primary" ng-click="vm.save(vm.module, vm.moduleForm)" ng-disabled="!vm.permissions.canAdmin || vm.isSmartRuleModule(vm.module) || vm.moduleForm.$invalid || vm.moduleForm.$pristine" translate>\n          Save\n        </button>\n      </c8y-ui-button-footer>\n    </div>\n  </form>\n</div>\n',e.put("eventProcessing/details/eventProcessingRuleDetails.html",n),e.put("administration_eventProcessing/details/eventProcessingRuleDetails.html",n),e.put("/apps/administration/eventProcessing/details/eventProcessingRuleDetails.html",n),n='<div class="card-block" ng-if="vm.metrics.length === 0 || !vm.metrics">\r\n    <p class="text-muted" translate>\r\n      No metrics available\r\n    </p>\r\n</div>\r\n<div class="card-block">\r\n  <div ng-if="vm.metrics.length > 0">\r\n    <div ng-repeat="metric in vm.metrics">\r\n      <div class="legend form-block center" ng-bind="metric.statement | humanize"></div>\r\n      <c8y-measurements-fragment-chart fragment="metric.fragment" device="metric.deviceId" date-to="metric.dateTo" date-from="metric.dateFrom" realtime="true">\r\n      </c8y-measurements-fragment-chart>\r\n    </div>\r\n  </div>\r\n</div>\r\n',e.put("eventProcessing/details/eventProcessingRuleMetrics.html",n),e.put("administration_eventProcessing/details/eventProcessingRuleMetrics.html",n),e.put("/apps/administration/eventProcessing/details/eventProcessingRuleMetrics.html",n),n='<div>\n  <div class="input-group">\n    <span class="input-group-addon">\n      <i c8y-icon="filter"></i>\n    </span>\n    <input type="search" class="form-control" placeholder="{{\'Filter notifications\' | translate}}&hellip;" ng-model="vm.notificationsFilter.text"/>\n    <span class="input-group-addon">\n      <span class="label" ng-class="vm.statusClass(vm.status)" style="margin-right:15px">\n        {{vm.statusText(vm.status) | translate}}\n      </span>\n    </span>\n    <span class="input-group-btn">\n      <button type="button" class="btn btn-default" ng-click="vm.clearAll()">\n        <i c8y-icon="times"></i>\n      </button>\n    </span>\n  </div>\n\n  <div class="card-block" ng-if="vm.msgs.length === 0">\n    <p class="text-muted" translate>\n      No notifications received yet\n    </p>\n  </div>\n\n  <div class="card-block" ng-if="vm.msgs.length > 0">\n    <table class="table">\n      <tr ng-repeat-start="msg in vm.msgs | filter:vm.notificationsFilter.text | orderBy:\'id\':true track by $index">\n        <td ng-class="{\'alert, alert-danger\': vm.isError(msg)}">\n          <span class="interact" ng-click="vm.toggle(msg)">\n            <b>\n              <span ng-if="vm.isError(msg)" translate>ERROR</span>\n              {{\'Statement\' | translate}}:\n            </b>\n            {{vm.getStatementName(msg)}}\n          </span>\n          <small class="text-muted">\n            {{\'ID\' | translate}}: {{msg.id}}\n          </small>\n        </td>\n      </tr>\n      <tr ng-repeat-end ng-if="vm.isOpen(msg)">\n        <td>\n          <h5>\n            <i c8y-icon="bars"></i> <translate>Details</translate>\n          </h5>\n          <pre><code ng-bind-html="msg.data | json"></code></pre>\n        </td>\n      </tr>\n    </table>\n  </div>\n</div>\n',e.put("eventProcessing/details/eventProcessingRuleNotifications.html",n),e.put("administration_eventProcessing/details/eventProcessingRuleNotifications.html",n),e.put("/apps/administration/eventProcessing/details/eventProcessingRuleNotifications.html",n),n='<div class="modal-header">\r\n  <h3 translate>Event processing rules examples</h3>\r\n</div>\r\n<div class="modal-body">\r\n  <form>\r\n    <div class="form-group">\r\n      <div class="input-group input-group-search">\r\n        <input type="search" class="form-control" placeholder="{{\'Search in examples\' | translate}}&hellip;" ng-model="vm.filterText">\r\n        <span class="input-group-addon">\r\n          <i c8y-icon="search" ng-show="vm.filterText.length === 0 || !vm.filterText "></i>\r\n          <i c8y-icon="times" class="text-muted" ng-show="vm.filterText.length > 0" ng-click="vm.filterText = \'\'"></i>\r\n        </span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="form-group">\r\n      <div class="legend form-block" translate>Examples</div>\r\n      <div class="list-group" style="height: 300px; overflow-y: auto">\r\n        <div ng-repeat="example in vm.examples | filter:vm.filter(vm.filterText)" class="list-group-item interact" ng-class="{\'active\': vm.isSelected(example)}" ng-click="vm.select(example)">\r\n          <div class="list-group-item-heading">\r\n            {{example.name | translate}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="form-group">\r\n      <div class="legend form-block" translate>Preview</div>\r\n      <div ui-ace="vm.previewEditorOptions" ng-model="vm.selection.example.value" style="height: 250px" readonly="readonly">\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n<div class="modal-footer">\r\n  <button type="button" class="btn btn-default" ng-click="vm.cancel()" translate>\r\n    Cancel\r\n  </button>\r\n  <button type="button" class="btn btn-primary" ng-click="vm.append()" ng-disabled="!vm.selection.example" translate>\r\n    Append\r\n  </button>\r\n</div>\r\n',e.put("eventProcessing/details/eventProcessingRulesExamples.html",n),e.put("administration_eventProcessing/details/eventProcessingRulesExamples.html",n),e.put("/apps/administration/eventProcessing/details/eventProcessingRulesExamples.html",n),n='\r\n\r\n  <h1 class="title" style="display: block">\r\n    <c8y-inplace-input value="vm.rule.name" on-save="vm.onSaveName({name: value})" data-disabled="vm.ngDisabled || vm.isSmartRuleModule(vm.rule)">\r\n      <edit>\r\n        <div class="form-group">\r\n          <input id="{{$parent.vm.id}}" name="value" type="text" class="form-control" ng-model="$parent.vm.value" placeholder="{{\'e.g. myModule01\' | translate}}" ng-pattern="/^[_A-Za-z][_A-Za-z0-9]*$/" ng-change="$parent.vm.onValueChange()" required>\r\n          <span class="text-sizer" ng-bind="$parent.vm.value"></span>\r\n          <c8y-error-feedback field="$parent.inplaceInputForm.value" check-on-dirty="true">\r\n            <span ng-message="pattern" translate>Only letters, digits and underscore allowed, must not start with a digit!</span>\r\n          </c8y-error-feedback>\r\n        </div>\r\n      </edit>\r\n    </c8y-inplace-input>\r\n  </h1>\r\n\r\n\r\n  <c8y-breadcrumbs-set>\r\n    <c8y-breadcrumbs-item path="#/{{vm.RULES_LIST}}" label="{{\'Event processing\' | translate}}" icon="c8y-event-processing"></c8y-breadcrumbs-item>\r\n  </c8y-breadcrumbs-set>\r\n',e.put("eventProcessing/details/eventProcessingRuleTitle.html",n),e.put("administration_eventProcessing/details/eventProcessingRuleTitle.html",n),e.put("/apps/administration/eventProcessing/details/eventProcessingRuleTitle.html",n),n='<c8y-ui-action-bar-set>\n  <a href="" class="btn btn-link" ng-click="add()" ng-disabled="!vm.permissions.canAdmin">\n    <i c8y-icon="plus-square"></i> <translate>New module</translate>\n  </a>\n\n  <c8y-refresh-btn></c8y-refresh-btn>\n</c8y-ui-action-bar-set>\n\n<div class="c8y-empty-state text-center" ng-show="modules.length === 0">\n  <h1 class="c8y-icon c8y-icon-event-processing c8y-icon-duocolor"></h1>\n  <h3 translate>No event processing modules found</h3>\n  <p translate>Add your first module by clicking below.</p>\n  <button class="btn btn-primary" ng-click="add()" translate>Add module</button>\n  <p class="top-m-xs" c8y-guide-docs><small translate>Find out more on the <a c8y-guide-href="users-guide/administration/#event-processing">User Guide</a>.</small></p>\n</div>\n\n<div class="list-group">\n  <div class="list-group-item" ng-repeat="module in modules | orderBy:\'name\'">\n    <div class="flex-row">\n      <div class="list-item-actions">\n        <div class="dropdown settings" is-open uib-dropdown dropdown-append-to-body>\n          <button class="dropdown-toggle c8y-dropdown btn-link" uib-dropdown-toggle aria-haspopup="true" aria-expanded="false">\n            <i c8y-icon="ellipsis-v"></i>\n          </button>\n          <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n            <li>\n              <a href="" class="" title="{{\'Edit\' | translate}}" ng-click="detail(module)">\n                <i c8y-icon="pencil"></i> <translate>Edit</translate>\n              </a>\n            </li>\n            <li ng-if="vm.permissions.canAdmin">\n              <a href="" class="" title="{{\'Remove\' | translate}}" ng-show="!isSmartRuleModule(module)" ng-click="onClickDelete(module)">\n                <i c8y-icon="times"></i> <translate>Remove</translate>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div class="list-item-icon">\n          <i c8y-icon="{{statusIcon(module)}}" uib-tooltip="{{status(module)}}" ng-class="statusClass(module)"></i>\n      </div>\n      <div class="list-item-body" title="{{\'Click to edit\' | translate}}" ng-click="detail(module)">\n        <div class="row">\n          <div class="col-sm-6">\n            <span>{{module.name}}</span>\n          </div>\n          <div class="col-sm-6 text-muted">\n            <i c8y-icon="calendar" uib-tooltip="{{\'Last edited\' | translate}}"></i>\n            <small>\n              {{module.lastModified|absoluteDate}}\n            </small>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<c8y-load-more></c8y-load-more>\n',e.put("eventProcessing/list/eventProcessingRulesList.html",n),e.put("administration_eventProcessing/list/eventProcessingRulesList.html",n),e.put("/apps/administration/eventProcessing/list/eventProcessingRulesList.html",n)}angular.module("c8y.eventProcessing").run(["$templateCache",e])}();