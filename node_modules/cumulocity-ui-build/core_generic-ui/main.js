/* core_generic-ui 9.12.5 2018-08-27T16:54:09+00:00 b689bea882f7+ (release/9.12.0) tip */
function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){"use strict";angular.module("c8y.genericUi",[])}(),function(){"use strict";function e(e,t,n,i,c,r,o,a){function s(){return I=c.list().then(function(e){return _.filter(e,"appliesTo.GENERIC_UI")})}function l(e){return(I||s()).then(function(t){return _.some(t,function(t){return d(e,t)})})}function u(e){return(I||s()).then(function(t){return _.some(t,function(t){return d(e,t).length})})}function p(e,t){return _.reduce(t,function(t,n){return t.concat(d(e,n))},[])}function d(e,t){var n=_.keys(e),i=_.get(t,$),c=[];if(void 0!==i){var r=new RegExp(i);c=n.filter(function(e){return r.test(e)}).map(function(e){return{key:e,schema:t}})}return c}function m(e,t,n){var i=_.assign({managedObject:t,object:_.get(t,n)});return v(e,i)}function g(e,t,n,i){return v(e,_.assign({managedObject:t,object:_.get(t,n.path),property:n.key},i))}function v(e,n){var i=e.replace(/\${([^}]+)}/g,"{{$1}}"),c=t(i);return c(n)}function h(e,t,n,i){var r=_.get(t,n),o=_.get(e,"id"),a=_.keys(r),s=c.getProperties(e);return i||(s=_.filter(s,function(e){var t=e.key;return _.includes(a,t)})),_.map(s,function(e){return _.assign({operationList:[],schemaId:o,path:n},e)})}function f(e){var t=function(e){return-(e.priority||0)},n=function(e){return _.lowerCase(a.getString(e.title)||e.key)};return _.sortBy(e,[t,n])}function y(t){var n=r.status,i=n.PENDING,c=n.EXECUTING,o=[i,c],a=1e3,s=function(e){return{deviceId:t,status:e,pageSize:a}};if(!M[t]){var l=o.map(s).map(r.list),u=M[t]=e.all(l).then(_.flatten);u.finally(function(){return _.unset(M,t)})}return M[t]}function b(e,t,n,i){var c=x(e,t,n,i);return r.createWithNotifications(c)}function x(e,t,n,i){var c=_.pick(n,["schemaId","path","key"]);return c.operation=t,_.assign({c8y_JsonSchemaContext:c,deviceId:i.id,deviceName:i.name,description:t},e)}function S(e){var t=o("Operation created successfully.");e.then(function(){return n.success(t)})}function k(e){var t=o('Operation "{{description}}" completed successfully.'),i=o('Operation "{{description}}" completed with failure.'),c=o('Operation "{{description}}" completed with failure: "{{failureReason}}".');e.then(function(e){e.status===r.status.SUCCESSFUL?n.success(a.getString(t,e)):e.failureReason?n.danger(a.getString(c,e),e):n.danger(a.getString(i,e))})}function C(e){var t=function(e){return _.keys(e).map(function(e){return e.toLowerCase()}).includes("readonly")};return _.some(e,function(e){return!t(e)&&"operations"!==e.type})}var O="c8y_JsonSchema",$=O+".fragmentType",M={},I=void 0;return{hasMatchingSchemas:u,getMatchingSchemas:l,matchObjectWithSchemas:p,listSchemas:s,replaceObjectPlaceholders:m,replaceOperationTemplatePlaceholders:g,getProperties:h,listPendingOperations:y,createOperation:b,sortProperties:f,alertOperationCreateSuccess:S,alertOperationComplete:k,showSave:C}}e.$inject=["$q","$interpolate","c8yAlert","c8yInventory","c8yJsonSchemas","c8yDeviceControl","gettext","gettextCatalog"],angular.module("c8y.genericUi").factory("c8yGenericUi",e)}(),function(){"use strict";function e(e,t){function n(){}function i(t){var n=t.path,i=_.assign({},t,{template:a,controllerAs:"vm",controller:c});e.when(n,i)}function c(e,t){var n="c8yConfigAudit",i=void 0;t.has(n)&&(i=t.get(n)),i&&(this.openAuditConfig=i.openModal),this.deviceId=e.deviceId}function r(){i({path:"/device/:deviceId",name:t("Objects"),icon:"c8y-modules",showIf:o})}function o(e,t,n){return t.detailCached(e.deviceId).then(function(e){return e.data}).then(function(e){return e[s]&&n.hasMatchingSchemas(e)})}c.$inject=["$routeParams","$injector"],o.$inject=["$routeParams","c8yInventory","c8yGenericUi"];var a='\n      <c8y-ui-action-bar-set ng-if="vm.openAuditConfig">\n        <button type="button" class="btn btn-link" ng-click="vm.openAuditConfig()">\n          <i c8y-icon="columns"></i> <translate>Audit config</translate>\n        </button>\n      </c8y-ui-action-bar-set>\n      <c8y-generic-ui-auto context="vm.deviceId"></c8y-generic-ui-auto>\n    ',s="c8y_GenericUi";return{$get:n,configView:i,configDefaultView:r}}e.$inject=["c8yViewsProvider","gettext"],angular.module("c8y.genericUi").provider("c8yGenericUiConfig",e)}(),function(){"use strict";function e(e,t,n){function i(){t.detail(c.context).then(n.getResData).then(function(e){return _.assign(c,{managedObject:e})}),e.listSchemas().then(function(e){return _.assign(c,{schemas:e})})}var c=this;_.assign(c,{$onChanges:i})}e.$inject=["c8yGenericUi","c8yInventory","c8yBase"],angular.module("c8y.genericUi").component("c8yGenericUiAuto",{templateUrl:"core_generic-ui/generic-ui-auto.html",controllerAs:"vm",controller:e,bindings:{context:"<"}})}(),function(){"use strict";function e(e,t,n,i){function c(e){m.selected=e}function r(e){return e===m.selected}function o(e){var t=_.get(e,"context.currentValue.id")!==_.get(e,"context.previousValue.id");(t||e.schemas)&&(u(),l())}function a(){d()}function s(e){var n=m.context,i=_.get(e.schema,"c8y_JsonSchema"),c=RegExp(v+"(\\d+)"),r=_.find(_.keys(e.schema),function(e){return c.test(e)}),o=_.trimStart(r,v),a=i.title+" /"+o+"/${object.instance}",s=t.replaceObjectPlaceholders(a,n,e.key);return _.assign({managedObject:n,title:s},e)}function l(){if(d(),_.get(m,"context.id")){var e=n.realtimeActions(),t=e.UPDATE,i="/managedobjects/"+m.context.id;n.addListener(g,i,t,function(e,t){return p(t)}),n.start(g,i),h.push(i)}}function u(){m.matches=t.matchObjectWithSchemas(m.context,m.schemas),m.objects=_.sortBy(m.matches.map(s),"title")}function p(e){var n=t.matchObjectWithSchemas(e,m.schemas),c=_.map(m.matches,"key"),r=_.map(n,"key"),o=_.difference(r,c).length||_.difference(c,r).length;o&&(m.context=i.updateManagedObject(m.context,e),u())}function d(){_.uniq(h).forEach(function(e){return n.destroySubscription(g,e)}),h=[]}var m=this,g=e.$id,v="c8y_GenericUI_Schema_",h=[];_.assign(m,{$onChanges:o,$onDestroy:a,select:c,isSelected:r})}e.$inject=["$scope","c8yGenericUi","c8yRealtime","c8yInventory"],angular.module("c8y.genericUi").component("c8yGenericUi",{templateUrl:"core_generic-ui/generic-ui.html",controllerAs:"vm",controller:e,bindings:{schemas:"<",context:"<"}})}(),function(){"use strict";function e(e,t,n,i,c,r){function o(e){if(g(),e.context){var t=_.get(e.context,"currentValue.id");v(e.context),s(t)}}function a(){l()}function s(e){if(l(),e){var t=i.realtimeActions(),n=t.UPDATE,c=t.CREATE,r="/operations/"+e,o="/managedobjects/"+e;i.addListener(S,r,n,function(e,t){return u(t)}),i.addListener(S,r,c,function(e,t){return u(t)}),i.addListener(S,o,n,function(e,t){return m(t)}),i.start(S,r),i.start(S,o),C=C.concat([r,o])}}function l(){_.uniq(C).forEach(function(e){return i.destroySubscription(S,e)}),C=[]}function u(e){var t=_.find(k.operations,_.pick(e,"id"));t?_.assign(t,e):(k.operations.push(e),p(e))}function p(e){var t=_.pick(e.c8y_JsonSchemaContext,["key","schemaId","path"]);if(t){var n=_.find(k.properties,function(e){var n=e.key,i=e.schemaId,c=e.path;return _.isEqual({key:n,schemaId:i,path:c},t)});n&&n.operationList.push(e)}}function d(){k.propertyContainsBasicOperations=_.find(k.properties,function(e){return"operations"===_.get(e,"key")}),k.mutatedProperties=_.filter(k.properties,function(e){return"operations"!==_.get(e,"key")})}function m(e){k.context=n.updateManagedObject(k.context,e),g()}function g(){var e=k.path,n=k.schema,i=k.context,c=k.includeUndefined,r=t.getProperties(n,i,e,c),o=_.map(k.properties,"key"),a=_.map(r,"key"),s=_.difference(a,o).length||_.difference(o,a).length;s&&(k.properties=t.sortProperties(r),k.showSave=t.showSave(k.properties)),d()}function v(e){var n=_.get(e,"previousValue.id"),i=_.get(e,"currentValue.id");n!==i&&(k.operations=[],t.listPendingOperations(i).then(function(e){return _.forEach(e,u)}))}function h(e,n,i){var c=k.context,r=k.schema;return t.createOperation(e,n,i,c,r).then(function(e){var n=e.created,i=e.completed;return t.alertOperationCreateSuccess(n),t.alertOperationComplete(i),n})}function f(){var e=_.pick(k.context,["id",k.path]);k.saving=!0,n.update(e).then(y).finally(function(){k.saving=!1})}function y(){e.MainForm.$setPristine();var t=r("Object successfully updated.");c.success(t)}function b(e,n){var i=k.propertyContainsBasicOperations.operations[e],c=_.pick(k.propertyContainsBasicOperations,["path","schemaId","key"]),r=JSON.parse(t.replaceOperationTemplatePlaceholders(i.template,k.context,c,n));h(r,i.name,c)}function x(e){var t="edit";switch(e){case 0:case 1:t="reply";break;case 2:t="plus-circle";break;case 3:t="trash";break;default:t="edit"}return t}var S=e.$id,k=this,C=[];_.assign(k,{$onChanges:o,$onDestroy:a,operations:[],propertyContainsBasicOperations:{},createOperation:h,save:f,execute:b,getIcon:x})}e.$inject=["$scope","c8yGenericUi","c8yInventory","c8yRealtime","c8yAlert","gettext"],angular.module("c8y.genericUi").component("c8yGenericUiInventory",{templateUrl:"core_generic-ui/generic-ui-inventory.html",controllerAs:"vm",controller:e,bindings:{path:"<",schema:"<",context:"<",includeUndefined:"<",title:"<",onlyBasicOperations:"<"}})}(),function(){"use strict";function e(e,t,n,i,c){function r(){h.model!==_.get(h.context,h.property.path)&&(h.model=_.get(h.context,h.property.path))}function o(){a(),s()}function a(){h.schema={type:"object",properties:_defineProperty({},h.property.key,h.property)},h.form=[{key:[h.property.key],notitle:!0,description:!1}]}function s(){h.inputValueSchema={type:"object",properties:{inputValue:h.property},required:["inputValue"]},h.inputValueForm=[{key:["inputValue"],title:c.getString("Input value"),description:!1,readonly:!1}],h.placeholders={inputValue:_.cloneDeep(_.get(h.context,h.property.path+"."+h.property.key))}}function l(e,t){var i=JSON.parse(n.replaceOperationTemplatePlaceholders(e.template,h.context,h.property,t));h.createOperation({operation:i,name:e.name})}function u(e){return _.includes(e.template,"${inputValue}")}function p(){return _.get(h.property,"operations.length",0)>0}function d(){return"operations"!==h.property.type}function m(e){return _.some(h.operations,function(t){return g(e.name,t)&&v(t)})}function g(e,t){return e===_.get(t,"c8y_JsonSchemaContext.operation")}function v(e){return _.includes(["PENDING","EXECUTING"],e.status)}var h=this,f="core_generic-ui/generic-ui-inventory-property-operation-popover.html";_.assign(h,{$doCheck:r,$onChanges:o,execute:l,operationPopoverTemplate:f,needsUserInput:u,noOperationsSupported:p,needsForm:d,isInProgress:m})}e.$inject=["$location","$uibModal","c8yGenericUi","gettext","gettextCatalog"],angular.module("c8y.genericUi").component("c8yGenericUiInventoryProperty",{bindings:{property:"<",context:"<",operations:"<",createOperation:"&"},templateUrl:"core_generic-ui/generic-ui-inventory-property.html",controller:e,controllerAs:"vm"})}(),function(){"use strict";function e(e,t,n,i){function c(){return l.operations?l.operations.length:0}function r(){var e=_.countBy(l.operations,"status"),t=_.reduce(e,function(e,t,n){var i=e,c=o(t,n);return i&&c&&(i+="<br>"),i+c},"");return t||i.getString("No recent operations")}function o(e,t){var n={PENDING:i.getPlural(e,"1 operation pending","{{$count}} operations pending",{}),EXECUTING:i.getPlural(e,"1 operation executing","{{$count}} operations executing",{}),FAILED:i.getPlural(e,"1 operation failed","{{$count}} operations failed",{}),SUCCESSFUL:i.getPlural(e,"1 operation successful","{{$count}} operations successful",{})};return e?n[t]:""}function a(){var e=_.countBy(l.operations,"status"),t=_.keys(e);return 0===t.length?"badge-light":1===t.length?u[t[0]]:_.includes(t,"EXECUTING")?u.EXECUTING:_.includes(t,"PENDING")?u.PENDING:"badge-warning"}function s(){return t.open({size:"md",component:"c8yUiOperationsTimelineModal",resolve:{title:function(){return{icon:"list",text:l.modalTitle}},timelineHeader:function(){return n("Recent operations")},operations:function(){return l.operations},extraButtons:function(){return[{label:n("View history"),action:function(){return e.path("/device/"+l.context.id+"/control")},cls:"btn-primary"}]}}}).result}var l=this,u={PENDING:"badge-info",EXECUTING:"badge-info",SUCCESSFUL:"badge-success",FAILED:"badge-danger"};_.assign(l,{getOperationsCount:c,getOperationsTooltip:r,getOperationsBadgeClass:a,openOperationsModal:s})}e.$inject=["$location","$uibModal","gettext","gettextCatalog"],angular.module("c8y.genericUi").component("c8yGenericUiOperationListButton",{templateUrl:"core_generic-ui/generic-ui-operation-list-button.html",controllerAs:"vm",controller:e,bindings:{operations:"<",modalTitle:"@"}})}(),function(){"use strict";function e(){return{id:String(Math.random()).substr(2),name:"Generic UI Testing Device A",com_cumulocity_model_Agent:{},c8y_IsDevice:{},"c8y_Lwm2m_3202!1":{5600:.2,5601:"hello world",5602:!0,operations:null,instance:1},"c8y_Lwm2m_3202!2":{5600:.4,5602:!1,instance:2},"c8y_Lwm2m_3202!3":{5600:2.323,5601:"hi there!d",instance:3}}}function t(e){return _.merge({appliesTo:{INVENTORY:!0},type:"c8y_JsonSchema",c8y_JsonSchema:{fragmentType:"c8y_Lwm2m_3202!(\\d+)",type:"object",title:"Analog Readings",titleDisplay:"Analog Readings: Instance ${object.instance}",properties:{5001:{title:"Some name",description:"Some string",type:"string",operations:[{name:"read",template:'{"c8yShell": "READ /3202/${obj.instance}/${property}"}'}]},5600:{title:"Analog Input Current Value",description:"The current value of the analog input.",operations:[{name:"write",template:'{"c8yShell": "WRITE /3202/${obj.instance}/${property} ${inputValue}"}'},{name:"read",template:'{"c8yShell": "READ /3202/${obj.instance}/${property}"}'}],minimum:0,maximum:1,type:"number",readOnly:!0},5602:{title:"Toggle property",description:"Toggle property",type:"boolean"},operations:{type:"operations",title:"Operations",priority:10,operations:[{name:"add instance",template:'{"c8yShell": "ADD INSTANCE 3202"}'},{name:"discover",template:'{"c8yShell": "DISCOVER 3202"}'}],readonly:"true"}}}},e)}angular.module("c8y.genericUi").constant("genericUiFakeMo",e).constant("genericUiFakeSchema",t)}(),function(){"use strict";angular.module("c8y.configAudit",[])}(),function(){"use strict";function e(e){function t(){return e.open({size:"lg",component:"c8yConfigAuditModal"})}return{openModal:t}}e.$inject=["$uibModal"],angular.module("c8y.configAudit").factory("c8yConfigAudit",e)}(),function(){"use strict";function e(e,t,n,i,c,r,o){function a(){s().then(l).then(u)}function s(){return i.detailCached(n.deviceId).then(o.getResData)}function l(e){d.deviceName=e.name,d.managedObject=e}function u(){d.title=t.getString("Audit config - device {{deviceName}}",d),d.subTitle=e("Audit current device by comparing to the selected reference device, sync checked properties to the reference device values")}function p(){var t={};d.syncing=!0;var n={type:"c8y_ConfigAuditSync",description:e("Audit config synchronization"),referenceDevice:d.referenceDevice.id,deviceId:d.managedObject.id,syncData:t};_.filter(d.selected,"schema").forEach(function(e){_.set(t,e.key,!0)}),_.filter(d.selected,"schemaMatchKey").forEach(function(e){var n=e.schemaMatchKey,i=e.key;"boolean"!=typeof t[n]&&t[n]||(t[n]={}),_.set(t,[n,i],!0)}),c.create(n).then(function(){return r.success(e("Synchronization operation created."))}).then(d.close).finally(function(){d.syncing=!1})}var d=this;_.assign(d,{$onInit:a,synchronize:p})}e.$inject=["gettext","gettextCatalog","$routeParams","c8yDevices","c8yDeviceControl","c8yAlert","c8yBase"],angular.module("c8y.configAudit").component("c8yConfigAuditModal",{templateUrl:"core_generic-ui/config-audit/config-audit-modal.html",controllerAs:"vm",controller:e,bindings:{resolve:"<",close:"&",dismiss:"&"}})}(),function(){"use strict";function e(e,t){function n(){e.listSchemas().then(c)}function i(e){e.context&&o.context&&r()}function c(e){o.schemas=e}function r(){var e=o.context,n=e.type,i=e.id;t.list({type:n}).then(function(e){o.referenceDevices=_.filter(e,function(e){var t=e.id;return t!==i})})}var o=this;_.assign(o,{$onInit:n,$onChanges:i})}e.$inject=["c8yGenericUi","c8yDevices"],angular.module("c8y.configAudit").component("c8yConfigAudit",{templateUrl:"core_generic-ui/config-audit/config-audit.html",controllerAs:"vm",controller:e,bindings:{context:"<",onSelected:"&",onReferenceDevice:"&"}})}(),function(){"use strict";function e(e){function t(e){(e.reference||e.schemas)&&x.reference&&x.schemas&&o(),e.selectAll&&m(x.selectAll)}function n(e,t){return _.get(x.reference,[e,t],"--")}function i(e,t){return _.get(x.context,[e,t],"--")}function c(e,t){return i(e,t)===n(e,t)}function r(e){return _.every(e.properties,function(t){return c(e.key,t.key)})}function o(){var t=e.matchObjectWithSchemas(x.reference,x.schemas),n=x.schemaMatches=_.sortBy(_.filter(t.map(s)),"title");x.onSchemaMatch({matches:n}),g()}function a(e){return!!_.get(x.context,e)}function s(t){var n=x.reference,i=t.key,c=_.get(t.schema,"c8y_JsonSchema"),r=_.reduce(c.properties,function(e,t,n){var c=!_.isUndefined(_.get(x.reference,[i,n]));if(!p(t)&&c){var r=_.clone(t);r.key=n,r.schemaMatchKey=i,e[n]=r}return e},{});if(!Object.keys(r).length)return null;var o=c.titleDisplay?e.replaceObjectPlaceholders(c.titleDisplay,n,t.key):c.title;return _.assign({title:o,properties:r,closed:!0},t)}function l(e){var t=e.properties;return!x.hideSynced||_.some(t,u)}function u(e){var t=e.schemaMatchKey,n=e.key;return!x.hideSynced||!c(t,n)}function p(e){var t=!0;if("operations"!==e.type){var n=function(e){return _.keys(e).map(function(e){return e.toLowerCase()}).includes("readonly")};if(t=n(e)){var i=_.map(e.operations,"name").map(function(e){return e.toLowerCase()});t=!_.includes(i,"write")}}return t}function d(){var e=[],t=x.schemaMatches;return _.forEach(t,function(t){var n=!0;_.forEach(t.properties,function(i){c(t.key,i.key)||(n&&(n=!1),e.push(i))}),n||e.push(t)}),e}function m(e){var t=d();e===!1&&_.some(t,function(e){return!e[S]})||(d().forEach(function(t){return _.set(t,S,e)}),g())}function g(){var e=d(),t=_.every(e,S),n=_.filter(e,S),i=_.difference(e,n);x.onSelect({allSelected:t,selected:n,notSelected:i})}function v(e){var t=function(e){var t=e.schemaMatchKey,n=e.key;return c(t,n)};return _.filter(e.properties,t).length}function h(e){var t=e.properties,n=Object.keys(t).length;return n-v(e)}function f(e){var t=e[S],n=_.filter(e.properties,function(e){return!c(e.schemaMatchKey,e.key)});_.forEach(n,function(e){return _.set(e,S,t)}),g()}function y(e){var t=e.schemaMatchKey,n=_.find(x.schemaMatches,function(e){return e.key===t}),i=_.filter(n.properties,function(e){return!c(e.schemaMatchKey,e.key)});n[S]=_.every(i,S),g()}function b(){return x.matches&&_.every(x.matches,l)}var x=this,S="selected";_.assign(x,{$onChanges:t,getValueReference:n,getValueContext:i,valuesMatch:c,allValuesMatch:r,fragmentExistsInContext:a,isPropertyVisible:u,isSchemaMatchVisible:l,countSyncedProperties:v,countUnsyncedProperties:h,updateSelectAll:g,onSelectChangeMatchSchema:f,onSelectChangeProperty:y,allSynced:b,SELECTED:S})}e.$inject=["c8yGenericUi"],angular.module("c8y.configAudit").component("c8yConfigAuditDiff",{templateUrl:"core_generic-ui/config-audit/config-audit-diff.html",controllerAs:"vm",controller:e,bindings:{context:"<",schemas:"<",reference:"<",onSchemaMatch:"&",hideSynced:"<",selectAll:"<",onSelect:"&"}})}(),function(){"use strict";function e(e){var t;t='<div class="modal-body" ng-show="vm.allSynced()">\n  <div class="card">\n    <div class="c8y-empty-state text-left">\n      <h3><i c8y-icon="check" class="text-success"></i></h3>\n      <p><strong translate>No unsynced properties found.</strong><br>\n        <span translate>Click on "Show synced properties" to display all properties.</span>\n      </p>\n    </div>\n  </div>\n</div>\n\n<div class="list-group">\n  <div class="list-group-item collapsible" ng-class="{\'expanded\': !schemaMatch.closed}" ng-repeat="schemaMatch in vm.schemaMatches | filter:vm.isSchemaMatchVisible">\n    <div class="flex-row" style="min-height: 32px">\n      <div class="list-item-actions right-m top-m-xs">\n        <button type="button" title="{{\'Expand\' | translate}}" class="collapse-btn" ng-class="{active: !schemaMatch.closed}" ng-click="schemaMatch.closed=!schemaMatch.closed">\n          <i c8y-icon="chevron-down"></i>\n        </button>\n\n        <label class="c8y-checkbox input-sm right-m-sm">\n          <input type="checkbox" id="audit-select-all" ng-model="schemaMatch[vm.SELECTED]" ng-disabled="vm.allValuesMatch(schemaMatch)" ng-change="vm.onSelectChangeMatchSchema(schemaMatch)">\n          <span></span>\n        </label>\n      </div>\n      <div class="list-item-icon text-gray-medium">\n        <i c8y-icon="c8y-modules"></i>\n      </div>\n      <div class="list-item-body tight-grid">\n        <p class="col-xs-8">{{schemaMatch.title}}</p>\n        <div class="col-xs-1">\n          <div class="badge badge-danger">{{vm.countUnsyncedProperties(schemaMatch)}}</div>\n          <div class="badge badge-success">{{vm.countSyncedProperties(schemaMatch)}}</div>\n        </div>\n      </div>\n    </div>\n    <div uib-collapse="schemaMatch.closed" class="top-m">\n      <div class="list-group bottom-m">\n        <div class="list-group-item bg-gray-lighter">\n          <div class="list-item-actions">\n            <label class="top-m-sm right-m-sm" style="margin-bottom:0" translate>Sync</label>\n          </div>\n          <div class="list-item-body">\n            <div class="flex-row tight-grid">\n              <div class="col-xs-4 col-sm-5">\n                <label style="margin-bottom:0" translate>Property</label>\n              </div>\n              <div class="col-xs-3 text-right">\n                <label style="margin-bottom:0" translate>Reference device</label>\n              </div>\n              <div class="col-xs-2 col-sm-1 text-center"></div>\n              <div class="col-xs-3">\n                <label style="margin-bottom:0" translate>Current device</label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="list-group-item" ng-repeat="property in schemaMatch.properties | filter:vm.isPropertyVisible">\n          <div class="list-item-actions right-m-xs">\n            <label class="c8y-checkbox input-sm right-m-sm">\n              <input type="checkbox" id="audit-select-all" ng-model="property[vm.SELECTED]" ng-change="vm.onSelectChangeProperty(property)" ng-disabled="vm.valuesMatch(schemaMatch.key, property.key)">\n              <span></span>\n            </label>\n          </div>\n          <div class="list-item-body">\n            <div class="flex-row tight-grid">\n              <div class="col-xs-4 col-sm-5">\n                <p class="text-truncate" title="{{::property.title}}">\n                  {{::property.title}}\n                </p>\n              </div>\n              <div class="col-xs-3">\n                <p class="text-right text-truncate" title="{{vm.getValueReference(property.schemaMatchKey, property.key)}}">{{vm.getValueReference(property.schemaMatchKey, property.key)}}</p>\n              </div>\n              <div class="col-xs-2 col-sm-1 text-center">\n                <div class="dot small" ng-class="vm.valuesMatch(property.schemaMatchKey, property.key) ? \'dot-success\' : \'dot-danger\'">\n                  {{vm.valuesMatch(property.schemaMatchKey, property.key) ? \'=\' : \'≠\'}}\n                </div>\n              </div>\n              <div class="col-xs-3">\n                <p class="text-truncate" title="{{vm.getValueContext(property.schemaMatchKey, property.key)}}">{{vm.getValueContext(property.schemaMatchKey, property.key)}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',e.put("generic-ui/config-audit/config-audit-diff.html",t),e.put("core_generic-ui/config-audit/config-audit-diff.html",t),e.put("/apps/core/generic-ui/config-audit/config-audit-diff.html",t),t='<div class="modal-header bg-primary">\n  <h3>{{vm.title | translate}}</h3>\n  <small>{{vm.subTitle | translate}}</small>\n</div>\n\n<c8y-config-audit context="vm.managedObject" on-reference-device="vm.referenceDevice = device" on-selected="vm.selected = selected;">\n</c8y-config-audit>\n\n<div class="modal-footer">\n  <button class="btn btn-default" ng-click="vm.dismiss()" translate>Cancel</button>\n  <button class="btn btn-primary" ng-click="vm.synchronize()" ng-disabled="!vm.selected.length || vm.syncing" translate>Sync selected properties</button>\n</div>\n',e.put("generic-ui/config-audit/config-audit-modal.html",t),e.put("core_generic-ui/config-audit/config-audit-modal.html",t),e.put("/apps/core/generic-ui/config-audit/config-audit-modal.html",t),t='<div class="modal-body" style="z-index: 20">\n\n  <div class="flex-row tight-grid">\n    <div class="col-xs-6">\n      <div class="flex-row">\n        <label class="flex-item-v-center right-m-xs" style="margin-bottom:0" translate>Reference device</label>\n        <ui-select class="flex-item-v-center" style="flex:1 0 auto; max-height: 34px" class="form-control" ng-model="vm.referenceDevice" on-select="vm.onReferenceDevice({device: $model})">\n          <ui-select-match placeholder="{{\'Select reference device\' | translate}}">{{$select.selected.name}}</ui-select-match>\n          <ui-select-choices repeat="device in vm.referenceDevices | filter: $select.search" position="down">\n            <div ng-bind-html="device.name | highlight: $select.search"></div>\n          </ui-select-choices>\n        </ui-select>\n      </div>\n    </div>\n\n    <div class="flex-item-v-center left-m-xs" style="flex: 1 0 auto">\n      <div class="flex-row">\n        <label ng-show="vm.haveMatches" class="c8y-switch flex-item-left" title="{{\'Show synced properties\' | translate}}">\n            <input id="audit-hide-synced" type="checkbox" ng-model="vm.showSyncedProperties">\n            <span></span>\n            <span translate>Show synced properties</span>\n          </label>\n\n        <div class="flex-item-right form-inline" ng-show="vm.haveMatches">\n          <label class="right-m-xs" style="margin-bottom: 0" for="audit-select-all" translate>Select all</label>\n          <label class="c8y-checkbox right-m-xs">\n              <input type="checkbox" id="audit-select-all" ng-model="vm.selectAll">\n              <span></span>\n            </label>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-inner-scroll" style="max-height: calc(100vh - 350px)">\n  <div class="modal-body" ng-hide="vm.referenceDevice">\n    <div class="card">\n      <div class="c8y-empty-state text-left">\n        <h1 c8y-icon="exchange"></h1>\n        <p><strong translate>No reference device selected</strong><br>\n          <span translate>Use the selector above to set the reference device</span>\n        </p>\n      </div>\n    </div>\n  </div>\n\n  <c8y-config-audit-diff schemas="vm.schemas" reference="vm.referenceDevice" context="vm.context" hide-synced="!vm.showSyncedProperties" select-all="vm.selectAll" on-select="vm.selectAll = allSelected; vm.onSelected({selected: selected})" on-schema-match="vm.haveMatches = !!matches.length">\n  </c8y-config-audit-diff>\n</div>\n',e.put("generic-ui/config-audit/config-audit.html",t),e.put("core_generic-ui/config-audit/config-audit.html",t),e.put("/apps/core/generic-ui/config-audit/config-audit.html",t),t='<c8y-generic-ui schemas="vm.schemas" context="vm.managedObject"></c8y-generic-ui>',e.put("generic-ui/generic-ui-auto.html",t),e.put("core_generic-ui/generic-ui-auto.html",t),e.put("/apps/core/generic-ui/generic-ui-auto.html",t),t='<ng-form name="inputValueForm">\r\n  <c8y-schema-form schema="vm.inputValueSchema" form="vm.inputValueForm" model="vm.placeholders" options="vm.options" class="form-group-sm">\r\n  </c8y-schema-form>\r\n\r\n  <button type="button" ng-disabled="inputValueForm.$invalid || vm.isInProgress(operation)" ng-click="vm.execute(operation, vm.placeholders); vm.popoverOpen = false;" class="btn btn-default btn-xs" translate>\r\n    Execute\r\n  </button>\r\n</ng-form>\r\n',e.put("generic-ui/generic-ui-inventory-property-operation-popover.html",t),e.put("core_generic-ui/generic-ui-inventory-property-operation-popover.html",t),e.put("/apps/core/generic-ui/generic-ui-inventory-property-operation-popover.html",t),t='<div class="form-group form-group-sm" style="margin-bottom:0">\n  <label>\n    {{vm.property.title}}\n    <a href="" class="btn-help" uib-popover="{{vm.property.description}}" popover-trigger="\'focus\'" popover-append-to-body="true" popver-placement="right">\n      <i ng-if="vm.property.description" c8y-icon="question-circle-o">\n      </i>\n    </a>\n  </label>\n\n  <div class="flex-row wrap">\n    <c8y-schema-form ng-if="vm.needsForm()" schema="vm.schema" form="vm.form" model="vm.model" options="vm.options" class="generic-ui right-m-xs bottom-m-sm">\n  </c8y-schema-form>\n    <span ng-repeat="operation in vm.property.operations" class="right-m-xs bottom-m-sm">\n      <button ng-if="!vm.needsUserInput(operation)" type="button" ng-disabled="vm.isInProgress(operation)" ng-click="vm.execute(operation)" ng-class="{\'btn-pending\': vm.isInProgress(operation)}" class="btn btn-default btn-xs" title="{{operation.name}}">\n        {{operation.name}}\n      </button>\n     <button ng-if="vm.needsUserInput(operation)" type="button" uib-popover-template="vm.operationPopoverTemplate" popover-placement="auto" popover-append-to-body="true" popover-trigger="\'click\'" popover-is-open="vm.popoverOpen" ng-disabled="vm.isInProgress(operation)" ng-class="{\'btn-pending\': vm.isInProgress(operation)}" class="btn btn-default btn-xs">\n        {{operation.name}}\n      </button>\n    </span>\n    <c8y-generic-ui-operation-list-button operations="vm.operations" modal-title="{{vm.property.title}}" class="flex-item-right bottom-m-sm">\n    </c8y-generic-ui-operation-list-button>\n  </div>\n</div>\n',e.put("generic-ui/generic-ui-inventory-property.html",t),e.put("core_generic-ui/generic-ui-inventory-property.html",t),e.put("/apps/core/generic-ui/generic-ui-inventory-property.html",t),t='<div ng-if="!vm.onlyBasicOperations">\n  <div class="card-header separator">\n    <h4>{{vm.title}}</h4>\n  </div>\n  <div class="inner-scroll" ng-form="MainForm">\n    <div class="list-group">\n      <c8y-generic-ui-inventory-property ng-repeat="property in vm.mutatedProperties" property="property" operations="property.operationList" context="vm.context" class="list-group-item" create-operation="vm.createOperation(operation, name, property)">\n      </c8y-generic-ui-inventory-property>\n    </div>\n  </div>\n  <div class="card-footer separator" ng-show="vm.showSave">\n    <button class="btn btn-primary" ng-disabled="MainForm.$invalid || MainForm.$pristine || vm.saving" ng-click="vm.save()" translate>Save</button>\n  </div>\n</div>\n\n<div ng-if="vm.onlyBasicOperations">\n  <c8y-generic-ui-operation-list-button ng-click="$event.stopPropagation()" operations="vm.propertyContainsBasicOperations.operationList" modal-title="{{vm.title}}">\n  </c8y-generic-ui-operation-list-button>\n\n  <div class="dropdown card-actions" style="top:0" uib-dropdown ng-click="$event.stopPropagation()" dropdown-append-to-body="true">\n    <button type="button" title="{{\'Settings\' | translate}}" class="dropdown-toggle c8y-dropdown" uib-dropdown-toggle>\n      <i c8y-icon="ellipsis-v"></i>\n    </button>\n    <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n      <li ng-repeat="basicOperation in vm.propertyContainsBasicOperations.operations">\n        <a href="" ng-click="vm.execute($index)">\n          <i c8y-icon="{{vm.getIcon($index)}}"></i>\n          {{basicOperation.name | translate}}\n        </a>\n      </li>\n    </ul>\n  </div>\n</div>',e.put("generic-ui/generic-ui-inventory.html",t),e.put("core_generic-ui/generic-ui-inventory.html",t),e.put("/apps/core/generic-ui/generic-ui-inventory.html",t),t='<button type="button" class="btn btn-xs btn-default flex-item-right" ng-if="vm.getOperationsCount()" ng-click="vm.openOperationsModal()">\n    <i c8y-icon="list"></i>\n    <span class="badge" uib-tooltip-html="vm.getOperationsTooltip()" tooltip-placement="left" ng-class="vm.getOperationsBadgeClass()">\n        {{vm.getOperationsCount()}}\n    </span>\n</button>',
e.put("generic-ui/generic-ui-operation-list-button.html",t),e.put("core_generic-ui/generic-ui-operation-list-button.html",t),e.put("/apps/core/generic-ui/generic-ui-operation-list-button.html",t),t='<div class="row split-scroll">\n  <div class="col-md-6 scroll-column">\n    <ul class="c8y-nav-stacked inner-scroll">\n\n      <li class="c8y-stacked-item removable" ng-repeat="object in vm.objects" ng-click="vm.select(object)" ng-class="{active: vm.isSelected(object)}">\n        <div class="flex-row">\n          <span class="text-truncate" title="{{object.title | translate}}">\n            <i c8y-icon="cube"></i> <span ng-bind="object.title | translate"></span>\n          </span>\n\n          <c8y-generic-ui-inventory path="object.key" data-title="object.title" schema="object.schema" context="object.managedObject" only-basic-operations="true" class="flex-item-right" style="margin-right: 24px"></c8y-generic-ui-inventory>\n        </div>\n      </li>\n    </ul>\n  </div>\n\n  <div class="col-md-6 scroll-column fadeOutDownBig fast" style="animation-fill-mode: forwards" ng-class="{\'fadeInDownBig animated\': vm.selected, \'fadeOutDownBig animated\': !vm.selected && vm.objects.length >= 0}">\n    <div class="card" style="margin-bottom:0">\n      <c8y-generic-ui-inventory path="vm.selected.key" data-title="vm.selected.title" schema="vm.selected.schema" context="vm.selected.managedObject">\n      </c8y-generic-ui-inventory>\n    </div>\n  </div>\n</div>',e.put("generic-ui/generic-ui.html",t),e.put("core_generic-ui/generic-ui.html",t),e.put("/apps/core/generic-ui/generic-ui.html",t)}angular.module("c8y.genericUi").run(["$templateCache",e])}();