/* core_enterpriseEdition 9.12.5 2018-08-27T16:54:04+00:00 b689bea882f7+ (release/9.12.0) tip */
!function(){"use strict";function t(t,e,n){function i(t){return t.isAvailable()}function a(t){return t.hasCustomLoadBalancer().then(function(t){return!t})}i.$inject=["c8yEnterpriseEditionAvailability"],a.$inject=["manageCertificateSvc"];var r=["ROLE_INVENTORY_ADMIN","ROLE_OPTION_MANAGEMENT_ADMIN","ROLE_APPLICATION_MANAGEMENT_ADMIN","ROLE_APPLICATION_MANAGEMENT_READ"];e.addNavigation({name:n("Enterprise edition"),parent:n("Settings"),icon:"pencil",priority:1e3,path:"enterprise",showIf:i,showIfPermissions:{allRoles:r}}),t.when("/enterprise",{template:"<c8y-branding-configuration-form></c8y-branding-configuration-form>",name:n("Branding"),icon:"paint-brush"}),t.when("/enterprise",{template:"<c8y-manage-certificate-form></c8y-manage-certificate-form>",name:n("Domain name"),icon:"certificate",showIf:a}),t.when("/enterprise",{template:'<c8y-platform-configuration-form options-groups="optionsGroups"></c8y-platform-configuration-form>',name:n("Configuration"),icon:"sliders",controller:["$scope",function(t){t.optionsGroups=["twoFactorAuthenticationOptions","supportLinkOptions","passwordResetOptions","emailServerOptions","dataExportOptions","storageLimitOptions","suspendingTenantsOptions"]}]})}t.$inject=["c8yViewsProvider","c8yNavigatorProvider","gettext"],angular.module("c8y.enterpriseEdition",[]).config(t)}(),function(){"use strict";function t(t){function e(){return t.areAllAvailable(n)}var n=[{name:"branding"},{name:"sslmanagement"},{name:"feature-user-hierarchy"},{name:"feature-broker"}];return{isAvailable:e}}t.$inject=["c8yApplication"],angular.module("c8y.enterpriseEdition").factory("c8yEnterpriseEditionAvailability",t)}(),function(){"use strict";function t(t){function e(e,i,a,r,o){function c(){var n=t("Hex, rgb or rgba value. Default: {{defaultColor}}");return e.when({type:"object",properties:{html_title:{title:a.getString("Title"),type:"string",description:a.getString("Title to be used in browser tab")},"brand-logo-img":{title:a.getString("Brand logo")+" *",type:"string",description:a.getString("Supported formats .png, .svg"),format:"file",required:!0,"x-schema-form":{type:"fileUpload"}},favicon:{title:a.getString("Favicon")+" *",type:"string",description:a.getString("Supported formats .ico"),format:"file",required:!0,"x-schema-form":{type:"fileUpload"}},"brand-logo-height":{title:a.getString("Brand logo height"),type:"number",minimum:0,description:a.getString("Height for setting the right proportion for the logo: width / height x 100")},appLogo:{title:a.getString("Navigator logo"),type:"string",description:a.getString("Supported formats .png, .svg"),format:"file","x-schema-form":{type:"fileUpload"}},"appLogo-height":{title:a.getString("Navigator logo height"),type:"number",minimum:0,description:a.getString("Height for setting the right proportion for the navigator logo: width / height x 100 - should be 230px wide")},"font-family-sans-serif":{title:a.getString("Base font stack"),type:"string","x-schema-form":{placeholder:a.getString('e.g. "Lato", Arial, Verdana, sans-serif')}},"headings-font-family":{title:a.getString("Headings font stack"),type:"string","x-schema-form":{placeholder:a.getString('e.g. "Lato", Arial, Verdana, sans-serif')}},"navigator-font-family":{title:a.getString("Navigator font stack"),type:"string","x-schema-form":{type:"radios",enum:["@font-family-sans-serif","@headings-font-family"],titleMap:[{value:"@font-family-sans-serif",name:a.getString("Same as base font")},{value:"@headings-font-family",name:a.getString("Same as headings font")}]}},"__import-font":{title:a.getString("Url"),description:a.getString("A link to existing remote fonts (e.g. google fonts)"),type:"string"},"brand-primary":{title:a.getString("Main brand color")+" *",type:"string",required:!0,description:a.getString("Hex, rgb or rgba value."),"x-schema-form":{placeholder:a.getString("e.g.: #27b3ce")}},"brand-complementary":{title:a.getString("Secondary brand color"),type:"string",description:a.getString(n,{defaultColor:s("brand-complementary")})},"gray-text":{title:a.getString("Text color"),type:"string",description:a.getString(n,{defaultColor:s("gray-text")})},"link-color":{title:a.getString("Link color"),type:"string",description:a.getString(n,{defaultColor:s("link-color")})},"body-background-color":{title:a.getString("Main background color"),type:"string",description:a.getString(n,{defaultColor:s("body-background-color")})},headerColor:{title:a.getString("Background color"),type:"string",description:a.getString(n,{defaultColor:s("headerColor")})},"header-text-color":{title:a.getString("Text color"),type:"string",description:a.getString(n,{defaultColor:s("header-text-color")})},"header-text-color-hover":{title:a.getString("Button hover text color"),type:"string",description:a.getString(n,{defaultColor:s("header-text-color-hover")})},navColor:{title:a.getString("Background color"),type:"string",description:a.getString(n,{defaultColor:s("navColor")})},navColorHeader:{title:a.getString("Logo wrapper background color"),type:"string",description:a.getString(n,{defaultColor:s("navColorHeader")})},"navigator-title-color":{title:a.getString("Title color"),type:"string",description:a.getString(n,{defaultColor:s("navigator-title-color")})},"navigator-text-color":{title:a.getString("Text and buttons color"),type:"string",description:a.getString(n,{defaultColor:s("navigator-text-color")})},"navigator-separator-color":{title:a.getString("Separator line color"),type:"string",description:a.getString(n,{defaultColor:s("navigator-separator-color")})},"navigator-active-color":{title:a.getString("Text color of current item in navigator"),type:"string",description:a.getString(n,{defaultColor:s("navigator-active-color")})},"navigator-active-bg":{title:a.getString("Background color of current item in navigator"),type:"string",description:a.getString(n,{defaultColor:s("navigator-active-bg")})},"btn-border-radius-base":{title:a.getString("Button border-radius"),type:"number",minimum:0,maximum:20,description:a.getString("Value in px")}}})}function s(t){var e={"brand-complementary":"#07b91A","gray-text":"#444","link-color":"main brand color","body-background-color":"#FAFAFA",headerColor:"#FFFFFF","header-text-color":"#49595B","header-text-color-hover":"main brand color",navColor:"#2c3637",navColorHeader:"transparent","navigator-title-color":"#FFFFFF","navigator-text-color":"#FAFAFA","navigator-separator-color":"#FAFAFA","navigator-active-color":"#FAFAFA","navigator-active-bg":"main brand color"};return e[t]}function l(){return e.when([_.map(p,d),_.map(u,d)])}function d(t){var e={type:"section"};return _.assign(e,t),e.items=_.map(e.items,function(t){return{key:[t]}}),e.title=a.getString(e.title),e}function g(){return i.hasAnyRole(["ROLE_OPTION_MANAGEMENT_ADMIN"]).then(function(t){return{formDefaults:{readonly:!t}}})}function m(){var t=c(),i=r.list({type:n});return e.all({schema:t,managedObjects:i}).then(function(t){var n=_.pick(t.managedObjects[0],["id","c8y_less_variables","binary_ref"]),i=[];return _.each(y,function(t){if(n.binary_ref&&n.binary_ref[t]){var e=r.detail(n.binary_ref[t]).then(function(e){n.c8y_less_variables[t]=e.data});i.push(e)}}),e.all(i).then(_.constant(n))})}function v(t,e){var i={type:n,c8y_less_variables:t.c8y_less_variables,binary_ref:t.binary_ref||{}};return e&&(i.id=e),r.save(i)}function f(t,n,i,a){if(_.isEqual(n,a))return e.when(a);var r={c8y_Branding:t,fileSrc:n.fileSrc};return o.upload(n,r).then(function(e){return i&&i[t]&&o.removeBinary(i[t]),e.data})}var y=["brand-logo-img","appLogo","favicon"];return{getSchema:c,getForm:l,getSchemaFormOptions:g,getBranding:m,saveConfiguration:v,saveBinary:f,BINARY_VARS:y}}e.$inject=["$q","c8yPermissions","gettextCatalog","c8yInventory","c8yBinary"];var n="brandingVariables",i={title:t("General"),items:["html_title"]},a={title:t("Main logo"),items:["favicon","brand-logo-img","brand-logo-height"]},r={title:t("Navigator logo"),items:["appLogo","appLogo-height"]},o={title:t("Type"),key:"font.options",items:["font-family-sans-serif","headings-font-family","navigator-font-family","__import-font"]},c={title:t("Colors"),items:["brand-primary","brand-complementary","gray-text","link-color","body-background-color"]},s={title:t("Top bar"),items:["headerColor","header-text-color","header-text-color-hover"]},l={title:t("Navigator"),items:["navColor","navColorHeader","navigator-title-color","navigator-text-color","navigator-separator-color","navigator-active-color","navigator-active-bg"]},d={title:t("Misc"),items:["btn-border-radius-base"]},p=[i,a,r,o,c],u=[s,l,d];return{$get:e}}t.$inject=["gettext"],angular.module("c8y.enterpriseEdition").provider("c8yBrandingConfigurationUi",t)}(),function(){"use strict";function t(t,e,n,i,a,r,o,c,s){function l(){return d(c("Enterprise edition")),m(),p()}function d(t){t&&s.changeTitle({title:t})}function p(){return y.isLoading=!0,e.all({schema:a.getSchema(),form:a.getForm(),options:a.getSchemaFormOptions(),branding:a.getBranding()}).then(function(t){_.defaults(t.branding,{c8y_less_variables:{}}),b=_.cloneDeep(t.branding),_.assign(y,t)}).finally(function(){y.isLoading=!1})}function u(){var e=_.get(t,"platformConfigurationForm1.$invalid")||_.get(t,"platformConfigurationForm2.$invalid");return!e}function g(){var t=[],n=a.BINARY_VARS;return y.branding.binary_ref={},_.each(n,function(e){if(y.branding.c8y_less_variables[e]){var n=a.saveBinary(e,y.branding.c8y_less_variables[e],b.binary_ref,b.c8y_less_variables[e]).then(function(t){y.branding.binary_ref[e]=_.pick(t,["id","name"])});t.push(n)}}),e.all(t).then(function(){return y.branding.c8y_less_variables=_.omitBy(y.branding.c8y_less_variables,function(t,e){return""===_.trim(t)||_.includes(n,e)}),a.saveConfiguration(y.branding,b.id).then(_.partial(_.unary(o.success),c("Branding saved successfully!")))}).then(i.reload)}function m(){return r.state().then(v)}function v(t){var e=y.state;y.state=t,e&&e.RUNNING&&!t.RUNNING&&o.success(c("Branded applications creation process completed.")),e&&e.WAITING&&t.RUNNING&&o.success(c("Branded applications creation process started.")),(t.RUNNING||t.WAITING)&&n(m,2e3)}function f(){var t=y.state;return!_.get(y,"branding.id")||_.get(t,"RUNNING")||_.get(t,"WAITING")}var y=this,b=void 0;_.assign(y,{$onInit:l,canSave:u,save:g,generate:r.wizardGenerate,preview:r.wizardPreview,blocked:f})}t.$inject=["$scope","$q","$timeout","$route","c8yBrandingConfigurationUi","c8yBrandingConfiguration","c8yAlert","gettext","c8yTitle"],angular.module("c8y.enterpriseEdition").component("c8yBrandingConfigurationForm",{templateUrl:"core_enterpriseEdition/customBranding/brandingConfigurationForm.html",controller:t,controllerAs:"vm"})}(),function(){"use strict";function t(t,e,n){function i(){var n={headers:p};return t.post(d+"update",n).then(e.getResData)}function a(){var n={headers:p};return t.post(d+"preview",n).then(e.getResData)}function r(){var n={headers:p,silentError:!0};return t.get(d+"state",{},n).then(e.getResData)}function o(){return s({process:_.constant("generate")})}function c(){return s({process:_.constant("preview")})}function s(t){return n.open({component:"c8yBrandingProcessExecution",backdrop:"static",keyboard:!1,resolve:t}).result}var l="branding",d=e.url("service/"+l+"/"),p={"Content-Type":"application/json"};return{update:i,preview:a,state:r,wizardPreview:c,wizardGenerate:o}}t.$inject=["$http","c8yBase","c8yWizardModal"],angular.module("c8y.enterpriseEdition").factory("c8yBrandingConfiguration",t)}(),function(){"use strict";function t(t,e,n,i,a,r,o){function c(){var t=_.get(b,"resolve.process"),e=C[t];e&&(_.assign(b,_.pick(e,["title","lastStep","flow","expectedDuration"])),e.init&&e.init()),m()}function s(){v(),a.preview().then(p)}function l(){h.goTo("waiting"),a.update().then(p)}function d(){return a.state().then(p)}function p(t){var n=b.state;b.state=t,n&&n.RUNNING&&!t.RUNNING&&g(!0),n&&n.WAITING&&t.RUNNING&&(h.goTo("executing"),u(b.expectedDuration)),(t.RUNNING||t.WAITING)&&e(d,1e3)}function u(t){var e=10*t;b.progress=0,b.fakeProgress=n(function(){b.progress+=1},e,100)}function g(t){t&&(b.progress=100),n.cancel(b.fakeProgress),e(function(){return h.goTo(b.lastStep)},300)}function m(){r.list().then(function(t){return _.filter(t,function(t){return"MARKET"===t.availability&&"management"===t.owner.tenant.id&&"HOSTED"===t.type&&t.manifest._webpaas===!0})}).then(function(t){b.applications=t})}function v(){o.current().then(function(t){b.tenant=t.name})}function f(t){h=t}function y(){n.cancel(b.fakeProgress)}var b=this,h=void 0,C={generate:{title:i("Create applications"),flow:["beforeGenerate"],lastStep:"generateComplete",expectedDuration:120},preview:{title:i("Preview branding"),lastStep:"selectPreviewApp",init:s,flow:["waiting"],expectedDuration:15}};_.assign(b,{$onInit:c,generate:l,setWizardController:f,$onDestroy:y})}t.$inject=["$scope","$timeout","$interval","gettext","c8yBrandingConfiguration","c8yApplication","c8yTenant"],angular.module("c8y.enterpriseEdition").component("c8yBrandingProcessExecution",{templateUrl:"core_enterpriseEdition/customBranding/brandingProcessExecution.html",controllerAs:"vm",controller:t,bindings:{modalInstance:"<",resolve:"<"}})}(),function(){"use strict";function t(t,e,n,i,a,r,o,c){function s(){d(e("Enterprise edition")),l(),p(),r.hasCustomLoadBalancer().then(function(t){w.customLoadBalancerOff=!t})}function l(){return o.current().then(function(t){var e=t.domainName;w.domainName=e})}function d(e){e&&t.changeTitle({title:e})}function p(){r.getCertificate().then(u).then(m)}function u(t){return _.get(t,"error")||!t?void(w.certificate=void 0):(w.certificate=_.pick(t,["cn","activated","licensePresent"]),w.certificate.serialNumber=_.get(t,"serialNumber").replace(/(.{2})/g,"$1 "),w.certificate.validFrom=v(_.get(t,"validFrom")),w.certificate.validTo=v(_.get(t,"validTo")),void(w.newDomainName=g(_.get(w,"certificate.cn"))))}function g(t){var n=/^\*./;return t&&n.test(t)?(w.validWildcard=!0,_.replace(t,"*",S)):(i.add({text:e("Replace certificate please. Make sure that you upload a valid SSL wildcard certificate with proper common name. Activation for this certificate is disabled."),type:"danger"}),w.validWildcard=!1,t)}function m(){w.certificate&&r.getDnsEntry().then(function(t){w.dnsEntry=t})}function v(t){return moment({y:t.year,M:t.monthOfYear,d:t.dayOfMonth,h:t.hourOfDay,m:t.minuteOfHour}).format("lll")}function f(){return c.open({component:"c8yCertificateActivation"})}function y(){return c.open({component:"c8yCertificateDeactivation"})}function b(){var t={title:e("SSL certificate upload"),templateUrl:"core_enterpriseEdition/sslCertificate/certificateUpload.html",scope:a};return n(t)}function h(){var t={title:e("Confirm delete?"),status:"danger",labels:{ok:e("Delete")}};return n(t).then(r.deleteCertificate).then(function(){i.success(e("Certificate has been deleted!")),u()})}function C(t,e){r.saveCertificate(t,w.certificate).then(e.$dismiss).then(p)}var w=this,S="https://management";_.assign(w,{showUploadModal:b,saveCertificate:C,deleteCertificate:h,activateCertificate:f,deactivateCertificate:y,$onInit:s,validWildcard:!0})}t.$inject=["c8yTitle","gettext","c8yModal","c8yAlert","$scope","manageCertificateSvc","c8yTenant","$uibModal"],angular.module("c8y.enterpriseEdition").component("c8yManageCertificateForm",{templateUrl:"core_enterpriseEdition/sslCertificate/manageCertificateForm.html",controller:t,controllerAs:"vm"})}(),function(){"use strict";function t(t,e,n){function i(t,e){return _.get(e,"activated")?r(t):a(t)}function a(t){var e={url:u+"/",method:"POST",headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},file:t};return n.upload(e)}function r(t){var e={url:u+"/",method:"PUT",headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},file:t};return n.upload(e)}function o(){var n={url:u+"/meta",method:"GET",silentError:!0};return t(n).then(e.getResData)}function c(){var n={url:u+"/activate",method:"PUT",silentError:!0};return t(n).then(e.getResData)}function s(){var n=u+"/deactivate";return t.put(n).then(e.getResData)}function l(){return t.delete(u+"/")}function d(){return t.get(u+"/customloadbalancer",{cache:!0,silentError:!0}).then(function(t){var e=t.data;return e}).catch(_.constant(!1))}function p(){var n={url:u+"/dnsentry",method:"GET",silentError:!0,headers:{Accept:"text/plain"}};return t(n).then(e.getResData)}var u=e.url("service/sslmanagement");return{getCertificate:o,activateCertificate:c,deactivateCertificate:s,deleteCertificate:l,saveCertificate:i,hasCustomLoadBalancer:d,getDnsEntry:p}}t.$inject=["$http","c8yBase","$upload"],angular.module("c8y.enterpriseEdition").factory("manageCertificateSvc",t)}(),function(){"use strict";function t(t,e,n){function i(){var e=[{title:t("Checking that SSL certificate is valid."),exception:"com.cumulocity.server.exception.SslTimeInvalidException"},{title:t("Checking that domain name is available."),exception:"com.cumulocity.server.exception.CertificateAlreadyInUseException"},{title:t("Checking that DNS is correctly set up."),exception:"com.cumulocity.server.exception.ApiUnavailableException"},{title:t("Deploying certificate."),exception:"com.cumulocity.server.exception.PlatformBadResponseException"}];return e}function a(){c.activationStarted=!0,n.activateCertificate().then(r).catch(o)}function r(e){c.activationSuccess=t("Certificate is deployed."),c.redirectUrl=_.get(e,"redirectUrl"),_.forEach(c.activationSteps,function(t){t.status="completed"})}function o(t){c.activationException=_.get(e.getResData(t),"message");var n=_.get(e.getResData(t),"details.expectionClass"),i=_.some(c.activationSteps,{exception:n});if(i){var a=!1;_.forEach(c.activationSteps,function(t){var e=a||t.exception===n;a=a||e,t.status=e?"failure":"completed"})}}var c=this;_.assign(c,{title:t("Custom domain activation"),startActivation:a,activationStarted:!1,activationSteps:i()})}t.$inject=["gettext","c8yBase","manageCertificateSvc"],angular.module("c8y.enterpriseEdition").component("c8yCertificateActivation",{templateUrl:"core_enterpriseEdition/sslCertificate/certificateActivation.html",bindings:{domainName:"<",modalInstance:"<"},controller:t,controllerAs:"vm"})}(),function(){"use strict";function t(t,e){function n(){i.deactivationStarted=!0,e.deactivateCertificate().then(function(t){i.redirectUrl=_.get(t,"redirectUrl")}).catch(i.modalInstance.close)}var i=this;_.assign(i,{title:t("Certificate deactivation"),deactivateCertificate:n,deactivationStarted:!1})}t.$inject=["gettext","manageCertificateSvc"],angular.module("c8y.enterpriseEdition").component("c8yCertificateDeactivation",{templateUrl:"core_enterpriseEdition/sslCertificate/certificateDeactivation.html",bindings:{modalInstance:"<"},controller:t,controllerAs:"vm"})}(),function(){"use strict";function t(t,e){function n(t){_.get(t,"redirectUrl.currentValue")&&i()}function i(){r.countDown=5,o=e(function(){return r.countDown--},1e3,r.countDown).then(function(){t.location.href=r.redirectUrl})}function a(){e.cancel(o)}var r=this,o=void 0;_.assign(r,{$onChanges:n,$onDestroy:a})}t.$inject=["$window","$interval"],angular.module("c8y.enterpriseEdition").component("c8yCountDownRedirect",{templateUrl:"core_enterpriseEdition/sslCertificate/countDownRedirect.html",bindings:{redirectUrl:"<"},controller:t,controllerAs:"vm"})}(),function(){"use strict";function t(t){var e;e='<c8y-ui-action-bar-set>\n    <li ng-show="vm.state.WAITING || vm.state.RUNNING">\n      <i c8y-icon="spinner" class="fa-pulse"></i>\n      <span translate ng-show="vm.state.WAITING">Waiting in queue</span>\n      <span translate ng-show="vm.state.RUNNING">Executing. Takes about 2 minutes</span>\n    </li>\n\n    <button title="{{\'Create branded built-in apps\' | translate}}" class="btn btn-link" ng-click="vm.generate()" ng-disabled="vm.blocked()">\n      <i c8y-icon="bolt"></i> <translate>Create</translate>\n    </button>\n\n    <button title="{{\'Create branded built-in apps\' | translate}}" class="btn btn-link" ng-click="vm.preview()" ng-disabled="vm.blocked()">\n      <i c8y-icon="eye"></i> <translate>Preview</translate>\n    </button>\n</c8y-ui-action-bar-set>\n\n<div ng-form="wrapperform">\n\n  <div class="card">\n    <div class="card-block">\n      <div class="spinner" ng-show="vm.isLoading" style="position: static">\n        <div class="rect1"></div>\n        <div class="rect2"></div>\n        <div class="rect3"></div>\n        <div class="rect4"></div>\n        <div class="rect5"></div>\n      </div>\n      <form name="platformConfigurationForm1" novalidate>\n        <c8y-schema-form schema="vm.schema" form="vm.form[0]" model="vm.branding.c8y_less_variables" options="vm.options">\n        </c8y-schema-form>\n      </form>\n\n      <form name="platformConfigurationForm2" novalidate>\n        <c8y-schema-form schema="vm.schema" form="vm.form[1]" model="vm.branding.c8y_less_variables" options="vm.options">\n        </c8y-schema-form>\n      </form>\n    </div>\n\n    <div class="page-footer text-center" ng-hide="vm.isLoading">\n      <c8y-ui-button-footer changed="wrapperform.$dirty">\n        <button class="btn btn-primary btn-lg btn-wide" type="button" ng-click="vm.save()" ng-disabled="!vm.canSave() || !wrapperform.$dirty" translate>\n          Save\n        </button>\n      </c8y-ui-button-footer>\n    </div>\n  </div>\n</div>\n',t.put("enterpriseEdition/customBranding/brandingConfigurationForm.html",e),t.put("core_enterpriseEdition/customBranding/brandingConfigurationForm.html",e),t.put("/apps/core/enterpriseEdition/customBranding/brandingConfigurationForm.html",e),e='<c8y-wizard on-dismiss="vm.modalInstance.dismiss()" on-close="vm.finishProcess(path)" get-controller="vm.setWizardController(controller)" initial-flow="vm.flow">\n\n  <header>\n    <div style="font-size: 62px">\n      <span c8y-icon="paint-brush"></span>\n    </div>\n    <h4 class="text-uppercase" style="margin:0; letter-spacing: 0.15em">\n      {{vm.title | translate}}\n    </h4>\n  </header>\n\n<steps>\n\n  <c8y-wizard-step step-id="waiting">\n      <div style="font-size:6em; padding:20px;opacity:0.5" class="text-center">\n        <span c8y-icon="spinner" class="fa-pulse"></span>\n      </div>\n  </c8y-wizard-step>\n\n  <c8y-wizard-step step-id="executing">\n      <div style="padding:30px 20px">\n        <p class="text-center">\n          <strong translate>Process is being executed</strong>\n        </p>\n        <div class="progress">\n          <div class="progress-bar progress-bar-info active progress-bar-striped" role="progressbar" aria-valuenow="{{vm.progress}}" aria-valuemin="0" aria-valuemax="100" style="min-with: 2em" ng-style="{width: vm.progress + \'%\'}">\n          <span>{{vm.progress|number:0}}%</span>\n          </div>\n       </div>\n     </div>\n  </c8y-wizard-step>\n\n  <c8y-wizard-step step-id="selectPreviewApp">\n\n    <p class="text-center" style="padding:10px" translate>\n      Select the application you would like to preview\n    </p>\n\n    <div class="c8y-wizard-list-nav">\n      <a class="list-group-item text-truncate" target="_new" ng-repeat="app in vm.applications" ng-href="/apps/{{app.contextPath}}?preview=branding_{{vm.tenant}}Branding">\n        <c8y-app-icon app="app" class="app-icon"></c8y-app-icon>\n        <span ng-bind="app | humanizeAppName"></span>\n      </a>\n    </div>\n\n    <div class="c8y-wizard-footer">\n      <button class="btn btn-default" ng-click="vm.modalInstance.dismiss()" translate>Close</button>\n    </div>\n  </c8y-wizard-step>\n\n  <c8y-wizard-step step-id="beforeGenerate">\n    <p class="text-center" style="padding:10px" translate>\n       You are about to create branded versions of built-in applications.\n       This process takes up to 2 minutes.\n    </p>\n    <div class="c8y-wizard-footer">\n      <button class="btn btn-default" ng-click="vm.modalInstance.dismiss()" translate>Close</button>\n      <button class="btn btn-default" ng-click="vm.generate()" translate>Create</button>\n    </div>\n  </c8y-wizard-step>\n\n  <c8y-wizard-step step-id="generateComplete">\n      <div style="font-size:6em; padding:20px;opacity:0.5" class="text-center text-success">\n        <span c8y-icon="check-circle-o"></span>\n      </div>\n      <p class="text-center" style="padding:10px" translate>\n         Built-in applications created\n      </p>\n      <div class="c8y-wizard-footer">\n        <button class="btn btn-default" ng-click="vm.modalInstance.dismiss()" translate>Done</button>\n      </div>\n    </c8y-wizard-step>\n\n\n</steps>\n\n\n</c8y-wizard>\n',t.put("enterpriseEdition/customBranding/brandingProcessExecution.html",e),t.put("core_enterpriseEdition/customBranding/brandingProcessExecution.html",e),t.put("/apps/core/enterpriseEdition/customBranding/brandingProcessExecution.html",e),e='<div class="modal-header">\n  <h3>{{vm.title | translate}}</h3>\n</div>\n<div class="modal-body">\n  <div ng-show="!vm.activationStarted">\n    <p translate>You are about to activate a custom domain name.</p>\n    <br>\n    <p translate>After completing the process you will no longer be able to access your tenant with <b>{{vm.domainName}}</b>, instead use your new domain name. If you encounter any problems accessing your tenant, please contact support.</p>\n  </div>\n  <div class="alert alert-danger" ng-show="vm.activationStarted && vm.activationException">\n    {{vm.activationException | translateServerMessage}}\n  </div>\n  <div class="alert alert-success" ng-show="vm.activationStarted && vm.activationSuccess">\n    {{vm.activationSuccess | translate}}\n  </div>\n  <div ng-show="vm.redirectUrl">\n    <c8y-count-down-redirect redirect-url="vm.redirectUrl"></c8y-count-down-redirect>\n  </div>\n  <br>\n  <div ng-show="vm.activationStarted">\n    <ul class="list-unstyled">\n      <li ng-repeat="step in vm.activationSteps">\n        <i ng-show="!step.status" c8y-icon="circle-o-notch" class="fa fw fa-spin"></i>\n        <i ng-show="step.status === \'completed\'" c8y-icon="check-circle" class="text-success"></i>\n        <i ng-show="step.status === \'failure\'" c8y-icon="minus-circle" class="text-danger"></i>\n        {{step.title | translate}}\n    </li></ul>\n  </div>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-default" ng-click="vm.modalInstance.close()" ng-show="!vm.activationStarted || vm.activationException" translate>Cancel</button>\n  <button class="btn btn-primary" ng-click="vm.startActivation()" ng-show="!vm.activationStarted">\n    <span translate>Activate</span>\n  </button>\n</div>\n',t.put("enterpriseEdition/sslCertificate/certificateActivation.html",e),t.put("core_enterpriseEdition/sslCertificate/certificateActivation.html",e),t.put("/apps/core/enterpriseEdition/sslCertificate/certificateActivation.html",e),e='<div class="modal-header">\n  <h3>{{vm.title | translate}}</h3>\n</div>\n<div class="modal-body">\n  <div ng-show="!vm.deactivationStarted">\n    <p translate>You are about to deactivate a custom domain name.</p>\n    <br>\n    <p translate>After completing the process you will no longer be able to access your tenant with your custom domain name, instead use your old domain name. If you encounter any problems accessing your tenant, please contact support.</p>\n  </div>\n  <div class="alert alert-success" ng-show="vm.deactivationStarted && vm.redirectUrl">\n    {{\'Certificate is deactivated.\' | translate}}\n  </div>\n  <div ng-show="vm.deactivationStarted && !vm.redirectUrl">\n    <i c8y-icon="circle-o-notch" class="fa-spin"></i>\n    {{\'Deactivating SSL certificate\' | translate}} ...\n  </div>\n  <div ng-show="vm.redirectUrl">\n    <c8y-count-down-redirect redirect-url="vm.redirectUrl"></c8y-count-down-redirect>\n  </div>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-default" ng-click="vm.modalInstance.close()" ng-show="!vm.deactivationStarted" translate>Cancel</button>\n  <button class="btn btn-primary" ng-click="vm.deactivateCertificate()" ng-show="!vm.deactivationStarted" translate>Deactivate</button>\n</div>\n',t.put("enterpriseEdition/sslCertificate/certificateDeactivation.html",e),t.put("core_enterpriseEdition/sslCertificate/certificateDeactivation.html",e),t.put("/apps/core/enterpriseEdition/sslCertificate/certificateDeactivation.html",e),e='<div class="modal-header" ng-show="title">\n  <h3>{{title | translate}}</h3>\n</div>\n<div class="modal-body">\n  <form role="form" name="filesUploadForm" class="panel-body" novalidate>\n    <div class="form-group">\n      <file-picker files="files" multiple="false" required="true"></file-picker>\n      <small class="text-muted" translate>Upload a PKCS #12 (.pk12) file containing the private key and certificate.</small>\n    </div>\n  </form>\n</div>\n\n\n<div class="modal-footer">\n  <button class="btn btn-default" ng-click="$dismiss()" translate>Cancel</button>\n  <button class="btn btn-primary" ng-click="vm.saveCertificate(files[0].file, this)" ng-disabled="filesUploadForm.$invalid">\n    <span translate>Upload</span>\n  </button>\n</div>\n\n',t.put("enterpriseEdition/sslCertificate/certificateUpload.html",e),t.put("core_enterpriseEdition/sslCertificate/certificateUpload.html",e),t.put("/apps/core/enterpriseEdition/sslCertificate/certificateUpload.html",e),e='<span translate translate-n="vm.countDown" translate-plural="We will now log you out and redirect to your new domain {{vm.redirectUrl}} in <b>{{$count}}</b> seconds.">\n  We will now log you out and redirect to your new domain {{vm.redirectUrl}} in <b>1</b> second.\n</span>\n',t.put("enterpriseEdition/sslCertificate/countDownRedirect.html",e),t.put("core_enterpriseEdition/sslCertificate/countDownRedirect.html",e),t.put("/apps/core/enterpriseEdition/sslCertificate/countDownRedirect.html",e),e='<div class="card-group">\n  <div class="col-md-10">\n    <div class="card">\n      <div class="card-block" ng-show="vm.customLoadBalancerOff">\n        <div class="legend form-block">\n          {{\'SSL certificate\' | translate}}\n        </div>\n        <p ng-show="!vm.certificate" translate>No certificate available</p>\n        <div ng-show="vm.certificate" class="list-group">\n          <div class="list-group-item">\n            <div class="list-item-body">\n              <div class="row">\n                <div class="col-sm-3">\n                  <label class="small" translate>Valid from</label><br> {{vm.certificate.validFrom}}\n                </div>\n                <div class="col-sm-3">\n                  <label class="small" translate>Valid to</label><br> {{vm.certificate.validTo}}\n                </div>\n                <div class="col-sm-2">\n                  <label class="small" translate>Common name</label><br> {{vm.certificate.cn}}\n                </div>\n                <div class="col-sm-3">\n                  <label class="small" translate>Serial number</label><br> {{vm.certificate.serialNumber}}\n                </div>\n                <div class="col-sm-1 text-right">\n                  <button class="btn btn-danger btn-xs" title="{{\'Delete\' | translate}}" ng-click="vm.deleteCertificate()" ng-disabled="vm.certificate.activated">\n                    <i c8y-icon="times"></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <br>\n        <button type="button" class="btn btn-primary" ng-click="vm.showUploadModal()">\n          <span ng-show="!vm.certificate">{{\'Upload certificate\' | translate}}</span>\n          <span ng-show="vm.certificate">{{\'Replace certificate\' | translate}}</span>\n        </button>\n      </div>\n      <div class="card-block" ng-if="vm.certificate">\n        <div class="legend form-block">\n          {{\'Custom domain name\' | translate}}\n        </div>\n        <div ng-if="vm.certificate.licensePresent">\n          <p translate>Before activating the custom domain name,</p>\n          <ul>\n            <li translate>upload a valid SSL wildcard certificate for your custom domain,</li>\n            <li translate>configure your DNS to point to the platform using CNAME {{vm.dnsEntry}}.</li>\n          </ul>\n          <p style="margin-bottom: 10px"><span c8y-guide-docs translate>For details refer to the <a c8y-guide-href="users-guide/administration/">User guide</a>.</span></p>\n          <p translate>Changes in the name server need time to propagate and take effect. Wait approximately one hour before activating your domain here.</p>\n          <p translate>After the activation is completed you will no longer be able to access your tenant with {{vm.domainName}}, instead use your new custom domain name {{vm.newDomainName}}.\n          </p>\n        </div>\n        <p ng-if="!vm.certificate.licensePresent" translate>To activate your domain, you need a valid license. Please contact our support to install a license for your domain.</p>\n        <br>\n        <button type="button" class="btn btn-primary" ng-click="vm.activateCertificate()" ng-show="!vm.certificate.activated" ng-disabled="!vm.certificate.licensePresent || !vm.validWildcard" translate>Activate\n        </button>\n        <button type="button" class="btn btn-primary" ng-click="vm.deactivateCertificate()" ng-show="vm.certificate.activated" style="margin-left: 0" translate>Deactivate\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n',
t.put("enterpriseEdition/sslCertificate/manageCertificateForm.html",e),t.put("core_enterpriseEdition/sslCertificate/manageCertificateForm.html",e),t.put("/apps/core/enterpriseEdition/sslCertificate/manageCertificateForm.html",e)}angular.module("c8y.enterpriseEdition").run(["$templateCache",t])}();