/* core_cell-id-information-activator 9.12.5 2018-08-27T16:53:27+00:00 b689bea882f7+ (release/9.12.0) tip */
function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(a,i){try{var o=e[a](i),c=o.value}catch(t){return void r(t)}return o.done?void t(c):Promise.resolve(c).then(function(t){n("next",t)},function(t){n("throw",t)})}return n("next")})}}!function(){"use strict";angular.module("c8y.cellIdInformationActivator",[])}();var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};!function(){"use strict";function t(t,e){var r={path:"/device/:deviceId/*",actionBar:!0};t.addUrlAction(_extends({},r,{text:e("Activate Cell ID information"),showIf:["$q","$routeParams","cellIdInformationActivator",function(t,e,r){return t.all({shown:r.shouldShowActivator(),activated:r.isActivatedFor(e.deviceId)}).then(function(t){var e=t.shown,r=t.activated;return e&&!r})}],action:["$routeParams","cellIdInformationActivator",function(t,e){e.activate(t.deviceId)}]})),t.addUrlAction(_extends({},r,{text:e("Deactivate Cell ID information"),showIf:["$q","$routeParams","cellIdInformationActivator",function(t,e,r){return t.all({shown:r.shouldShowActivator(),activated:r.isActivatedFor(e.deviceId)}).then(function(t){var e=t.shown,r=t.activated;return e&&r})}],action:["$routeParams","cellIdInformationActivator",function(t,e){e.deactivate(t.deviceId)}]}))}t.$inject=["c8yActionsProvider","gettext"],angular.module("c8y.cellIdInformationActivator").config(t)}(),function(){"use strict";function t(t,e,r,n,a,i,o,c){var u=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.detailValue({category:"cellid",key:"operation.mode"});case 2:return e=t.sent,t.abrupt("return","manual"===e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),s=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=_.isString(e),!t.t0){t.next=7;break}return t.t1=a,t.next=5,n.detail(e);case 5:t.t2=t.sent,t.t0=t.t1.getResData.call(t.t1,t.t2);case 7:return r=t.t0,t.abrupt("return",!!_.get(r,"c8y_CellIdFeatureActive"));case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),l=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function r(n,i){var u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d(n);case 3:if(u=r.sent,!u){r.next=10;break}return r.next=7,e.post(a.url("service/cellid/devices/"+i),{active:n});case 7:t.$broadcast("$routeChangeStart"),t.$broadcast("$routeChangeSuccess"),o.success(n?c.getString("Cell ID information activated"):c.getString("Cell ID information deactivated"));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.error(r.t0.data.message);case 15:case"end":return r.stop()}},r,this,[[0,12]])}));return function(t,e){return r.apply(this,arguments)}}(),d=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i(v[e]);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),v={true:{title:c.getString("Activate Cell ID information"),body:c.getString("Activating this feature will result in automatically updating the GPS position of the device when it sends new Cell ID data. Using this feature can result in additional costs."),status:"danger",labels:{ok:c.getString("Activate")}},false:{title:c.getString("Deactivate Cell ID information"),body:c.getString("Are you sure you want to deactivate Cell ID information for this device?"),status:"info",labels:{ok:c.getString("Deactivate")}}},f={shouldShowActivator:u,isActivatedFor:s,activate:_.curry(l)(!0),deactivate:_.curry(l)(!1)};return f}t.$inject=["$rootScope","$http","c8ySettings","c8yDevices","c8yBase","c8yModal","c8yAlert","gettextCatalog"],angular.module("c8y.cellIdInformationActivator").factory("cellIdInformationActivator",t)}(),function(){"use strict";function t(t){}angular.module("c8y.cellIdInformationActivator").run(["$templateCache",t])}();