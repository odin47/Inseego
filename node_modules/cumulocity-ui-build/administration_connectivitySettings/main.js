/* administration_connectivitySettings 9.12.5 2018-08-27T16:53:21+00:00 b689bea882f7+ (release/9.12.0) tip */
!function(){"use strict";function e(e,n,t,r){var i=r("Connectivity"),o="connectivitySettings";e.addNavigation({parent:r("Settings"),name:i,path:o,icon:"plug",preventDuplicates:!0,showIfContainsVisibleViews:!0}),n.when("/connectivitySettings",{templateUrl:"administration_connectivitySettings/views/index.html",name:r("SIM provider settings"),showIf:["c8yConnectivitySettings",function(e){return e.shouldShow()}],icon:"mobile"}),t.addTitle(o,{data:_.constant({title:i})})}e.$inject=["c8yNavigatorProvider","c8yViewsProvider","c8yTitleProvider","gettext"],angular.module("c8y.parts.connectivitySettings",[]).config(e)}(),function(){"use strict";function e(e,n,t,r,i){function o(e,t){var r=s(e);return c(r).then(n.ping).then(function(e){var n=e&&200===e.status;n?(a(),t.$setPristine()):l()},function(){l()})}function s(n){var t=_.get(f,e.connectivitySettings.providerName);return _.isUndefined(t)||_.forEach(t,function(e,t){e||(n[t]=void 0)}),n}function c(e){return t.update(e)}function a(){var e=i("Connectivity credentials successfully updated");return r.success(e)}function l(){var e=i("Failed to connect using given credentials");return r.danger(e)}function d(){return t.detail().then(v).then(m)}function v(n){e.connectivitySettings=n}function u(){return n.getAvailableProvidersList().then(function(n){var t=n.providers;e.supportedProviders=t})}function g(){i("Jasper"),i("Ericsson")}function m(){if(e.connectivitySettings.providerName){var n=_.get(e.connectivitySettings,"providerName");e.formSettings=_.get(f,n)}}var p=i("In order to see the 'Connectivity' tab in device details, the user needs to have 'Read' permission for 'Connectivity'. To change SIM card status and send text messages, the user needs to have 'Admin' permission for 'Connectivity'."),f={jwireless:{licenseKey:!0,url:!0,username:!0,"credentials.password":!0},ericsson:{licenseKey:!1,url:!0,username:!0,"credentials.password":!0}};e.updateCredentials=o,e.connectivitySettings={},e.tooltipText=p,e.supportedProviders=[],e.formSettings={},e.onProviderChange=m,d(),u(),g()}e.$inject=["$scope","c8yConnectivity","c8yConnectivitySettings","c8yAlert","gettext"],angular.module("c8y.parts.connectivitySettings").controller("connectivitySettingsCtrl",e)}(),function(){"use strict";function e(e){var n;n='<div ng-controller="connectivitySettingsCtrl" class="row">\r\n  <div class="col-xs-12 col-sm-10 col-md-8 col-lg-6">\r\n    <form class="card" name="connectivitySettingsForm" novalidate>\r\n      <div class="card-block">\r\n        <p class="bottom-m">{{tooltipText | translate}}</p>\r\n\r\n        <div class="row">\r\n          <div class="col-md-6">\r\n            <div class="form-group">\r\n                <label for="provider" translate>Provider</label>\r\n                <div class="c8y-select-wrapper">\r\n                  <select name="provider" class="form-control" ng-model="connectivitySettings.providerName" ng-change="onProviderChange()" ng-options="provider.name as (provider.label | translate) for provider in supportedProviders | orderBy:\'label\'" required>\r\n                </select>\r\n                <span></span>\r\n                </div>\r\n            </div> \r\n          </div>\r\n        </div>\r\n        \r\n        <div class="form-group" ng-if="formSettings.url">\r\n          <label for="url" class="control-label" translate>\r\n            URL\r\n          </label>\r\n          <input type="text" class="form-control" placeholder="{{\'e.g.\' | translate}} http://www.example.com/" required name="url" id="url" ng-model="connectivitySettings.url" c8y-autocomplete="off">\r\n          <c8y-error-feedback field="connectivitySettingsForm.url"></c8y-error-feedback>\r\n        </div>\r\n        <div class="form-group" ng-if="formSettings.licenseKey">\r\n          <label for="license" class="control-label" translate>\r\n            License key\r\n          </label>\r\n          <input type="text" class="form-control" placeholder="{{\'e.g.\' | translate}} 12345678-9abc-def1-2345-6789abcdef01" required name="license" id="license" ng-model="connectivitySettings.licenseKey" c8y-autocomplete="off">\r\n          <c8y-error-feedback field="connectivitySettingsForm.license"></c8y-error-feedback>\r\n        </div>\r\n\r\n        <div class="row">\r\n          <div class="col-md-6" ng-if="formSettings.username">\r\n              <div class="form-group">\r\n                  <label for="username" class="control-label" translate>\r\n                    Username\r\n                  </label>\r\n        \r\n                  <input type="text" class="form-control" placeholder="{{\'e.g. joe\' | translate}}" required name="username" id="username" ng-model="connectivitySettings.username" c8y-autocomplete="off">\r\n                  <c8y-error-feedback field="connectivitySettingsForm.username"></c8y-error-feedback>\r\n                </div>\r\n          </div>\r\n          <div class="col-md-6" ng-if="formSettings[\'credentials.password\']">\r\n              <div class="form-group">\r\n                  <label for="password" class="control-label" translate>\r\n                    Password\r\n                  </label>\r\n                  <input type="password" class="form-control" name="password" id="password" ng-model="connectivitySettings[\'credentials.password\']" required c8y-autocomplete="off">\r\n                  <c8y-error-feedback field="connectivitySettingsForm.password"></c8y-error-feedback>\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </div>\r\n\r\n      <div class="card-footer">\r\n        <button type="submit" class="btn btn-primary" ng-click="updateCredentials(connectivitySettings, connectivitySettingsForm)" ng-disabled="connectivitySettingsForm.$invalid || connectivitySettingsForm.$pristine" translate>\r\n          Save\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n',e.put("connectivitySettings/views/index.html",n),e.put("administration_connectivitySettings/views/index.html",n),e.put("/apps/administration/connectivitySettings/views/index.html",n)}angular.module("c8y.parts.connectivitySettings").run(["$templateCache",e])}();