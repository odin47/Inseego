/* core_export 9.12.5 2018-08-27T16:54:06+00:00 b689bea882f7+ (release/9.12.0) tip */
function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(){"use strict";function e(e,n,a){n.addNavigation({priority:1,name:a("Export"),parent:{name:a("Reports"),icon:t},icon:t,path:"export",ignoreAlphabeticalOrder:!0}),e.when("/export",{icon:"bar-chart",templateUrl:"core_export/views/list.html"}),e.when("/export/:exportId/:clone?",{templateUrl:"core_export/views/detail.html",name:a("Properties"),icon:"bar-chart"})}e.$inject=["c8yViewsProvider","c8yNavigatorProvider","gettext"];var t="c8y-reports";angular.module("c8y.cockpit.export",[]).config(e)}(),function(){"use strict";function e(e,t,n,a,i,o,r,l,s,c){function p(){d(),u(),n.list().then(m)}function d(){o.current(!0).then(function(t){k.hasEmail=e.hasEmail=!!t.email,t.email||r.info(s("Please provide e-mail in user settings in order to use export functionality."))})}function u(){e.canScheduleExport=t.has("smartRulesSvc")}function m(t){e.rows=_(t).sortBy("name").map(function(e){return{config:e,selected:!1}}).value(),e.paging=t.paging}function f(){i.path("/export/new")}function v(e){i.path("/export/"+e.id)}function g(e){i.path("/export/"+e.id+"/clone")}function h(e){l({title:s("Confirm delete?"),body:c.getString('Do you really want to remove configuration "{{name}}"?',e),status:"danger",size:"sm"}).then(function(){return n.remove(e)}).then(p)}function y(){var t=e.getSelectedConfigs();return a.requestExport(_.map(t,"id")).then(function(){r.success(s("Export request accepted, you will receive an e-mail."))})}function b(){return _(e.rows).filter("selected").map("config").flatten().value()}function x(){e.paging.refresh().then(m)}function w(e){var a=t.get("smartRulesSvc");return n.getSmartRuleDefaults(e).then(function(e){return a.createInstanceWithUIByName("sendExportViaEmail",e)})}var k=this;_.assign(k,{getSelectedConfigs:b}),_.assign(e,{rows:[],add:f,detail:v,clone:g,remove:h,runExport:y,getSelectedConfigs:b,refresh:x,scheduleExport:w}),p()}e.$inject=["$scope","$injector","exportConfig","exportService","$location","c8yUser","c8yAlert","c8yModal","gettext","gettextCatalog"],angular.module("c8y.cockpit.export").controller("exportListCtrl",e)}(),function(){"use strict";function e(e,t,n,a,i,o,r,l,s){function c(){S=n.exportId,A=!!n.clone,S="new"===S?void 0:S,e.exportTypes=a.getFileTypes(),e.config=a.create(),p()}function p(){S?a.detail(S).then(d):d()}function d(t){e.config=a.create(t),e.filters=a.getFilters(e.config,S&&!A),e.apis=a.getApis(e.config),u(t),f(),v()}function u(t){a.getSmartRuleDefaults(t).then(function(t){e.smartRuleDefaults=t})}function m(){e.$broadcast("smartRulesListReload")}function f(){S?A?(delete e.config.id,e.isNew=!0,b(s.getString("Duplicate of {{config}}",{config:e.config.name}))):b(l("Export details")):(e.isNew=!0,b(l("Create configuration")))}function v(){e.$watch("apis",function(t,n){_.isEqual(t,n)||e[k].$setDirty()},!0)}function g(){return y().then(function(e){t.path("/export/"+e.id)}).then(function(){r.success(l("Report configuration saved!"))})}function h(){return y().then(function(){t.path("/export")})}function y(){return e.config.apiList=[],e.config.queryParameters={},_.forEach(e.filters,function(t){t.onSave(e.config)}),_.forEach(e.apis,function(t){t.onSave(e.config)}),a.save(e.config)}function b(e){o.changeTitle({title:e})}function x(t){return i.validationHints(e[k][t],E)}function w(e){e.enabled=!0}var k="exportForm",E={required:l("This field is required!"),maxlength:l("Up to 120 characters allowed!")},S=void 0,A=void 0,T={ruleTemplateName:"sendExportViaEmail"};_.assign(e,{invalid:i.invalid.bind(i,e,k),validationHints:x,saveStay:g,saveClose:h,onSelectionChanged:w,smartRulesFilter:T,reloadSmartRulesList:m}),c()}e.$inject=["$scope","$location","$routeParams","exportConfig","c8yBase","c8yTitle","c8yAlert","gettext","gettextCatalog"],angular.module("c8y.cockpit.export").controller("exportConfigDetailCtrl",e)}(),function(){"use strict";function e(e){function t(t){t.types={LAST_WEEK:e("Last week"),LAST_MONTH:e("Last month"),LAST_YEAR:e("Last year"),CUSTOM:e("Custom")}}return{restrict:"AE",link:t,scope:{timespan:"=c8yExportTimespan"},templateUrl:"core_export/views/timespan.html"}}angular.module("c8y.cockpit.export").directive("c8yExportTimespan",["gettext",e])}(),function(){"use strict";function e(e,n,a,i,o){this.requestExport=function(a){var i=_.isArray(a)?a:[a],o=i.map(function(e){return n({method:"GET",url:t,params:{configurationId:e}})});return e.all(o)}}angular.module("c8y.cockpit.export").service("exportService",["$q","$http","c8yAlert","c8yBase","gettext",e]);var t="/export/exports"}(),function(){"use strict";function e(e,a,i,o,r,l,s){function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return _.map(e,function(e){var t,a=e.def,i=_.tail(a),o=(t=_).bind.apply(t,_toConsumableArray([a[0],a[0]].concat(i).concat(n))),r=new o;return _.assign(r,_.omit(e,"def","name")),r})}var p=[{name:"source",label:l("Object to export"),template:"core_export/views/filters/source.html",def:[r.SourceFilter,"source"]},{name:"dateType",label:l("Time range"),template:"core_export/views/filters/dateRange.html",def:[r.DateRangeFilter,"dateType"]}],d=[{name:"Alarms",icon:"bell",label:l("Alarms"),def:[o.Api,"Alarms"]},{name:"Events",icon:"rss",label:l("Events"),def:[o.Api,"Events"]},{name:"ManagedObjects",icon:"cubes",label:l("Managed objects"),def:[o.Api,"ManagedObjects"]},{name:"Measurements",icon:"bar-chart-o",label:l("Measurements"),def:[o.MeasurementsApi],template:"core_export/views/apis/measurements.html"}];this.getFilters=function(e,t){return c(p,e,t)},this.getApis=function(e){return c(d,e)},this.getFileTypes=function(){return[{name:"CSV",type:"csv"},{name:"Excel (.xlsx)",type:"vnd.ms-excel"}]},this.list=function(){return i.list({fragmentType:t})},this.create=function(e){return _.merge(_.cloneDeep(n),e)},this.detail=function(t){return i.detail(t).then(e.getResData)},this.save=function(n){return n.id?i.save(n).then(function(){return n}):(n[t]={},i.createConfirm(n).then(e.getResData))},this.remove=function(e){return i.remove(e.id)},this.getSmartRuleDefaults=function(e){return a.current().then(function(t){return{name:s.getString('Send "{{name}}" via e-mail',e),c8y_Context:{context:"exportConfiguration",id:e.id},config:{exportConfiguration:_.pick(e,["id","name"]),exportConfigurationId:e.id,to:t.email,subject:s.getString('Export of "{{name}}"',e)}}})}}e.$inject=["c8yBase","c8yUser","c8yInventory","c8yExportApis","c8yExportFilters","gettext","gettextCatalog"],angular.module("c8y.cockpit.export").service("exportConfig",e);var t="c8y_ExportConfiguration",n={name:"",exportType:"csv",queryParameters:{},apiList:[]}}(),function(){"use strict";function e(e,t,n,a){function i(e,t,n){this.name=e,this.isDetailPage=n,this.onLoad(t)}function o(e,t){i.call(this,e,t)}function r(e,t,n){i.call(this,e,t,n)}return i.prototype.onLoad=function(e){this.value=e.queryParameters[name],this.enabled=Boolean(e.queryParameters[name])},i.prototype.onSave=function(e){this.enabled&&(e.queryParameters[this.name]=this.value)},o.prototype=Object.create(i.prototype),o.prototype.onLoad=function(e){var t=e.queryParameters;this.value=t.source||t.groupId,this.enabled=Boolean(this.value),this.loadSource()},o.prototype.loadSource=function(){var a=this;return this.value?n.detail(this.value).then(t.getResData).then(function(e){a.value=e}):e.when()},o.prototype.onSave=function(e){var t=e.queryParameters;delete t.source,delete t.groupId,this.enabled&&this.value&&(a.isGroup(this.value)?t.groupId=this.value.id:t.source=this.value.id)},r.prototype=Object.create(i.prototype),r.prototype.onLoad=function(e){var t=e.queryParameters;this.enabled=!0,this.value={dateType:"LAST_WEEK"},this.isDetailPage&&(this.enabled=Boolean(t.dateType),this.value={dateType:t.dateType,from:t.from,to:t.to})},r.prototype.onSave=function(e){var t=e.queryParameters;delete t.dateType,delete t.from,delete t.to,this.enabled&&_.merge(t,this.value)},{Filter:i,SourceFilter:o,DateRangeFilter:r}}angular.module("c8y.cockpit.export").factory("c8yExportFilters",["$q","c8yBase","c8yInventory","c8yGroups",e])}(),function(){"use strict";function e(e,t,n,a){function i(e,t){this.name=e,this.onLoad(t)}function o(e){return _.map(e,function(e){return{column:e.label,path:e.keyPath.join(".")}})}function r(e){_.forEach(e,function(e){s.indexOf(e.path)>=0&&(e.type=e.path)})}function l(e){i.call(this,a("Measurements"),e)}var s=["DEVICE_NAME"],c=["Alarms","Events","Measurements"];return i.prototype.onLoad=function(e){var t=_.find(e.apiList,{api:this.name});this.enabled=Boolean(t),this.fields=this.enabled&&t.fields||[]},i.prototype.toggle=function(e,n){if(n&&0===this.fields.length&&c.indexOf(this.name)>=0){var a=this;t.another(t.paths[this.name]).list().then(function(e){var t=["time","DEVICE_NAME"],n=_.filter(e,function(e){var n=e.keyPath[0];return t.indexOf(n)>=0});a.addAll(o(n))})}return n},i.prototype.onSave=function(e){this.enabled&&(r(this.fields),e.apiList=e.apiList||[],e.apiList.push({api:this.name,fields:this.fields}))},i.prototype.add=function(e){this.fields.push(e||{})},i.prototype.addAll=function(e){var t=this;_.forEach(e,function(e){t.add(e)})},i.prototype.addPredefined=function(){var t=this;e.openSelector({type:this.name,showComputed:!1,includeTreeChildren:!0}).then(function(e){t.addAll(o(e))})},i.prototype.remove=function(e){this.fields.splice(e,1)},i.prototype.removeAll=function(){this.fields.length=0},l.prototype=Object.create(i.prototype),l.prototype.addFromDatapoint=function(){var e=this;n.addUI().then(function(t){var n=_.map(t,function(e){return{column:e.label,path:[e.fragment,e.series,"value"].join(".")}});e.addAll(n)})},{Api:i,MeasurementsApi:l}}angular.module("c8y.cockpit.export").factory("c8yExportApis",["SchemaPropertiesSvc","c8yPropertiesLibrary","c8yDataPointSvc","gettext",e])}(),function(){"use strict";function e(e){var t;t='<button type="button" class="btn-add-block" ng-click="api.addFromDatapoint()">\n  <i c8y-icon="plus-square"></i> {{\'Add from datapoint\' | translate}}\n</button>\n',e.put("export/views/apis/measurements.html",t),e.put("core_export/views/apis/measurements.html",t),e.put("/apps/core/export/views/apis/measurements.html",t),t='<div ng-controller="exportConfigDetailCtrl">\n  <c8y-breadcrumbs-set>\n    <c8y-breadcrumbs-item path="#export" label="{{\'Export\' | translate}}" icon="c8y-report"></c8y-breadcrumbs-item>\n  </c8y-breadcrumbs-set>\n  <form name="exportForm" novalidate>\n    <div class="row exportReport">\n      <div class="col-md-10 col-lg-9 col-sm-12">\n        <div class="card">\n          <div class="card-block" style="overflow: visible">\n            <div class="form-group" ng-class="{\'has-error\': invalid(\'name\')}">\n              <label>{{\'Name\' | translate}}</label>\n              <input type="text" name="name" class="form-control" ng-model="config.name" ng-maxlength="120" uib-tooltip="{{validationHints(\'name\') | translate}}" tooltip-trigger="focus" placeholder="{{\'e.g. My export\' | translate}}" required>\n            </div>\n\n            <div class="form-group" ng-class="{\'has-error\': invalid(\'exportType\')}">\n              <label>{{\'File type\' | translate}} *</label>\n              <div>\n                <label ng-repeat="option in exportTypes" class="fileType c8y-radio radio-inline">\n              <input type="radio" ng-value="option.type" ng-model="config.exportType"><span></span>\n              <span class="fa" ng-class="{\'fa-file-text-o\': option.type === \'csv\', \'fa-file-excel-o\': option.type === \'vnd.ms-excel\'}"></span> {{ option.name | translate }}\n            </label>\n              </div>\n            </div>\n\n            <div style="padding-bottom: 16px">\n              <div class="legend form-block">\n                {{\'Scheduled exports\' | translate}}\n              </div>\n\n              <div class="alert alert-info" ng-if="!config.id" translate>\n                You can add schedules once you saved export configuration.\n              </div>\n\n              <div ng-if="config.id">\n                <smart-rules-list mo="config.id" filter="smartRulesFilter">\n                </smart-rules-list>\n                <add-smart-rule-button rule-template-name="\'sendExportViaEmail\'" rule-defaults="smartRuleDefaults" on-added="reloadSmartRulesList()">\n                  <button type="button" class="btn-add-block" ng-click="$parent.vm.add()">\n                <i c8y-icon="plus-square"></i> {{\'Add schedule\' | translate}}\n              </button>\n                </add-smart-rule-button>\n              </div>\n            </div>\n\n            <div class="query-parameters">\n              <div class="legend form-block">{{\'Filters\' | translate}}</div>\n              <table class="table filterList table-striped">\n                <thead>\n                  <tr>\n                    <th style="width: 40px"></th>\n                    <th translate style="width: 25%">Name</th>\n                    <th translate>Value</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr ng-repeat="filter in filters" ng-include="\'core_export/views/filter.html\'" style="vertical-align: middle">\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n\n            <div class="legend form-block">{{\'Fields\' | translate}}</div>\n            <p><i c8y-icon="info-circle text-info"></i> <span translate>You will receive separate e-mail for each selected type of data.</span></p>\n\n            <div class="apiList">\n              <div class="row" ng-repeat="api in apis">\n                <div class="col-sm-12">\n                  <hr>\n                </div>\n                <div class="col-sm-3">\n                  <div class="flex-row">\n                    <label class="c8y-switch">\n                  <input type="checkbox" ng-model="api.enabled" ng-change="api.toggle(api, api.enabled);">\n                  <span></span>\n                </label>\n                    <h4 style="margin: 0 5px" ng-class="{\'text-muted\': !api.enabled}"><i c8y-icon="{{api.icon}}" class="status"></i></h4>\n                    <p style="line-height: 1" ng-class="{\'text-muted\': !api.enabled}">{{api.label | translate}}</p>\n                  </div>\n                </div>\n\n                <div class="apiListDetails col-sm-9" ng-show="api.enabled">\n                  <div ng-include="\'core_export/views/properties.html\'">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="row">\n      <c8y-ui-button-footer changed="exportForm.$dirty">\n        <div class="col-md-10 col-lg-9 col-sm-12 text-center">\n          <button type="button" class="btn btn-primary" ng-click="saveStay()" ng-disabled="exportForm.$invalid || exportForm.$pristine" translate>\n            Save\n          </button>\n          <button type="button" class="btn btn-primary" ng-click="saveClose()" ng-disabled="exportForm.$invalid || exportForm.$pristine" translate>\n            Save &amp; close\n          </button>\n        </div>\n      </c8y-ui-button-footer>\n    </div>\n  </form>\n</div>',e.put("export/views/detail.html",t),e.put("core_export/views/detail.html",t),e.put("/apps/core/export/views/detail.html",t),t='<td>\n  <label class="c8y-checkbox">\n    <input type="checkbox" ng-model="filter.enabled"><span></span>\n  </label>\n</td>\n<td>\n  <label ng-bind="filter.label | translate"></label>\n</td>\n<td ng-include="filter.template">\n</td>\n',e.put("export/views/filter.html",t),e.put("core_export/views/filter.html",t),e.put("/apps/core/export/views/filter.html",t),t='<div c8y-export-timespan="filter.value"></div>\n',e.put("export/views/filters/dateRange.html",t),e.put("core_export/views/filters/dateRange.html",t),e.put("/apps/core/export/views/filters/dateRange.html",t),t='<input class="form-control input-sm" type="text" ng-model="filter.value">\n',e.put("export/views/filters/default.html",t),e.put("core_export/views/filters/default.html",t),e.put("/apps/core/export/views/filters/default.html",t),t='<div c8y-device-selector-combo parent="null" selected-child-device="filter.value" groups-selectable="true" on-select="onSelectionChanged(filter)">\n</div>\n',e.put("export/views/filters/source.html",t),e.put("core_export/views/filters/source.html",t),e.put("/apps/core/export/views/filters/source.html",t),t='<div data-ng-controller="exportListCtrl as vm">\n  <c8y-ui-title-set title="\'Export\' | translate"></c8y-ui-title-set>\n  <c8y-ui-action-bar-set>\n    <!-- TODO: change export button into select option and also allow  removing reports as bulk action-->\n    <!-- <li class="navbar-form c8y-bulk-actions">\n            <div class="form-group" title="Bulk actions">\n              <div class="input-group">\n                <div class="c8y-select-wrapper">\n                  <select class="form-control" ng-disabled="!hasEmail || getSelectedConfigs().length === 0">\n                    <option value="">Select bulk action</option>\n                    <option value="">Export</option>\n                    <option value="">Remove</option>\n                  </select>\n                  <span></span>\n                </div>\n                <span class="input-group-btn">\n                  <button type="button" class="btn btn-default" title="{{\'Apply the selected action to the group of checked rows\' | translate}}" translate="">Apply</button>\n                </span>\n              </div>\n            </div>\n          </li>\n            -->\n\n    <!-- TODO: Remove  after implementing export in select -->\n    <button action-bar-position="left" class="btn btn-link" ng-click="runExport()" ng-disabled="!vm.hasEmail || vm.getSelectedConfigs().length === 0">\n      <i c8y-icon="external-link"></i> {{\'Export\' | translate}}\n    </button>\n\n    <li class="hidden-xs" action-bar-position="left">\n      <a tabindex="0" uib-popover-html="\'You will receive download links by email.\' | translate" popover-append-to-body="true" popover-placement="right" popover-trigger="\'focus\'" style="display:inline-block">\n        <i class="fa fa-question-circle-o text-primary"></i>\n      </a>\n    </li>\n\n    <button class="btn btn-link" data-ng-click="add()">\n      <i c8y-icon="plus-circle"></i> {{\'Add export\' | translate}}\n    </button>\n\n    <c8y-refresh-btn></c8y-refresh-btn>\n  </c8y-ui-action-bar-set>\n\n  <div class="c8y-empty-state text-center" ng-show="rows.length == 0">\n    <h1 class="c8y-icon c8y-icon-report c8y-icon-duocolor"></h1>\n    <h3 translate>No exports to display.</h3>\n    <p translate>Add your first export using the button below.</p>\n    <p>\n      <button class="btn btn-primary" data-ng-click="add()">\n        <i c8y-icon="plus"></i> {{\'Add export\' | translate}}\n      </button>\n    </p>\n    <p c8y-guide-docs>\n      <small translate>Find out more on the\n        <a c8y-guide-href="users-guide/cockpit/#export">User Guide</a>.</small>\n    </p>\n  </div>\n\n\n  <div class="list-group">\n    <div class="list-group-item flex-row" ng-repeat="row in rows | orderBy:\'config.name\'">\n      <div class="list-item-actions">\n        <div class="settings pull-right dropdown" uib-dropdown is-open="menuOpen">\n          <button type="button" title="{{\'Options\' | translate}}" class="dropdown-toggle c8y-dropdown" uib-dropdown-toggle>\n            <i c8y-icon="ellipsis-v" class="fa fw fa-ellipsis-v"></i>\n          </button>\n          <ul class="dropdown-menu" uib-dropdown-menu>\n            <li>\n              <a href="" title="{{\'Edit\' | translate}}" ng-click="detail(row.config)">\n                <i c8y-icon="pencil"></i>\n                <translate>Edit</translate>\n              </a>\n            </li>\n            <li ng-if="canScheduleExport">\n              <a href="" title="{{\'Schedule export\' | translate}}" ng-click="scheduleExport(row.config)">\n                <i c8y-icon="clock-o"></i>\n                <translate>Schedule export</translate>\n              </a>\n            </li>\n            <li>\n              <a href="" title="{{\'Duplicate\' | translate}}" ng-click="clone(row.config)">\n                <i c8y-icon="clone"></i>\n                <translate>Duplicate</translate>\n              </a>\n            </li>\n\n            <li>\n              <a href="" title="{{\'Remove\' | translate}}" ng-click="remove(row.config)">\n                <i c8y-icon="trash"></i>\n                <translate>Remove</translate>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <!-- /.list-item-actions -->\n\n      <div class="list-item-checkbox">\n        <label title="Select" class="c8y-checkbox input-sm">\n          <input type="checkbox" ng-model="row.selected" ng-change="updateOutput()">\n          <span></span>\n        </label>\n      </div>\n\n      <div class="list-item-icon" ng-click="detail(row.config)">\n        <i uib-tooltip="{{row.config.exportType === \'csv\' ? \'CSV file\' : row.config.exportType === \'vnd.ms-excel\' ? \'XLS file\' : \'\'}}" class="fa" ng-class="{\'fa-file-text-o\': row.config.exportType === \'csv\', \'fa-file-excel-o\': row.config.exportType === \'vnd.ms-excel\'}"></i>\n      </div>\n\n      <div class="list-item-body" ng-click="detail(row.config)">\n        <div class="row">\n          <span class="col-sm-4 col-xs-12">{{row.config.name}}</span>\n          <div class="col-sm-6 col-xs-12 text-muted">\n            <span ng-show="::row.config.queryParameters.dateType == \'LAST_WEEK\'"><i c8y-icon="calendar"></i><translate>Last week</translate></span>\n            <span ng-show="::row.config.queryParameters.dateType == \'LAST_MONTH\'"><i c8y-icon="calendar"></i><translate>Last month</translate></span>\n            <span ng-show="::row.config.queryParameters.dateType == \'LAST_YEAR\'"><i c8y-icon="calendar"></i><translate>Last year</translate></span>\n            <span ng-show="::row.config.queryParameters.dateType == \'CUSTOM\'">\n              <i c8y-icon="calendar"></i>\n              <span ng-show="::row.config.queryParameters.from">\n                <label class="small">{{\'From`date`\' | translate}}:</label> {{row.config.queryParameters.from | absoluteDate}} &nbsp;\n              </span>\n              <span ng-show="::row.config.queryParameters.to">\n                <label class="small">{{\'To`date`\' | translate}}</label> {{row.config.queryParameters.to | absoluteDate}}\n              </span>\n            </span>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>',e.put("export/views/list.html",t),e.put("core_export/views/list.html",t),e.put("/apps/core/export/views/list.html",t),t='<div class="export-properties">\n  <table class="table vertical-middle form-group">\n    <colgroup>\n      <col width="47.5%">\n      <col width="47.5%">\n      <col width="5%">\n    </colgroup>\n    <thead>\n      <th>\n        <label>{{\'Column\' | translate}}</label>\n      </th>\n      <th>\n        <label>{{\'Path\' | translate}}</label>\n      </th>\n      <th></th>\n    </thead>\n    <tbody>\n      <tr class="property" ng-repeat="property in api.fields" ng-form="forms.property{{$index}}" ng-class="{\'has-error\': forms.property{{$index}}.$invalid}">\n        <td class="wideCell">\n          <label class="editable">\n            <input class="form-control property-label" data-ng-model="property.column" placeholder="{{\'Column\' | translate}}" required>\n            <span><span ng-if="property.column">{{property.column}}</span><span class="text-muted" ng-if="!property.column">{{\'Column\' | translate}}</span></span>\n          </label>\n\n        </td>\n        <td>\n          <label class="editable">\n            <input class="form-control property-label" data-ng-model="property.path" placeholder="{{\'Path\' | translate}}" required ng-disabled="property.default">\n            <span><span ng-if="property.path">{{property.path}}</span><span class="text-muted" ng-if="!property.path">{{\'Path\' | translate}}</span>\n          </span></label>\n\n        </td>\n        <td>\n          <button type="button" ng-if="!property.default" class="btn btn-link showOnHover pull-right" title="{{\'Delete property\' | translate}}" ng-click="api.remove($index); forms[\'property\' + $index].$setDirty();">\n            <i c8y-icon="minus-circle" class="text-danger"></i>\n          </button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<div class="btn-add-block-row">\n  <button type="button" class="btn-add-block" style="flex:1 1 33%" ng-click="api.add();">\n    <i c8y-icon="plus-square"></i>\n    {{\'Add\' | translate}}\n  </button>\n  <button type="button" class="btn-add-block" style="flex:1 1 33%; margin-left:10px" ng-click="api.addPredefined();">\n    <i c8y-icon="plus-square"></i> {{\'Add predefined\' | translate}}\n  </button>\n  <span ng-if="api.template" style="flex:1 1 33%; margin-left:10px" ng-include="api.template"></span>\n</div>',e.put("export/views/properties.html",t),e.put("core_export/views/properties.html",t),e.put("/apps/core/export/views/properties.html",t),t='<div class="row export-timespan">\n  <div class="col-sm-4 col-xs-12">\n    <div class="c8y-select-wrapper">\n      <select class="form-control input-sm" ng-model="timespan.dateType" ng-options="key as (label | translate) for (key, label) in types">\n      </select>\n      <span></span>\n    </div>\n  </div>\n  <div class="col-xs-12" ng-if="timespan.dateType === \'CUSTOM\'">\n    <div class="row">\n      <div class="col-sm-6 col-xs-12">\n        <div class="timespan-label">\n          <label class="small" translate>From</label>\n        </div>\n        <div style="display:inline-block">\n          <c8y-date-time-picker max-date="timespan.to" ng-model="timespan.from" class="form-group-sm"></c8y-date-time-picker>\n        </div>\n      </div>\n      <div class="col-sm-6 col-xs-12">\n        <div class="timespan-label">\n          <label class="small" translate>To</label>\n        </div>\n        <div style="display:inline-block">\n          <c8y-date-time-picker min-date="timespan.from" ng-model="timespan.to" class="form-group-sm"></c8y-date-time-picker>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>',e.put("export/views/timespan.html",t),e.put("core_export/views/timespan.html",t),e.put("/apps/core/export/views/timespan.html",t)}angular.module("c8y.cockpit.export").run(["$templateCache",e])}();