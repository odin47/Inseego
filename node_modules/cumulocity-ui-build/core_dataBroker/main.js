/* core_dataBroker 9.12.5 2018-08-27T16:53:58+00:00 b689bea882f7+ (release/9.12.0) tip */
!function(){"use strict";var n="connectors/";angular.module("c8y.dataBroker",[]).constant("dataBrokerConstants",{CONNECTOR_BASE_URL:n,ROUTE_NEW_CONNECTOR:n+"new",SUBSCRIPTION_BASE_URL:"subscriptions/"})}(),function(){"use strict";function n(n,t,e,o){function i(n){return n.listByUser().then(function(n){return!!_.find(n,{key:a})})}i.$inject=["c8yApplication"];var a="c8y-feature-broker";n.addNavigation({name:o("Data connectors"),parent:{name:o("Data broker"),icon:"c8y-data-broker"},icon:"c8y-connector-out",priority:1e3,path:e.CONNECTOR_BASE_URL,showIf:i}),t.when(e.CONNECTOR_BASE_URL,{template:"<c8y-data-broker-connectors-list />"}),t.when(e.CONNECTOR_BASE_URL+":connectorId",{template:'<c8y-data-broker-connector-editor id="vm.connectorId" />',controller:["$routeParams",function(n){this.connectorId=n.connectorId}],controllerAs:"vm"}),t.when(e.CONNECTOR_BASE_URL+":connectorId/duplicate",{template:'<c8y-data-broker-connector-editor duplicate-id="vm.connectorId" />',controller:["$routeParams",function(n){this.connectorId=n.connectorId}],controllerAs:"vm"}),n.addNavigation({name:o("Data subscriptions"),parent:o("Data broker"),icon:"c8y-connector-in",priority:1e3,path:e.SUBSCRIPTION_BASE_URL,showIf:i}),t.when(e.SUBSCRIPTION_BASE_URL,{template:"<c8y-data-broker-subscriptions></c8y-data-broker-subscriptions>"})}n.$inject=["c8yNavigatorProvider","c8yViewsProvider","dataBrokerConstants","gettext"],angular.module("c8y.dataBroker").config(n)}(),function(){"use strict";function n(n,t,e,o,i,a,r,c){function s(){var n={params:o.pageSizeNoTotalFilter()},e=o.cleanListCallback("connectors",s,n.params);return t.get(B,n).then(e).then(function(n){return _.forEach(n,f),n})}function l(n){return[B,n].join("/")}function d(n){return t.get(l(n)).then(o.getResData).then(f)}function u(n){return t.get(l(n)).then(o.getResData).then(function(n){return n.name=c.getString("Duplicate of {{name}}",n),_.omit(n,V)})}function p(){return{name:"",instanceUrl:"",description:"",filters:[]}}function m(n){var t=void 0;return t=o.hasId(n)?g(o.getId(n),n):v(n)}function v(n){return t({method:"POST",url:B,data:n,headers:R}).then(o.getResData)}function g(n,e){var i=_.omit(e,["instanceUrl","tenantId","code","suspendReason"]);return t({method:"PUT",url:l(n),data:i,headers:R}).then(o.getResData)}function b(n){return n.status===O.ACTIVE.value?n.status=O.SUSPENDED.value:n.status=O.ACTIVE.value,_.unset(n,"visibleStatus"),g(n.id,{status:n.status}).then(function(t){n.status=t.status,f(n)})}function f(n){return n.visibleStatus=y(n),n}function y(n){var t={},e=O.WAITING.value,o=O.ACTIVE.value,i=O.ACTIVATING.value,a=O.SUSPENDED.value,r=$.ACTIVE.value,c=$.SUSPENDED.value;t[e]=G.WAITING,t[o]={},t[o][r]=G.ACTIVE,t[i]={},t[i][r]=G.ACTIVATING,t[o][c]=G.PENDING,t[a]=G.SUSPENDED;var s=t[n.status];return _.get(s,n.destinationStatus)||s}function S(n){var t={},e=O.WAITING.value,o=O.ACTIVE.value,a=O.ACTIVATING.value,c=O.SUSPENDED.value,s=$.ACTIVE.value,l=$.WAITING.value,d=$.SUSPENDED.value;t[e]=r("Connector not bootstrapped yet"),t[o]={},t[o][s]=r("Connector is working"),t[a]={},t[a][s]=r("Inventory structure synchronization in progress"),t[o][d]=r("Subscription in destination tenant disabled"),t[c]={},t[c][l]=r("Connector not bootstrapped but suspended by source tenant"),t[c][s]=r("Connector suspended by source tenant"),t[c][d]=r("Subscription in destination tenant disabled and then connector suspended by source tenant");var u=t[n.status],p=n.status===c?i.getTranslatedServerMessage(n.suspendReason):void 0;return p||_.get(u,n.destinationStatus)||u}function h(n){return t({method:"DELETE",url:l(n)})}function T(t,e){var o=n.when();return t.id?o=g(t.id,{name:e}).then(function(n){return t.name=e,n}):t.name=e,o}function E(n){var t=_.cloneDeep(n);return t.filters=_.map(t.filters,function(n){return n.apis=_.transform(n.apis,function(n,t){n[t]=!0},{}),n.fragmentsToFilter=C(n.fragmentsToFilter),n.copyAllFragments=_.isNull(n.fragmentsToCopy)||_.isUndefined(n.fragmentsToCopy),n.fragmentsToCopy=C(n.fragmentsToCopy),n.selectedGroupOrDevice=A(n),n}),t}function C(n){var t=n||[];return t.length||t.push(""),_.map(t,k)}function k(n){return{fragment:n}}function A(n){var t=void 0,e=n.deviceGroupId||n.sourceId;return e&&(t={id:e}),t}function N(n){var t=_.cloneDeep(n);return t.filters=_.map(t.filters,function(n){var t=x(n.apis),e=D(n.fragmentsToFilter),o=n.copyAllFragments?null:D(n.fragmentsToCopy),i=n.selectedGroupOrDevice,a=void 0,r=void 0;return i&&i.isDevice&&(a=i.id),i&&!i.isDevice&&(r=i.id),_.assign(n,{isOpen:void 0,apis:t,fragmentsToFilter:e,fragmentsToCopy:o,copyAllFragments:void 0,sourceId:a,deviceGroupId:r,selectedGroupOrDevice:void 0})}),t}function x(n){return _(n).map(function(n,t){return n?t:void 0}).compact().value()}function I(n){var t=D(_.get(n,"fragmentsToFilter",[])),e=D(_.get(n,"fragmentsToCopy",[])),o=_.get(n,"copyAllFragments"),i="",a="";return i=t.length>0?c.getString("Filter: {{fragments}}",{fragments:t.join(", ")}):c.getString("Filter: none"),a=o?c.getString("Copy: all"):e.length>0?c.getString("Copy: {{fragments}}",{fragments:e.join(", ")}):c.getString("Copy: standard only"),[i,a].join("; ")}function D(n){return _(n).map("fragment").compact().value()}function w(){var n=a.CONNECTOR_BASE_URL;e.path(n)}function U(n){var t="new",i=a.CONNECTOR_BASE_URL,r="";o.hasId(n)&&(t=o.getId(n),r="/duplicate"),e.path(i+t+r)}function F(n){var t=o.getId(n),i=a.CONNECTOR_BASE_URL+t;e.path(i)}var B=o.url("databroker/connectors"),R=o.contentHeaders("connector",!0),P=o.createEnum([{name:"ALARM",value:"alarm",label:r("Alarms"),icon:"bell"},{name:"EVENT",value:"event",label:r("Events"),icon:"rss"},{name:"MEASUREMENT",value:"measurement",label:r("Measurements"),icon:"bar-chart-o"},{name:"MANAGED_OBJECT",value:"managedObject",label:r("Managed objects"),icon:"cubes"},{name:"OPERATION",value:"operation",label:r("Operations"),icon:"code"},{name:"ALL",value:"*",hidden:!0}]),O=o.createEnum([{name:"ACTIVE",label:r("active")},{name:"ACTIVATING",label:r("activating")},{name:"SUSPENDED",label:r("suspended")},{name:"WAITING",label:r("waiting")}]),$=o.createEnum([{name:"ACTIVE",label:r("active")},{name:"SUSPENDED",label:r("suspended")},{name:"WAITING",label:r("waiting")}]),G=o.createEnum([{name:"ACTIVE",label:r("active")},{name:"ACTIVATING",label:r("activating")},{name:"PENDING",label:r("pending")},{name:"SUSPENDED",label:r("suspended")},{name:"WAITING",label:r("waiting")}]),V=["id","status","destinationStatus","instanceUrl","tenantId","username","password","code","self","suspendReason"];return{getConnectors:s,saveConnector:m,createConnector:v,updateConnector:g,toggleConnectorStatus:b,getConnector:d,getConnectorStub:p,getConnectorDuplicate:u,deleteConnector:h,updateConnectorName:T,convertToViewModel:E,convertToBackendModel:N,getFilterFragmentsSummary:I,navigateToList:w,navigateToNew:U,navigateToDetails:F,getMappedStatus:y,getStatusTooltip:S,APIS:P,STATUS:O,MAPPED_STATUS:G,DESTINATION_STATUS:$}}n.$inject=["$q","$http","$location","c8yBase","c8yLocales","dataBrokerConstants","gettext","gettextCatalog"],angular.module("c8y.dataBroker").factory("dataBrokerConnectorsSvc",n)}(),function(){"use strict";function n(n,t,e,o,i,a,r,c){function s(){l(),g()}function l(){t.getConnectors().then(function(n){y.connectors=n})}function d(){l()}function u(n){t.navigateToDetails(n)}function p(n){t.navigateToNew(n)}function m(n){return o({title:r("Confirm delete?"),body:c.getString('Do you really want to delete connector "{{name}}"?',n),status:"danger",labels:{ok:r("Delete")}}).then(_.partial(t.deleteConnector,n.id)).then(function(){i.success(r("Connector successfully deleted!")),l()})}function v(n,e){n.stopPropagation(),n.preventDefault(),t.toggleConnectorStatus(e)}function g(){a.addListener(h,S,a.realtimeActions().UPDATE,b),a.addListener(h,S,a.realtimeActions().CREATE,f),a.addListener(h,S,a.realtimeActions().DELETE,f),a.start(h,S),n.$on("$destroy",function(){a.stop(h,S)})}function b(n,e){var o=_.find(y.connectors,{id:e.id});_.assign(o,_.pick(e,"destinationStatus")),_.isUndefined(o)||_.set(o,"visibleStatus",t.getMappedStatus(o))}function f(){d()}var y=this,S="/brokerconnectors/*",h=n.$id;_.assign(y,{$onInit:s,reload:d,editConnector:u,duplicateConnector:p,deleteConnector:m,toggleConnectorStatus:v,ROUTE_NEW_CONNECTOR:e.ROUTE_NEW_CONNECTOR,STATUS:t.STATUS,MAPPED_STATUS:t.MAPPED_STATUS,getStatusTooltip:t.getStatusTooltip})}n.$inject=["$scope","dataBrokerConnectorsSvc","dataBrokerConstants","c8yModal","c8yAlert","c8yRealtime","gettext","gettextCatalog"],angular.module("c8y.dataBroker").component("c8yDataBrokerConnectorsList",{templateUrl:"core_dataBroker/connectors/connectors.html",controller:n,controllerAs:"vm"})}(),function(){"use strict";function n(n,t,e,o,i,a,r,c){function s(){l()}function l(){return n.all(_.transform(i.APIS.values(),function(n,t){var e=t.name+"S",o=_.get(a.ENTITIES[e],"staticSchemaPath");o&&(n[t.value]=a.another(o).list())},{})).then(function(n){F=n})}function d(n){n.inputDuplicateId&&U.inputDuplicateId?u(U.inputDuplicateId):n.inputId&&U.inputId?p(U.inputId):n.inputConnector&&U.inputConnector&&m(U.inputConnector)}function u(n){i.getConnectorDuplicate(n).then(i.convertToViewModel).then(function(n){U.connector=n})}function p(n){"new"===n?(U.connector=i.getConnectorStub(),e.find("#connectorName").eq(0).focus()):i.getConnector(n).then(i.convertToViewModel).then(function(n){U.connector=n})}function m(n){U.connector=i.convertToViewModel(n)}function v(){U.connector.filters.push(g())}function g(){return{isOpen:!0,selectedGroupOrDevice:null,apis:{alarm:!0,event:!0,measurement:!0,managedObject:!0,operation:!0},fragmentsToFilter:[{fragment:""}],fragmentsToCopy:[{fragment:""}],copyAllFragments:!1,typeFilter:""}}function b(n){_.remove(U.connector.filters,n)}function f(n,t){n[t].push({fragment:""})}function y(n,t,e){1===n[t].length?_.set(n[t][0],"fragment",""):_.remove(n[t],e)}function S(n,t){n[t]=[],f(n,t)}function h(n){var t=function(n,t){return n?F[t]:[]},e=function(n){return n.keyPath.join(".")},o=function(n){return n.toLowerCase()};return _(n.apis).map(t).flatten().reject("computed").map(e).uniq().orderBy([o],["asc"]).value()}function T(n){return n.$valid&&_.get(U,"connector.filters")&&E()&&C()}function E(){return U.connector.filters.length>=1}function C(){return _.every(U.connector.filters,function(n){return _.some(n.apis)})}function k(n){var e=void 0,o=i.convertToBackendModel(U.connector);return e=t.onSave?U.onSave(n,{connector:o}):A(n,o)}function A(n,t){return i.saveConnector(t).then(i.navigateToDetails).then(function(){r.success(c("Connector saved!")),n.$setPristine()})}function N(n){var e=void 0;return e=t.onSaveName?U.onSaveName({connector:U.connector,name:n}):x(U.connector,n)}function x(n,t){return i.updateConnectorName(n,t).then(function(){o.hasId(n)&&r.success(c("Connector name updated!"))})}function I(){var n=void 0,e=i.convertToBackendModel(U.connector);return n=t.onRemove?U.onRemove({connector:e}):D(e)}function D(n){return i.deleteConnector(n.id).then(i.navigateToList).then(function(){r.success(c("Connector removed!"))})}function w(){var n=void 0;return t.onCancel?n=U.onCancel():i.navigateToList(),n}var U=this,F=void 0;_.assign(U,{$onInit:s,$onChanges:d,addFilter:v,removeFilter:b,addFragment:f,removeFragment:y,clearFragments:S,getSuggestedFragments:h,saveName:N,canSave:T,save:k,remove:I,cancel:w,getFilterFragmentsSummary:i.getFilterFragmentsSummary,apis:i.APIS.values()})}n.$inject=["$q","$attrs","$element","c8yBase","dataBrokerConnectorsSvc","c8yPropertiesLibrary","c8yAlert","gettext"],angular.module("c8y.dataBroker").component("c8yDataBrokerConnectorEditor",{bindings:{inputDuplicateId:"<duplicateId",inputId:"<id",inputConnector:"<connector",onSave:"&",onSaveName:"&",onRemove:"&",onCancel:"&"},templateUrl:"core_dataBroker/connectors/connectorEditor.html",controller:n,controllerAs:"vm"})}(),function(){"use strict";function n(n,t,e,o,i,a,r,c){function s(){var n={fragmentType:C};return e.list(n).then(l)}function l(n){var e=_.map(n,function(n){var t=u(n.owner).then(function(t){return _.assign({},{userStatus:t.enabled,visibleUserStatus:v(t),userId:t.id,status:_.assign({},d(n.c8y_BrokerSource.status)),id:n.id,_c8y_BrokerSource:n.c8y_BrokerSource})});return t});return t.all(e)}function d(n){var t={};switch(n){case r.STATUS.ACTIVE.value:t={icon:"check",textClass:"text-success",text:c("Active")};break;case r.STATUS.SUSPENDED.value:t={icon:"exclamation-triangle",textClass:"text-warning",text:c("Inactive")};break;case r.STATUS.WAITING.value:t={icon:"spinner",iconClass:"fa-spin",textClass:"text-warning",text:c("Waiting")}}return _.assign(t,{value:n}),t}function u(n){return o.detail(n).then(i.getResData)}function p(n,t){var e=t?o.enable(n):o.disable(n);return e.then(i.getResData)}function m(n){var t="_"+C;return _.set(n,C,null),e.save(_.pick(n,["id",C,t]))}function v(n){return c(n.enabled?"enabled":"disabled")}function g(){var t=i.cleanListCallback("newDeviceRequests",g,{});return n.get(T).then(t).then(b)}function b(n){return _(n).filter(A).map(function(n){return _.assign({},_.get(n,"customProperties.c8y_BrokerSource"),{status:E[n.status],type:n.type,id:n.id})}).value()}function f(t){var e=h(t);return n.put(e,{status:E.ACCEPTED.name},{headers:i.contentHeaders("newDeviceRequest")})}function y(t){var e=h(t);return n.delete(e)}function S(t){return n.post(T,{id:t,type:k},{headers:i.contentHeaders("newDeviceRequest")})}function h(n){return T+"/"+encodeURIComponent(n)}var T=i.url("devicecontrol/newDeviceRequests"),E=i.createEnum([{name:a.status.WAITING_FOR_CONNECTION,label:c("Waiting for connection")},{name:a.status.PENDING_ACCEPTANCE,label:c("Pending acceptance")},{name:a.status.ACCEPTED,label:c("Accepted")}]),C="c8y_BrokerSource",k="c8y_DataBroker",A={type:k},N={list:s,getUserDetails:u,updateUserStatus:p,listPending:g,acceptSubscription:f,discardSubscription:y,registerNewSubscription:S,NEW_DEVICE_REQUEST_STATUS:E,removeSubscription:m,getVisibleUserStatusText:v};return N}n.$inject=["$http","$q","c8yInventory","c8yUser","c8yBase","c8yDeviceRegistration","dataBrokerConnectorsSvc","gettext"],angular.module("c8y.dataBroker").factory("dataBrokerSubscriptionsSvc",n)}(),function(){"use strict";function n(n,t,e){function o(){_.assign(g,{toggleAddNewSubscriptionForm:c,NEW_DEVICE_REQUEST_STATUS:t.NEW_DEVICE_REQUEST_STATUS,isSubscriptionsListEmpty:v}),i(),s(),d()}function i(){r(),a()}function a(){return t.list().then(function(n){return g.subscriptions=n,n}).then(p)}function r(){return t.listPending().then(function(n){g.pendingSubscriptions=n})}function c(n){g.isShownAddNewSubscription=!n}function s(){e.addListener(b,f,e.realtimeActions().UPDATE,l),e.start(b,f),n.$on("$destroy",function(){e.stop(b,f)})}function l(n,e){if(e.status===t.NEW_DEVICE_REQUEST_STATUS.PENDING_ACCEPTANCE.value){var o=_.find(g.pendingSubscriptions,{id:e.id});_.assign(o,{status:t.NEW_DEVICE_REQUEST_STATUS[e.status]})}}function d(){e.addListener(b,y,e.realtimeActions().CREATE,u),e.start(b,y),n.$on("$destroy",function(){e.stop(b,y)})}function u(n,t){var e=!!_.find(g.pendingSubscriptions,{id:_.last(t.owner.split("_"))});e&&i()}function p(t){_.forEach(t,function(n){var t="/managedobjects/"+n.id,o=!!_.find(g.devicesSubscribedForRealtimeUpdates,{id:n.id});o||(e.addListener(b,t,e.realtimeActions().UPDATE,m),e.start(b,t),g.devicesSubscribedForRealtimeUpdates.push({id:n.id,realtimeUpdatePath:t}))}),n.$on("$destroy",function(){_.forEach(g.devicesSubscribedForRealtimeUpdates,function(n){e.stop(b,n.realtimeUpdatePath)})})}function m(n,t){var o=!!_.find(g.subscriptions,{id:t.id});if(o){if(!t.c8y_BrokerSource){var a=_.find(g.devicesSubscribedForRealtimeUpdates,{id:t.id});e.stop(b,a.realtimeUpdatePath),_.pull(g.devicesSubscribedForRealtimeUpdates,a)}i()}}function v(){return g.subscriptions.length<1&&g.pendingSubscriptions.length<1&&!g.isShownAddNewSubscription}var g=this,b=n.$id,f="/bootstrap",y="/managedobjects/*";_.assign(g,{$onInit:o,subscriptions:[],pendingSubscriptions:[],devicesSubscribedForRealtimeUpdates:[],isShownAddNewSubscription:!1,reload:i})}n.$inject=["$scope","dataBrokerSubscriptionsSvc","c8yRealtime"],angular.module("c8y.dataBroker").component("c8yDataBrokerSubscriptions",{templateUrl:"core_dataBroker/subscriptions/subscriptions.html",controller:n,controllerAs:"vm"})}(),function(){"use strict";function n(n,t,e,o,i){function a(a){return t({title:o("Confirm delete?"),body:i.getString('Do you really want to delete subscription "{{connectorName}}"?',_.get(a,"_c8y_BrokerSource")),status:"danger",labels:{ok:o("Delete")}}).then(_.partial(n.removeSubscription,a)).then(function(){return n.updateUserStatus(a.userId,!1)}).then(c.onReload).then(function(){e.success(o("Subscription removed successfully!"))})}function r(t,e){t.stopPropagation(),t.preventDefault(),n.updateUserStatus(e.userId,!e.userStatus).then(function(t){e.userStatus=t.enabled,e.visibleUserStatus=n.getVisibleUserStatusText(t)})}var c=this;_.assign(c,{removeSubscription:a,toggleSubscriptionStatus:r})}n.$inject=["dataBrokerSubscriptionsSvc","c8yModal","c8yAlert","gettext","gettextCatalog"],angular.module("c8y.dataBroker").component("c8yDataBrokerSubscription",{controller:n,controllerAs:"vm",templateUrl:"core_dataBroker/subscriptions/subscription.html",bindings:{acceptedSubscription:"<",onReload:"&"}})}(),function(){"use strict";function n(n,t,e){function o(){n.registerNewSubscription(i.code).then(function(){i.isShown=!1,i.code=""}).then(i.onReload).then(function(){t.add({text:e("New subscription code registered successfully!"),type:"success"})})}var i=this;_.assign(i,{addSubscription:o,code:""})}n.$inject=["dataBrokerSubscriptionsSvc","c8yAlert","gettext"],angular.module("c8y.dataBroker").component("c8yDataBrokerAddSubscription",{controller:n,controllerAs:"vm",templateUrl:"core_dataBroker/subscriptions/addSubscription.html",bindings:{onReload:"&",isShown:"="}})}(),function(){"use strict";function n(n,t,e,o,i){function a(){_.assign(m,{acceptSubscription:n.onAccept?m.onAccept:r,discardSubscription:n.onDiscard?m.onDiscard:c,NEW_DEVICE_REQUEST_STATUS:t.NEW_DEVICE_REQUEST_STATUS,isWaitingForConnection:s,isPendingAcceptance:l,isAccepted:d,getStatusText:u,getCode:p})}function r(n){t.acceptSubscription(n.id).then(m.onReload).then(function(){e.success(o("Accept operation completed successfully!"))})}function c(n){t.discardSubscription(n.id).then(m.onReload).then(function(){e.success(o("Discard operation completed successfully!"))})}function s(n){return _.get(n,"status.value")===m.NEW_DEVICE_REQUEST_STATUS.WAITING_FOR_CONNECTION.value}function l(n){return _.get(n,"status.value")===m.NEW_DEVICE_REQUEST_STATUS.PENDING_ACCEPTANCE.value}function d(n){return _.get(n,"status.value")===m.NEW_DEVICE_REQUEST_STATUS.ACCEPTED.value}function u(n){return i.getString("{{status | translate}} using code {{code}}",{status:n.status.label,code:p(n)})}function p(n){return n.connectorName||n.id}var m=this;_.assign(m,{$onInit:a})}n.$inject=["$attrs","dataBrokerSubscriptionsSvc","c8yAlert","gettext","gettextCatalog"],angular.module("c8y.dataBroker").component("c8yDataBrokerPendingSubscription",{controller:n,controllerAs:"vm",templateUrl:"core_dataBroker/subscriptions/pendingSubscription.html",bindings:{pendingSubscription:"<",onReload:"&",onAccept:"&?",onDiscard:"&?"}})}(),function(){"use strict";function n(n){var t;t='<c8y-ui-title-set>\n    <h1 class="title" style="display: block">\n      <span ng-if="vm.connector.name">{{vm.connector.name}}</span>\n      <span ng-if="!vm.connector.name" translate>New data connector</span>\n    </h1>\n</c8y-ui-title-set>\n\n<c8y-breadcrumbs-set>\n  <c8y-breadcrumbs-item path="#/connectors/" label="{{\'Data connectors\' | translate}}" icon="c8y-connector-out"></c8y-breadcrumbs-item>\n</c8y-breadcrumbs-set>\n\n<form name="connectorForm" novalidate>\n  <div class="row">\n    <div class="col-md-8">\n      <div class="card">\n        <div class="card-block">\n          <div class="form-group">\n            <label for="connectorName" translate>\n              Title\n            </label>\n            <input id="connectorName" name="connectorName" type="text" class="form-control" ng-model="vm.connector.name" placeholder="{{\'e.g. My connector\' | translate}}" required>\n            <c8y-error-feedback field="connectorForm.connectorName">\n            </c8y-error-feedback>\n          </div>\n\n          <div class="form-group">\n            <label for="instanceUrl" translate>\n              Target URL for data connector\n            </label>\n            <input id="instanceUrl" name="instanceUrl" type="url" class="form-control" ng-model="vm.connector.instanceUrl" ng-if="!vm.connector.id" placeholder="{{\'e.g. https://target-tenant.com\' | translate}}" required>\n            <input name="instanceUrl" type="text" class="form-control" ng-model="vm.connector.instanceUrl" ng-if="vm.connector.id" disabled="disabled">\n            <c8y-error-feedback field="connectorForm.instanceUrl">\n              <span ng-message="url" translate>\n                Valid url is required.\n              </span>\n            </c8y-error-feedback>\n          </div>\n\n          <div class="form-group">\n            <label for="description" translate>\n              Description\n            </label>\n            <textarea id="description" name="description" class="form-control" style="height:100px" ng-maxlength="1000" ng-model="vm.connector.description" placeholder="{{\'e.g. Forwarding measurements\' | translate}}">\n            </textarea>\n            <c8y-error-feedback field="connectorForm.description">\n            </c8y-error-feedback>\n          </div>\n        </div>\n        <fieldset style="margin-top: -20px">\n          <div class="legend form-block center" translate>\n            Data filters\n          </div>\n          <div class="card-block">\n\n            <div class="card" ng-if="vm.connector.filters.length === 0">\n              <div class="c8y-empty-state text-left">\n                <h1 c8y-icon="c8y-connector-out" class="c8y-icon-duocolor"></h1>\n                <p translate><strong>No data filters defined.</strong><br>Data filters define the set of data to be forwarded. You must set at least one filter.</p>\n              </div>\n            </div>\n\n\n          <uib-accordion close-others="false">\n            <div uib-accordion-group ng-repeat="filter in vm.connector.filters" template-url="core_dataBroker/connectors/connectorFilterAccordionGroup.html" class="panel-default" is-open="filter.isOpen">\n              <uib-accordion-heading>\n\n                <div ng-if="filter.selectedGroupOrDevice.name" class="col-xs-4">\n                  <div class="text-truncate">\n                    {{filter.selectedGroupOrDevice.name}}\n                  </div>\n                </div>\n                <div ng-if="!filter.selectedGroupOrDevice.name" class="col-xs-4" translate>\n                  All groups and devices\n                </div>\n\n                <div class="col-xs-6">\n                  <div class="text-muted text-truncate" title="{{vm.getFilterFragmentsSummary(filter)}}">\n                    <i c8y-icon="filter"></i>\n                    <span ng-bind="vm.getFilterFragmentsSummary(filter)"></span>\n                  </div>\n                </div>\n\n                <div class="col-xs-2 text-right">\n                  <button class="showOnHover btn-clean text-danger" style="font-size: 18px; line-height: .5" ng-click="vm.removeFilter(filter)" title="{{\'Remove\' | translate}}">\n                    <i c8y-icon="minus-circle"></i>\n                  </button>\n                  <button type="button" title="{{\'Expand\' | translate}}" class="collapse-btn" style="height:auto"><i c8y-icon="chevron-down"></i></button>\n                </div>\n              </uib-accordion-heading>\n\n              <div class="row">\n                <div class="col-md-2 text-right">\n                  <label translate>\n                    Group or device\n                  </label>\n                </div>\n                <div class="col-md-10">\n                  <c8y-device-selector-combo selected-child-device="filter.selectedGroupOrDevice" groups-selectable="true" empty-selection-available="true" empty-selection-icon="\'object-group\'" empty-selection-label="\'All\' | translate">\n                  </c8y-device-selector-combo>\n                </div>\n              </div>\n              <hr>\n\n              <div class="row">\n                <div class="col-md-2 text-right">\n                  <label translate>\n                    API\n                  </label>\n                  <p class="text-muted small" translate>\n                    Select at least one\n                  </p>\n                </div>\n                <div class="col-md-10">\n                  <span class="checkbox-inline" ng-repeat="api in vm.apis" ng-if="!api.hidden">\n                    <div class="text-center">\n                      <i c8y-icon="{{api.icon}}"></i><br>\n                      <span ng-bind="api.label | translate"></span>\n                      <label class="c8y-checkbox">\n                        <input type="checkbox" ng-model="filter.apis[api.value]">\n                        <span></span>\n                      </label>\n                    </div>\n                  </span>\n                </div>\n              </div>\n              <hr>\n\n              <div class="row fragments">\n                <div class="col-md-2 text-right">\n                  <label translate>\n                    Fragments to filter\n                  </label>\n                </div>\n                <div class="col-md-10">\n                  <div class="row" ng-repeat="fragmentToFilter in filter.fragmentsToFilter">\n                    <ng-form name="fragmentToFilterForm">\n                      <div class="col-xs-12">\n                        <div class="form-group">\n                          <label class="visible-sm visible-xs" translate>Fragment</label>\n                          <div class="input-group">\n\n                          <input name="fragment" type="text" class="form-control" ng-model="fragmentToFilter.fragment" placeholder="{{\'e.g. c8y_FragmentToFilter\' | translate}}" uib-typeahead="suggestedFragment as suggestedFragment for suggestedFragment in vm.getSuggestedFragments(filter) | filter:$viewValue" typeahead-show-hint="true" typeahead-min-length="0">\n                          <div class="input-group-btn" style="min-width: 83px">\n                            <button class="btn btn-link" ng-disabled="filter.fragmentsToFilter.length === 1 && !fragmentToFilter.fragment" ng-click="vm.removeFragment(filter, \'fragmentsToFilter\', fragmentToFilter)" uib-tooltip="{{\'Remove\' | translate}}" tooltip-append-to-body="true">\n                              <i c8y-icon="minus-circle" class="text-danger"></i>\n                            </button>\n                            <button class="btn btn-link" ng-if="$last" ng-click="vm.addFragment(filter, \'fragmentsToFilter\')" uib-tooltip="{{\'Add\' | translate}}" tooltip-append-to-body="true">\n                              <i c8y-icon="plus-circle"></i>\n                            </button>\n                          </div>\n                          <c8y-error-feedback field="fragmentToFilterForm.fragment">\n                          </c8y-error-feedback>\n                        </div>\n                        </div>\n                      </div>\n\n                    </ng-form>\n                  </div>\n                </div>\n              </div>\n              <hr>\n\n              <div class="row fragments">\n                <div class="col-md-2 text-right">\n                  <label translate>\n                    Fragments to copy\n                  </label>\n                </div>\n                <div class="col-md-10">\n                  <div class="form-group">\n                    <label class="c8y-checkbox">\n                      <input type="checkbox" ng-model="filter.copyAllFragments">\n                      <span></span>\n                      <span translate>Copy all fragments</span>\n                    </label>\n                  </div>\n                  <div ng-repeat="fragmentToCopy in filter.fragmentsToCopy" class="row">\n                    <ng-form name="fragmentToCopyForm">\n                      <div class="col-xs-12">\n                        <div class="form-group">\n                          <label class="visible-sm visible-xs" translate>Fragment</label>\n                          <div class="input-group">\n                            <input name="fragment" type="text" class="form-control" ng-model="fragmentToCopy.fragment" placeholder="{{\'e.g. c8y_FragmentToCopy\' | translate}}" uib-typeahead="suggestedFragment as suggestedFragment for suggestedFragment in vm.getSuggestedFragments(filter) | filter:$viewValue" typeahead-show-hint="true" typeahead-min-length="0" ng-disabled="filter.copyAllFragments">\n                            <div class="input-group-btn" style="min-width: 83px">\n                              <button class="btn btn-link" ng-disabled="filter.copyAllFragments || filter.fragmentsToCopy.length === 1 && !fragmentToCopy.fragment" ng-click="vm.removeFragment(filter, \'fragmentsToCopy\', fragmentToCopy)" uib-tooltip="{{\'Remove\' | translate}}" tooltip-append-to-body="true">\n                                <i c8y-icon="minus-circle" class="text-danger"></i>\n                              </button>\n\n                              <button class="btn btn-link hidden-xs hidden-sm" ng-if="$last" ng-disabled="filter.copyAllFragments" ng-click="vm.addFragment(filter, \'fragmentsToCopy\')" uib-tooltip="{{\'Add\' | translate}}" tooltip-append-to-body="true">\n                                <i c8y-icon="plus-circle"></i>\n                              </button>\n                            </div>\n                          </div>\n                          <c8y-error-feedback field="fragmentToCopyForm.fragment">\n                          </c8y-error-feedback>\n                        </div>\n                      </div>\n                    </ng-form>\n                  </div>\n                </div>\n              </div>\n              <hr>\n\n              <div class="row">\n                <div class="col-md-2 text-right">\n                  <label translate>\n                    Type filter\n                  </label>\n                </div>\n                <div class="col-md-10">\n                  <div class="form-group">\n                    <input name="typeFilter" type="text" class="form-control" ng-model="filter.typeFilter" placeholder="{{\'e.g. c8y_Linux\' | translate}}">\n                    <c8y-error-feedback field="filterForm.typeFilter">\n                    </c8y-error-feedback>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </uib-accordion>\n\n          <a href="" class="btn-add-block" style="margin: 10px 15px; max-width: 100%; width:auto" ng-click="vm.addFilter()">\n            <i c8y-icon="plus-square"></i>\n            <translate>Add filter</translate>\n          </a>\n        </div>\n        </fieldset>\n\n        <div class="card-block bg-gray-lighter" ng-if="vm.connector.code">\n          <div class="form-group">\n            <label translate>\n              Security code\n            </label>\n            <span class="input-group" c8y-copy-to-clipboard>\n              <input c8y-copy-to-clipboard-input type="text" class="form-control" ng-model="vm.connector.code" readonly="readonly">\n              <span class="input-group-btn">\n                <button c8y-copy-to-clipboard-button class="btn btn-default">\n                  <i c8y-icon="copy"></i>\n                </button>\n              </span>\n            </span>\n          </div>\n          <div class="text-info">\n            <i c8y-icon="info-circle"></i>\n            <span translate>Security code will be requested on the target tenant to establish connection.</span>\n          </div>\n        </div>\n      </div>\n\n\n    </div>\n  </div>\n  <div class="text-center page-footer">\n    <c8y-ui-button-footer changed="connectorForm.$dirty">\n      <div class="row">\n        <div class="col-md-8">\n          <button class="btn btn-default" ng-if="!vm.connector.id" ng-click="vm.cancel()" translate>\n            Cancel\n          </button>\n          <button class="btn btn-danger" ng-if="vm.connector.id" ng-click="vm.remove()" translate>\n            Remove\n          </button>\n          <button class="btn btn-primary" type="button" ng-disabled="!vm.canSave(connectorForm) || !connectorForm.$dirty" ng-click="vm.save(connectorForm)" translate>\n            Save\n          </button>\n        </div>\n      </div>\n    </c8y-ui-button-footer>\n\n      </div>\n    \n\n  \n</form>\n',
n.put("dataBroker/connectors/connectorEditor.html",t),n.put("core_dataBroker/connectors/connectorEditor.html",t),n.put("/apps/core/dataBroker/connectors/connectorEditor.html",t),t='\r\n<div tabindex="0" class="accordion-toggle interact" ng-click="toggleOpen()" uib-accordion-transclude="heading" style="padding: 10px 15px">\r\n  <div uib-accordion-header class="row" ng-class="{\'text-muted\': isDisabled}">\r\n    {{heading}}\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class="panel-collapse collapse" uib-collapse="!isOpen">\r\n  <div class="panel-body" ng-transclude></div>\r\n</div>\r\n',n.put("dataBroker/connectors/connectorFilterAccordionGroup.html",t),n.put("core_dataBroker/connectors/connectorFilterAccordionGroup.html",t),n.put("/apps/core/dataBroker/connectors/connectorFilterAccordionGroup.html",t),t='<c8y-ui-title-set title="\'Data connectors\' | translate">\n</c8y-ui-title-set>\n\n<c8y-ui-action-bar-set>\n  <a ng-href="#{{vm.ROUTE_NEW_CONNECTOR}}" class="btn btn-link">\n    <i c8y-icon="plus-circle"></i> {{\'Add data connector\' | translate}}\n  </a>\n  <button type="button" class="btn btn-link" ng-click="vm.reload()">\n    <i c8y-icon="refresh"></i> {{\'Reload\' | translate}}\n  </button>\n</c8y-ui-action-bar-set>\n\n\n<div class="c8y-empty-state text-center" ng-if="vm.connectors.length === 0" style="margin-top: 30px">\n  <h1 c8y-icon="c8y-connector-out c8y-icon-duocolor"></h1>\n  <h3 translate>No data connectors to display.</h3>\n  <p translate>Add your first data connector by clicking below.</p>\n  <a ng-href="#{{vm.ROUTE_NEW_CONNECTOR}}" class="btn btn-primary">\n    {{\'Add data connector\' | translate}}\n  </a>\n  <p class="top-m-xs" c8y-guide-docs><small><span translate>Find out more on the <a c8y-guide-href="users-guide/overview/">User guide</a>.</span></small></p>\n</div>\n\n<div class="card-group interact-grid">\n  <div ng-if="vm.connectors.length > 0" ng-repeat="connector in vm.connectors |orderBy:\'name\'" class="col-xs-12 col-sm-4 col-md-3">\n    <div class="card">\n      <div class="card-actions">\n        <div class="dropdown settings" uib-dropdown>\n          <a class="dropdown-toggle c8y-dropdown" uib-dropdown-toggle ng-click="::$event.stopPropagation()">\n            <span><i c8y-icon="ellipsis-v"></i></span>\n          </a>\n          <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n            <li>\n              <a href="" ng-click="::$event.stopPropagation();vm.editConnector(connector.id)">\n                <i c8y-icon="edit"></i> <translate>Edit</translate>\n              </a>\n            </li>\n            <li>\n              <a href="" ng-click="::$event.stopPropagation();vm.duplicateConnector(connector)">\n                <i c8y-icon="clone"></i> <translate>Duplicate</translate>\n              </a>\n            </li>\n            <li>\n              <a href="" ng-click="::$event.stopPropagation();vm.deleteConnector(connector)">\n                <i c8y-icon="trash"></i> <translate>Delete</translate>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div class="card-header" ng-click="vm.editConnector(connector.id)" ng-init="waitingStatus = vm.MAPPED_STATUS.WAITING; activatingStatus = vm.MAPPED_STATUS.ACTIVATING;">\n        <div class="card-icon" style="align-self: flex-start">\n          <i c8y-icon="c8y-connector-out c8y-icon-duocolor"></i>\n        </div>\n        <h4 class="text-truncate card-title" title="{{connector.name}}">\n          {{connector.name}}<br>\n          <small class="text-truncate text-muted" title="{{connector.instanceUrl}}">\n            {{connector.instanceUrl}}\n          </small>\n        </h4>\n      </div>\n      <hr>\n      <div class="card-block">\n        <span class="text-truncate-wrap">{{connector.description}}</span>\n\n        <div class="row">\n\n          <div class="col-xs-8">\n\n            <div class="status-toggle" ng-if="connector.visibleStatus.value === waitingStatus.value" style="line-height: 34px">\n              <i c8y-icon="circle-o-notch" class="fa-spin text-warning"></i>\n              <span class="text-warning">{{waitingStatus.label | translate}}</span>\n              <a href uib-tooltip="{{\'The target Url did not accept the connection yet\' | translate}}">\n                <i c8y-icon="question-circle-o"></i>\n              </a>\n            </div>\n\n            <div class="status-toggle" ng-if="connector.visibleStatus.value === activatingStatus.value" style="line-height: 34px">\n              <i c8y-icon="circle-o-notch" class="fa-spin text-warning"></i>\n              <span class="text-warning">{{activatingStatus.label | translate}}</span>\n              <a href uib-tooltip="{{vm.getStatusTooltip(connector) | translate}}">\n                <i c8y-icon="question-circle-o"></i>\n              </a>\n            </div>\n\n            <div class="status-toggle" ng-if="connector.visibleStatus.value !== waitingStatus.value && connector.visibleStatus.value !== activatingStatus.value" ng-click="vm.toggleConnectorStatus($event, connector)" style="height: 34px">\n              <label class="c8y-switch">\n                <input type="checkbox" ng-checked="connector.visibleStatus.value === vm.MAPPED_STATUS.ACTIVE.value || connector.visibleStatus.value === vm.MAPPED_STATUS.PENDING.value">\n                <span></span>\n                <span>{{connector.visibleStatus.label | translate}}</span>\n              </label>\n              <a href uib-tooltip="{{vm.getStatusTooltip(connector) | translate}}" tooltip-append-to-body="true">\n                <i c8y-icon="question-circle-o"></i>\n              </a>\n            </div>\n          </div>\n\n          <div class="col-xs-4">\n            <div class="text-right" style="line-height: 34px">\n              <span translate>Filters</span>\n              <span class="badge bg-primary" ng-bind="::(connector.filters && connector.filters.length || 0)"></span>\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n\n    </div>\n  </div>\n</div>',n.put("dataBroker/connectors/connectors.html",t),n.put("core_dataBroker/connectors/connectors.html",t),n.put("/apps/core/dataBroker/connectors/connectors.html",t),t='<div class="card card-highlight">\n  <div class="card-header">\n    <h4 class="card-title text-truncate" title="{{\'Subscription registration\' | translate}}">\n      <i c8y-icon="c8y-connector-in c8y-icon-duocolor"></i>\n      <span>{{\'Create new subscription\' | translate}}</span>\n    </h4>\n  </div>\n  <hr>\n  <div class="card-block">\n    <p title="{{\'Register new subscription\' | translate}}" translate class="bottom-m-sm">\n      Insert code provided by source tenant.\n    </p>\n    <form name="addSubscriptionForm" novalidate>\n      <div class="input-group form-group">\n        <input name="code" class="form-control" type="text" placeholder="{{\'Insert security code\' | translate}}" ng-required="true" ng-model="vm.code" c8y-validate-url-segment/>\n        <c8y-error-feedback field="addSubscriptionForm.code"></c8y-error-feedback>\n        <span class="input-group-btn">\n          <button class="btn btn-primary" ng-click="vm.addSubscription()" ng-disabled="addSubscriptionForm.$invalid" translate>Submit</button>\n        </span>\n      </div>\n    </form>\n    <small class="text-muted">\n      <em translate>Subscribed devices are charged as normal devices.</em>\n    </small>\n  </div>\n</div>\n',n.put("dataBroker/subscriptions/addSubscription.html",t),n.put("core_dataBroker/subscriptions/addSubscription.html",t),n.put("/apps/core/dataBroker/subscriptions/addSubscription.html",t),t='<div class="card">\n\n  <div class="card-header separator">\n    <div class="card-icon">\n      <i c8y-icon="c8y-connector-in c8y-icon-duocolor" ng-if="vm.isWaitingForConnection(vm.pendingSubscription) || vm.isAccepted(vm.pendingSubscription)"></i>\n      <i c8y-icon="check" class="text-sucess" ng-if="vm.isPendingAcceptance(vm.pendingSubscription)"></i>\n    </div>\n    <h4 class="text-truncate card-title">\n      <span ng-if="vm.isWaitingForConnection(vm.pendingSubscription)">\n        <span translate>New data subscription</span>\n      </span>\n      <span class="text-success" ng-if="vm.isPendingAcceptance(vm.pendingSubscription)">\n        <span translate>Connection established</span>\n      <small class="text-truncate text-muted">\n          {{vm.getCode(vm.pendingSubscription)}}\n        </small>\n      </span>\n      <span style="display:block" class="text-left" ng-if="vm.isAccepted(vm.pendingSubscription)">\n        <span>{{vm.pendingSubscription.connectorName}}</span>\n      <small class="text-truncate text-muted">\n          {{vm.pendingSubscription.domain}}\n        </small>\n      </span>\n    </h4>\n  </div>\n  <div class="card-block">\n    <div class="text-center" ng-if="vm.isWaitingForConnection(vm.pendingSubscription)">\n      <p class="text-primary">{{vm.getStatusText(vm.pendingSubscription)}}</p>\n      <div class="progress">\n        <div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">\n        </div>\n      </div>\n      <button class="btn btn-default" role="button" ng-click="vm.discardSubscription(vm.pendingSubscription)">\n        <translate>Cancel</translate>\n      </button>\n    </div>\n    <div ng-if="vm.isAccepted(vm.pendingSubscription)">\n      <p>{{vm.pendingSubscription.connectorDescription}}</p>\n      <small class="text-muted" translate>Waiting for data subscription setup to complete…</small>\n    </div>\n\n    <div class="text-center" ng-if="vm.isPendingAcceptance(vm.pendingSubscription)">\n      <p translate>Accept to complete data subscription setup, discard to remove it.</p>\n      <button class="btn btn-default" ng-click="vm.discardSubscription(vm.pendingSubscription)" translate>Discard</button>\n      <button class="btn btn-primary" ng-click="vm.acceptSubscription(vm.pendingSubscription)" translate>Accept</button>\n    </div>\n  </div>\n\n\n</div>',n.put("dataBroker/subscriptions/pendingSubscription.html",t),n.put("core_dataBroker/subscriptions/pendingSubscription.html",t),n.put("/apps/core/dataBroker/subscriptions/pendingSubscription.html",t),t='<div class="card" title="{{vm.acceptedSubscription._c8y_BrokerSource.connectorName}}">\n  <div class="card-actions">\n    <div class="dropdown settings" uib-dropdown>\n      <a class="dropdown-toggle c8y-dropdown btn btn-link" uib-dropdown-toggle ng-click="::$event.stopPropagation()">\n            <span><i c8y-icon="ellipsis-v"></i></span>\n          </a>\n      <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n        <li>\n          <a href="" ng-click="vm.removeSubscription(vm.acceptedSubscription)">\n                <i c8y-icon="trash"></i>\n                <translate>Delete</translate>\n              </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class="card-header separator">\n    <div class="card-icon">\n      <i c8y-icon="c8y-connector-in c8y-icon-duocolor" style="font-size: 125%"></i>\n    </div>\n    <h4 class="text-truncate card-title">\n      <span>{{vm.acceptedSubscription._c8y_BrokerSource.connectorName}}</span>\n      <small class="text-truncate text-muted">\n        {{vm.acceptedSubscription._c8y_BrokerSource.domain}}\n      </small>\n    </h4>\n  </div>\n  <div class="card-block">\n    <span class="text-truncate-wrap" title="{{vm.acceptedSubscription._c8y_BrokerSource.connectorDescription}}">{{vm.acceptedSubscription._c8y_BrokerSource.connectorDescription}}</span>\n    <div class="row">\n      <div class="col-xs-6" ng-click="vm.toggleSubscriptionStatus($event, vm.acceptedSubscription)" style="height:34px">\n        <label class="c8y-switch" title="{{\'Enable or disable data subscription\' | translate}}">\n          <input type="checkbox" ng-checked="vm.acceptedSubscription.userStatus">\n          <span></span>\n          {{vm.acceptedSubscription.visibleUserStatus | translate}}\n        </label>\n      </div>\n      <div class="col-xs-6">\n        <div class="text-right" style="line-height: 34px">\n          <span title="{{\'Source tenant status\' | translate}}" class="subscription-status-info" ng-class="vm.acceptedSubscription.status.textClass">\n            <i ng-class="vm.acceptedSubscription.status.iconClass" c8y-icon="{{vm.acceptedSubscription.status.icon}}"></i>\n            <span>{{vm.acceptedSubscription.status.text | translate}}</span>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n\n</div>',n.put("dataBroker/subscriptions/subscription.html",t),n.put("core_dataBroker/subscriptions/subscription.html",t),n.put("/apps/core/dataBroker/subscriptions/subscription.html",t),t='<div>\n  <c8y-ui-title-set title="\'Data subscriptions\' | translate"></c8y-ui-title-set>\n\n  <c8y-ui-action-bar-set>\n    <a class="btn btn-link" ng-click="vm.toggleAddNewSubscriptionForm(vm.isShownAddNewSubscription)">\n      <i c8y-icon="plus-circle"></i> {{\'Add data subscription\' | translate}}\n    </a>\n    <button type="button" class="btn btn-link" ng-click="vm.reload()">\n      <i c8y-icon="refresh"></i> {{\'Reload\' | translate}}\n    </button>\n  </c8y-ui-action-bar-set>\n\n\n  <div class="c8y-empty-state text-center" ng-if="vm.isSubscriptionsListEmpty()" style="margin-top: 30px">\n    <h1 c8y-icon="c8y-connector-in c8y-icon-duocolor"></h1>\n    <h3 translate>No data subscriptions to display.</h3>\n    <p translate>Add a data subscription by clicking below. </p>\n    <button class="btn btn-primary" ng-click="vm.toggleAddNewSubscriptionForm(vm.isShownAddNewSubscription)">\n      {{\'Add data subscription\' | translate}}\n    </button>\n    <p class="top-m-xs" c8y-guide-docs><small><span translate>Find out more on the <a c8y-guide-href="users-guide/overview/">User guide</a>.</span></small></p>\n  </div>\n\n  <div class="card-group interact-grid">\n    <!--new subscriptions component-->\n    <c8y-data-broker-add-subscription on-reload="vm.reload()" is-shown="vm.isShownAddNewSubscription" ng-if="vm.isShownAddNewSubscription" class="col-xs-12 col-sm-4 col-md-3"/>\n    <!--pending subscriptions component-->\n    <c8y-data-broker-pending-subscription pending-subscription="pendingSubscription" on-reload="vm.reload()" ng-if="vm.pendingSubscriptions.length > 0" ng-repeat="pendingSubscription in vm.pendingSubscriptions | orderBy:\'name\'" class="col-xs-12 col-sm-4 col-md-3"></c8y-data-broker-pending-subscription>\n    <!--subscription list component-->\n    <c8y-data-broker-subscription accepted-subscription="subscription" on-reload="vm.reload()" ng-if="vm.subscriptions.length > 0" ng-repeat="subscription in vm.subscriptions | orderBy:\'connectorName\'" class="col-xs-12 col-sm-4 col-md-3"></c8y-data-broker-subscription>\n  </div>\n\n</div>',n.put("dataBroker/subscriptions/subscriptions.html",t),n.put("core_dataBroker/subscriptions/subscriptions.html",t),n.put("/apps/core/dataBroker/subscriptions/subscriptions.html",t)}angular.module("c8y.dataBroker").run(["$templateCache",n])}();