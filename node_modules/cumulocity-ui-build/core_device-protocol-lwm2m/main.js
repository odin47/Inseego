/* core_device-protocol-lwm2m 9.12.5 2018-08-27T16:53:59+00:00 b689bea882f7+ (release/9.12.0) tip */
!function(){"use strict";function e(e,t,n){e.initUi(),t.initUi(),n.initUi()}e.$inject=["c8yLwm2mProvider","c8yLwm2mPostOperationsUiProvider","c8yLwm2mBootstrapUiProvider"],angular.module("c8y.lwm2m",["c8y.lwm2m.bootstrap","c8y.deviceProtocols"]).config(e)}(),function(){"use strict";function e(e,n,a){function o(e){_.assign(this,e)}function i(){n.register(l),a.when(s.path,s)}function r(t,n,a,o,i,r,l,c,m){function d(){return a.isAvailable({name:"lwm2m-agent",type:"MICROSERVICE"})}function u(){return u._cached||(u._cached=d()),u._cached}function p(){return["c8yLwm2mUploadStep","c8yLwm2mFinalStep"]}function v(){return r.get(P).then(t.getResData)}function g(e){var a=t.getId(e);return n.detail(a).then(t.getResData)}function f(e){var t=h(e);return s.path.replace(/:id$/,t)}function y(e){var t=h(e);return n.remove(t)}function h(e){return _.get(e,"id")}function b(e){return c.upload({url:P+"/ddf",method:"POST",headers:{Accept:"application/json"},file:e,fileName:e.name.replace(/\s+/g,"_")})}function w(e,t){var n=P+"/"+e+"/add";return r.put(n,t)}function T(){var e={url:N+"postRegistrationOptions",method:"GET",silentError:!0};return r(e).then(t.getResData)}function R(e){var t={url:N+"postRegistrationOptions",method:"PUT",data:{commands:e}};return r(t)}function E(){return V||(V=r.get(N+"mappingActions/resourceactions").then(t.getResData).then(O)),V}function O(e){return _.reduce(e,function(e,t){var n=t.name,a=t.args,o=_.get(a,"length")?a.map(function(e){return n+":"+e}):[n];return e.concat(o)},[])}function I(e){return"c8y_lwm2m"===e.type}function L(){return{type:"object",properties:{endpoint:{type:"string",readonly:!0,title:m.getString("Endpoint")},bootstrapId:{type:"string",title:m.getString("Bootstrap id")},bootstrapKey:{type:"string",title:m.getString("Bootstrap key")},serverUri:{type:"string",title:m.getString("Server URI")},securityMode:{type:"string",enum:["PSK","RPK","X509","NO_SEC"],title:m.getString("Security mode")},publicKeyOrId:{type:"string",title:m.getString("Public key or id")},serverPublicKey:{type:"string",title:m.getString("Server public key")},secretKey:{type:"string",title:m.getString("Secret key")},securityInstanceOffset:{type:"string",title:m.getString("Security instance offset")},generateBootstrapServerConfig:{type:"boolean",title:m.getString("Generate boostrap server config"),"x-schema-form":{type:"select",titleMap:[{value:!0,name:m.getString("Yes")},{value:!1,name:m.getString("No")}]}},bootstrapShortServerId:{type:"string",title:m.getString("Bootstrap short server id")},lwm2mShortServerId:{type:"string",title:m.getString("Lwm2m short server id")},registrationLifeTime:{type:"integer",title:m.getString("Registration lifetime")},defaultMinimumPeriod:{type:"integer",title:m.getString("Default minium period")},defaultMaximumPeriod:{type:"integer",title:m.getString("Default maximum period")},bindingMode:{type:"string",title:m.getString("Binding mode"),"x-schema-form":{type:"select",titleMap:[{value:"U",name:m.getString("UDP")},{value:"UQ",name:m.getString("UDP with queue mode")}]}}}}}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["bootstrapId","bootstrapKey","publicKeyOrId","serverPublicKey","secretKey"],a=angular.copy(e),o="PSK"!==t.securityMode;return n.forEach(function(e){a.properties[e].readonly=o}),a}function x(){return l.all({read:i.hasAnyRole(["ROLE_INVENTORY_READ"]),write:i.hasAnyRole(["ROLE_INVENTORY_ADMIN"])})}function D(e,n){var a={url:M(e),method:n?"PUT":"GET"};return n&&(a.data=n),r(a).then(t.getResData)}function M(e){return N+"device/"+e+"/bootstrapParams"}var N=t.url("service/lwm2m-agent/"),P=N+"objectResourceMappings",A={minPeriod:e("The minimum period attribute indicates the minimum time in seconds the LWM2M client MUST wait between two notifications."),maxPeriod:e("The maximum period attribute indicates the maximum time in seconds the LWM2M client MAY wait between two notifications."),greaterThan:e("This greater than attribute defines a threshold high value."),lessThan:e("This less than attribute defines a threshold low value."),step:e("This step attribute defines a minimum change value between two notifications.")},V=void 0,C={INTEGER:"INTEGER",FLOAT:"FLOAT",STRING:"STRING",BOOLEAN:"BOOLEAN",TIME:"TIME",OBJECTLINK:"OBJECTLINK"},$={LT:"lt",GT:"gt",EQ:"eq",NEQ:"neq",GTE:"gte",LTE:"lte",AND:"and",OR:"or"},j={GT:"Greater than",LT:"Lower than",GTE:"Greater or equals than",LTE:"Lower or equals than",EQ:"Equals",NEQ:"Equals not"},k={NUMBER:"number",DATE:"date",STRING:"string",REGEX:"regex",OBJECTLINK:"objectLink"},U={RuleType:$,ValueType:k,ResourceDataType:C,RuleName:j};return{flow:p,list:v,detail:g,detailPath:f,upload:b,remove:y,getName:o.getName,updateMapping:w,getPostRegistrationOptions:T,setPostRegistrationOptions:R,helpTexts:A,isServiceAvailable:d,showIf:u,listRowInfoComponent:"c8yDeviceProtocolRowCountResources",getCustomActions:E,Validation:U,isDeviceType:I,bootstrapSchema:L,bootstrapSchemaChange:S,bootstrapPermissions:x,bootstrapParams:D}}o.$inject=["$routeParams"],r.$inject=["c8yBase","c8yInventory","c8yApplication","c8yObjectMappings","c8yPermissions","$http","$q","$upload","gettextCatalog"];var l={service:t,id:"lwm2m",name:e("LWM2M")},s={path:"/deviceprotocols/"+l.id+"/:id",template:'<c8y-lwm2m-detail id="vm.id"></c8y-lwm2m-detail>',controllerAs:"vm",controller:o};return{initUi:i,$get:r}}e.$inject=["gettext","c8yDeviceProtocolUiProvider","c8yViewsProvider"];var t="c8yLwm2m";angular.module("c8y.lwm2m").provider(t,e)}(),function(){"use strict";function e(e,t,n,a,o){function i(t){r(!0),v.progress=0,v.multipleProgress=_.fill(Array(t.length),0);var n=_.map(t,l);return e.all(n).then(c,d).then(u,u)}function r(e){v.inProgress=e,p.wizardCtrl.setAllowUserInteraction(!e)}function l(e,t){return a.upload(e.file).progress(function(e){s(e,t)}).then(n.getResData)}function s(e,t){var n=v.multipleProgress;n[t]=10+e.loaded/e.total*90,v.progress=_.sum(n)/n.length}function c(e){var n="c8yLwm2mFinalStep";v.progress=100,p.wizardCtrl.data.updloadResult=m(e),t(_.partial(p.wizardCtrl.goTo,n),200)}function m(e){return e.reduce(function(e,t){return _.forEach(t,function(t,n){e[n]=_.get(e,n,[]).concat(t)}),e},{})}function d(e){var t=e.data,n=p.wizardCtrl,a=n.data;a.errorMsg=_.get(t,"message")||o("Parsing the DDF file resulted in an internal error"),a.backStep=n.getCurrentStep().stepId,n.goTo("error")}function u(){r(!1)}var p=this,v={inProgress:!1,progress:0,label:null};_.assign(p,{upload:i,processingStatus:v})}e.$inject=["$q","$timeout","c8yBase","c8yLwm2m","gettext"],angular.module("c8y.lwm2m").component("c8yLwm2mUploadStep",{templateUrl:"core_device-protocol-lwm2m/lwm2mUploadStep.html",require:{wizardCtrl:"^c8yWizardStep"},controllerAs:"vm",controller:e})}(),function(){"use strict";function e(e,t){function n(){return i().then(p.wizardCtrl.dismiss)}function a(){return i().then(_.partial(p.wizardCtrl.goTo,"c8yLwm2mUploadStep"))}function o(){var e=void 0,n=_.union(l(),c()),a=!(s()&&s().length);a&&1===n.length&&(e=t.detailPath(n[0])),p.wizardCtrl.close({path:e})}function i(){var n=_.map(l(),t.remove);return e.all(n).then(m)}function r(){return _.get(p,v)}function l(){return _.get(r(),"new")}function s(){return _.get(r(),"error")}function c(){return _.get(r(),"updated")}function m(){_.unset(p,v)}function d(e){return t.getName(e)}function u(e){var n=t.detailPath(e);p.wizardCtrl.close({path:n})}var p=this,v="wizardCtrl.data.updloadResult";_.assign(p,{back:a,cancel:n,created:l,errors:s,finish:o,gotoDetail:u,name:d,updated:c})}e.$inject=["$q","c8yLwm2m"],angular.module("c8y.lwm2m").component("c8yLwm2mFinalStep",{templateUrl:"core_device-protocol-lwm2m/lwm2mFinalStep.html",controllerAs:"vm",controller:e,require:{wizardCtrl:"^c8yWizardStep"}})}(),function(){"use strict";function e(e,t){function n(e){e.id&&a()}function a(){e.detail(d.id).then(o),e.getCustomActions().then(i)}function o(t){d.object=t,d.title=e.getName(t)}function i(e){d.customActions=e}function r(t){return e.updateMapping(d.object.id,t).then(a)}function l(){return t.getMappings(d.object)}function s(){return t.getMainObject(d.object)}function c(){return t.getResources(d.object)}function m(e){return _.get(l(),e)}var d=this;_.assign(d,{$onChanges:n,updateMapping:r,getMappings:l,getResources:c,getMainObject:s,getMappingForResource:m})}e.$inject=["c8yLwm2m","c8yObjectMappings"],angular.module("c8y.lwm2m").component("c8yLwm2mDetail",{templateUrl:"core_device-protocol-lwm2m/lwm2mDetail.html",controller:e,controllerAs:"vm",bindings:{id:"<"}})}(),function(){"use strict";function e(e){function t(){r()}function n(){return a()&&o()}function a(){var e=_.get(u.resource,"operations");return!!e&&("W"===e||"RW"===e)}function o(){var t=_.get(u.resource,"dataType");return!!t&&!_.isUndefined(e.Validation.ResourceDataType[t])}function i(){var e=_.get(u.mapping,"validation.arg");return!!e&&e.length>0}function r(){e.getCustomActions().then(function(e){u.customActions=e})}function l(e){e.serverMapping&&c()}function s(){u.isDetailOpen=!u.isDetailOpen}function c(){u.mapping=_.cloneDeep(u.serverMapping)||{}}function m(){s(),c()}function d(){var e={},t=u.resource.id;e[t]=_.assign({resourceID:t},u.mapping),u.onUpdate({mapping:e}).then(s)}var u=this;_.assign(u,{$onChanges:l,toggleDetail:s,helpTexts:e.helpTexts,save:d,$onInit:t,showValidation:n,validationAvailable:i,cancel:m})}e.$inject=["c8yLwm2m"],angular.module("c8y.lwm2m").component("c8yLwm2mResource",{templateUrl:"core_device-protocol-lwm2m/lwm2mResource.html",controllerAs:"vm",controller:e,bindings:{resource:"<",serverMapping:"<mapping",onUpdate:"&"}})}(),function(){"use strict";function e(e,t){function n(){i(),r(),l()}function a(){o()}function o(){var e={type:v.OR,arg:[]};_.map(p.rules,function(t){e.arg.push({type:v.AND,arg:t})}),_.assign(p.mapping,{validation:e.arg.length>0?e:null})}function i(){p.options=_.filter(b,{valueTypes:[p.resource.dataType]}).map(function(e){return e.type})}function r(){p.valueTypes=_.flatten(_.filter(w,{resourceTypes:[p.resource.dataType]}).map(function(e){return e.valueTypes}))}function l(){var e=_.get(p.mapping,"validation");e&&e.type&&e.arg&&e.type===v.OR&&_.forEach(e.arg,function(e){p.rules.push(e.arg)})}function s(){p.rules.push([m()])}function c(e){if(_.isEmpty(e)&&0===p.rules.length)s();else{for(var t=-1,n=0;n<p.rules.length;n++){var a=p.rules[n];if(_.find(a,e)){t=n;break}}t>-1&&p.rules[t].push(m())}o()}function m(){return{type:_.first(p.options),arg:{valueType:_.first(p.valueTypes),value:void 0}}}function d(e){_.forEach(p.rules,function(t){_.remove(t,e)}),_.remove(p.rules,function(e){return 0===e.length}),p.mappingForm.$setDirty(),o()}function u(e){return _.last(p.rules)===e}var p=this;_.assign(p,{changes:a,addOrGroup:s,addAndRule:c,remove:d,rules:[],valueTypes:[],isLast:u,resourceDataType:p.resource.dataType});var v=t.Validation.RuleType,g=t.Validation.ValueType,f=t.Validation.ResourceDataType,y=[f.INTEGER,f.FLOAT,f.TIME],h=[f.INTEGER,f.FLOAT,f.TIME,f.STRING,f.BOOLEAN,f.OBJECTLINK],b=[{type:v.GT,valueTypes:y},{type:v.LT,valueTypes:y},{type:v.EQ,valueTypes:h},{type:v.NEQ,valueTypes:h},{type:v.GTE,valueTypes:y},{type:v.LTE,valueTypes:y}],w=[{resourceTypes:[f.INTEGER,f.FLOAT],valueTypes:[g.NUMBER,g.OBJECTLINK]},{resourceTypes:[f.TIME],valueTypes:[g.DATE,g.OBJECTLINK]},{resourceTypes:[f.STRING,f.OBJECTLINK],valueTypes:[g.STRING,g.REGEX,g.OBJECTLINK]},{resourceTypes:[f.BOOLEAN],valueTypes:[g.STRING,g.OBJECTLINK]}];e.$watch("vm.mapping.validation",function(){p.rules=[],n()})}e.$inject=["$scope","c8yLwm2m"],angular.module("c8y.lwm2m").component("c8yLwm2mValidationRules",{templateUrl:"core_device-protocol-lwm2m/lwm2mValidationRules/lwm2mValidationRules.html",controller:e,controllerAs:"vm",bindings:{mapping:"=",resource:"<"}})}(),function(){"use strict";function e(e,t){function n(){y.rule.type=d(y.selectedRule),y.rule.arg.valueType=y.selectedType,y.rule.arg.value=y.value,y.showDateTime=i()&&r(),y.formValidation=s(),y.onChange({rule:y.rule})}function a(){if(y.showDateTime=r()&&i(),y.showDateTime){var e=o(y.dateTimeValue||_.get(y.rule,"arg.value"));y.value=e.asMs,y.dateTimeValue=e.asString}}function o(e){var t=void 0;if(_.isString(e)){t=moment(e);var n=t.isValid();if(!n){var a=_.toNumber(e);_.isNumber(a)&&(t=moment(new Date(a)))}}else _.isNumber(e)&&(t=moment(new Date(e)));return{asString:_.get(t,"_d"),asMs:t?t.valueOf():void 0}}function i(){return!(!_.isUndefined(y.selectedType)||y.resourceDataType!==p.TIME)||y.selectedType===v.DATE}function r(){return y.resourceDataType===p.TIME}function l(){y.dateTimeValue=moment(new Date(_.toNumber(y.value)))}function s(){var e=_.get(y.rule,"arg.valueType"),n="",a="";return e===v.STRING&&y.resourceDataType===p.BOOLEAN&&(a=t("true or false"),n="(true|false)"),e===v.OBJECTLINK&&(a=t("Reference to another object with this format: /Object/Instance/Resource, for e.g. /3303/0/5700"),n="/[\\d*/]*\\d+"),e===v.NUMBER&&y.resourceDataType===p.INTEGER&&(a=t("Only values of type Integer allowed"),n="-?\\d+"),e===v.NUMBER&&y.resourceDataType===p.FLOAT&&(a=t("Only values of type Float allowed"),n="-?\\d*[.]\\d+"),e===v.DATE&&y.resourceDataType===p.TIME&&(a=t("Only numbers allowed, for e.g. 1528197925677"),n="\\d+"),{pattern:n,tooltip:a}}function c(e){var t=_.find(f,{type:e});return t?t.name:void 0}function m(e){return _.map(e,function(e){return c(e)})}function d(e){var t=_.find(f,{name:e});return t?t.type:void 0}var u=e.Validation.RuleType,p=e.Validation.ResourceDataType,v=e.Validation.ValueType,g=e.Validation.RuleName,f=[{type:u.GT,name:g.GT},{type:u.LT,name:g.LT},{type:u.GTE,name:g.GTE},{type:u.LTE,name:g.LTE},{type:u.EQ,name:g.EQ},{type:u.NEQ,name:g.NEQ}],y=this;_.assign(y,{change:n,dateTimeChange:a,reflectInDateTimePicker:l,selectedRule:c(_.get(y.rule,"type",_.first(y.options))),selectedType:_.get(y.rule,"arg.valueType"),ruleOptions:m(y.options),formValidation:s(),value:_.get(y.rule,"arg.value"),dateTimeValue:a(),$onChange:y.onChange({rule:y.rule})})}e.$inject=["c8yLwm2m","gettext"],angular.module("c8y.lwm2m").component("c8yLwm2mValidationRule",{templateUrl:"core_device-protocol-lwm2m/lwm2mValidationRules/lwm2mValidationRule.html",controller:e,controllerAs:"vm",bindings:{rule:"<",options:"<",isLast:"<",valueTypes:"<",onAdd:"&",onRemove:"&",onChange:"&",resourceDataType:"@"}})}(),function(){"use strict";function e(e,t,n,a){function o(){r(),t.changeTitle({title:n("LWM2M post-operations")}),s.aceEditorOptions={useWrapMode:!0,showGutter:!0,onLoad:i},s.EXAMPLE_COMMANDS=[{command:"discover",resource:"<objectId>",description:n("Discover all resources of Object 3300, the generic sensor.")},{command:"read",resource:"<objectId>/<objectInstanceId>/<resourceId>",description:n("Read maximum sensor value")},{command:"write",resource:"<objectId>/<objectInstanceId>/<resourceId> <applicationType>",description:n('Write application type "CO2" to device')},{command:"execute",resource:"<objectId>/<objectInstanceId>/<resourceId>",description:n("Reset min and max values")},{command:"observe",resource:"<objectId>/<objectInstanceId>/<resourceId>",description:n("Observe sensor value. Causes device to send every new sensor value")},{command:"writeattr",resource:"<objectId>/<objectInstanceId>/<resourceId> greater=<value>",description:n("Only send observations if sensor value is higher than 100")}]}function i(e){var t=e;t.$blockScrolling=1/0}function r(){e.getPostRegistrationOptions().then(function(e){s.postRegistrationOptions=e})}function l(t){e.setPostRegistrationOptions(t).then(function(){return a.success(n("Post-operations are successfully saved."))}).catch(function(){return a.danger(n("There was an error processing the post-operations."))})}var s=this;_.assign(s,{$onInit:o,setPostRegistrationOptions:l})}e.$inject=["c8yLwm2m","c8yTitle","gettext","c8yAlert"],angular.module("c8y.lwm2m").component("c8yLwm2mPostOperations",{templateUrl:"core_device-protocol-lwm2m/postOperations/lwm2mPostOperations.html",controller:e,controllerAs:"vm"})}(),function(){"use strict";function e(e,t,n){function a(){o(),i()}function o(){t.when("/"+r,s)}function i(){n.addNavigation(l)}var r="postoperations",l={parent:e("Device types"),name:e("LWM2M post-operations"),path:r,icon:"terminal",showIf:["c8yLwm2m",function(e){return e.showIf()}]},s={template:"<c8y-lwm2m-post-operations></c8y-lwm2m-post-operations>"};return{$get:function(){},initUi:a}}e.$inject=["gettext","c8yViewsProvider","c8yNavigatorProvider"],angular.module("c8y.lwm2m").provider("c8yLwm2mPostOperationsUi",e)}(),function(){"use strict";function e(e,a){function o(){a.when(r,i)}var i={template:'<c8y-lwm2m-bootstrap-config device-id="id"></c8y-lwm2m-bootstrap-config>',name:e("LWM2M bootstrap parameters"),icon:"c8y-device-protocols",controller:t,showIf:n},r="/device/:deviceId";return{initUi:o,$get:_.noop}}function t(e,t){e.id=t.deviceId}function n(e,t,n){return t.detailCached(e.deviceId).then(function(e){var t=e.data;return n.isDeviceType(t)&&n.bootstrapPermissions()}).then(function(e){var t=e.read;return t})}e.$inject=["gettext","c8yViewsProvider"],t.$inject=["$scope","$routeParams"],n.$inject=["$routeParams","c8yDevices","c8yLwm2m"],angular.module("c8y.lwm2m.bootstrap",[]).provider("c8yLwm2mBootstrapUi",e)}(),function(){"use strict";function e(e,t,n,a){function o(){e.$watch(function(){return _.get(d.config,"securityMode")},function(){d.schema=a.bootstrapSchemaChange(d.schema,d.config)})}function i(e){var t=e.id;t&&d.id&&r()}function r(){a.bootstrapParams(d.id).then(s)}function l(){a.bootstrapParams(d.id,d.config).then(s).then(m)}function s(e){d.config=e,d.form.$setPristine()}function c(){a.bootstrapPermissions().then(function(e){d.permissions=e})}function m(){n.success(t("Bootstrap parameters updated"))}var d=this,u=a.bootstrapSchema();_.assign(d,{config:{},$onInit:o,$onChanges:i,save:l,schema:u}),c()}e.$inject=["$scope","gettext","c8yAlert","c8yLwm2m"],angular.module("c8y.lwm2m.bootstrap").component("c8yLwm2mBootstrapConfig",{templateUrl:"core_device-protocol-lwm2m/bootstrap/bootstrap-config.html",controllerAs:"vm",controller:e,bindings:{id:"<deviceId"}})}(),function(){"use strict";function e(e){var t;t='<form name="vm.form" novalidate>\n  <div class="card col-lg-6 col-md-12">\n\n    <div class="card-header separator">\n      <h4 class="card-title" translate>LWM2M bootstrap parameters</h4>\n    </div>\n\n    <div class="card-block">\n      <c8y-schema-form schema="vm.schema" model="vm.config" options="{formDefaults: {readonly: !vm.permissions.write}}">\n      </c8y-schema-form>\n    </div>\n\n    <div class="page-footer text-center" ng-hide="!vm.permissions.write">\n      <c8y-ui-button-footer changed="vm.form.$dirty">\n        <button class="btn btn-primary btn-lg btn-wide" type="button" ng-click="vm.save()" ng-disabled="!vm.form.$dirty" translate>\n          Save\n        </button>\n      </c8y-ui-button-footer>\n    </div>\n\n  </div>\n</form>\n',e.put("device-protocol-lwm2m/bootstrap/bootstrap-config.html",t),e.put("core_device-protocol-lwm2m/bootstrap/bootstrap-config.html",t),e.put("/apps/core/device-protocol-lwm2m/bootstrap/bootstrap-config.html",t),t='<c8y-ui-title-set title="vm.title"></c8y-ui-title-set>\n<c8y-device-protocol-breadcrumb></c8y-device-protocol-breadcrumb>\n\n<div class="row">\n  <div class="col-lg-12 col-lg-max">\n    <div class="card" style="margin-bottom:5px">\n      <div class="card-block">\n        <div class="row">\n          <div class="col-md-7">\n\n            <form class="form form-read-only">\n              <div class="form-control-group">\n                <label class="small" translate>Description</label>\n                <textarea class="form-control" ng-model="vm.getMainObject().description"></textarea>\n              </div>\n            </form>\n\n            <small class="text-muted" ng-hide="1">\n              <a href=""><i c8y-icon="pencil"></i> {{\'Edit\' | translate}}</a>\n            </small>\n          </div>\n\n          <div class="col-md-5">\n            <dl class="dl-horizontal" style="margin-bottom:0">\n              <dt><label class="small" translate>Id</label></dt>\n              <dd style="font-size:1.5em">{{vm.getMainObject().id}}</dd>\n              <dt><label class="small" translate>Date created</label></dt>\n              <dd>{{vm.object.creationTime | absoluteDate}}</dd>\n              <dt><label class="small" translate>Last update</label></dt>\n              <dd>{{vm.object.lastUpdated | absoluteDate}}</dd>\n            </dl>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="card">\n      <div class="card-header"><h4 translate>Resources</h4></div>\n        <div class="list-group">\n\n          <c8y-lwm2m-resource ng-repeat="(resourceId, resource) in vm.getResources()" resource="resource" mapping="vm.getMappingForResource(resourceId)" on-update="vm.updateMapping(mapping)">\n          </c8y-lwm2m-resource>\n\n      </div>\n    </div>\n  </div>\n</div>\n',e.put("device-protocol-lwm2m/lwm2mDetail.html",t),e.put("core_device-protocol-lwm2m/lwm2mDetail.html",t),e.put("/apps/core/device-protocol-lwm2m/lwm2mDetail.html",t),t='<div class="bg-gray-white">\n  <div class="modal-inner-scroll">\n\n    <div ng-if="vm.errors().length">\n      <h1 class="text-danger text-center" style="font-size:4em"><i c8y-icon="exclamation-circle"></i></h1>\n      <ul class="list-group text-danger">\n        <li class="list-group-item" ng-repeat="error in vm.errors()">\n          <i c8y-icon="c8y-device-protocols"></i>\n          <strong style="margin-right:5px">{{error.id}}</strong> {{error.msg | translate}}\n        </li>\n      </ul>\n    </div>\n\n    <div ng-if="vm.created().length || vm.updated().length">\n      <h1 class="text-success text-center" style="font-size:4em"><i c8y-icon="check-circle"></i></h1>\n\n      <div ng-if="vm.created().length">\n        <p class="lead text-success text-center" style="margin-bottom:0; padding:10px"><strong translate>Created</strong></p>\n        <div class="c8y-wizard-list-nav" ng-repeat="model in vm.created()">\n          <a href="" ng-click="vm.gotoDetail(model)" class="list-group-item">\n            <i c8y-icon="c8y-device-protocols"></i>\n            <strong style="margin-right:5px">{{model.id}}</strong>\n            {{vm.name(model)}}\n          </a>\n        </div>\n      </div>\n\n      <div ng-if="vm.updated().length">\n        <p class="lead text-success text-center" style="margin-bottom:0; padding:10px"><strong translate>Updated</strong></p>\n        <div class="c8y-wizard-list-nav" ng-repeat="model in vm.updated()">\n          <a href="" ng-click="vm.gotoDetail(model)" class="list-group-item">\n            <i c8y-icon="c8y-device-protocols"></i>\n            <strong style="margin-right:5px">{{model.id}}</strong>\n            {{vm.name(model)}}\n          </a>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n    <div class="c8y-wizard-footer flex-row">\n      <div class="flex-row">\n        <button style="flex:1;min-width:0" class="btn btn-default" ng-click="vm.back()" translate>Back</button>\n        <button style="flex:1;min-width:0" class="btn btn-default" ng-click="vm.cancel()" translate>Cancel</button>\n        <button style="flex:1;min-width:0" class="btn btn-primary" ng-click="vm.finish()" translate>Continue</button>\n      </div>\n    </div>\n  </div>\n',e.put("device-protocol-lwm2m/lwm2mFinalStep.html",t),e.put("core_device-protocol-lwm2m/lwm2mFinalStep.html",t),e.put("/apps/core/device-protocol-lwm2m/lwm2mFinalStep.html",t),t='<div class="list-group-item collapsible" ng-class="{\'expanded\': vm.isDetailOpen}">\n  <div class="flex-row" ng-click="vm.toggleDetail()">\n    <div class="list-item-actions">\n      <button type="button" title="{{\'Expand\' | translate}}" class="collapse-btn" ng-class="{active: vm.isDetailOpen}">\n        <i c8y-icon="chevron-down"></i>\n      </button>\n    </div>\n\n    <div class="list-item-icon">\n      <i c8y-icon="c8y-data-points"></i>\n    </div>\n\n    <div class="list-item-body" style="margin-right: 20px">\n      <div class="row flex-row">\n        <div class="col-sm-7 col-xs-12">\n          <small class="text-muted">{{vm.resource.id}}</small>\n          {{vm.resource.name}}\n        </div>\n        <div class="col-sm-4 col-xs-10">\n          <div class="list-functionalities">\n            <label class="small right-m hidden-xs" translate>Functionalities</label>&nbsp;\n            <c8y-object-mapping-status-icons mapping="vm.serverMapping"></c8y-object-mapping-status-icons>\n          </div>\n        </div>\n        <div class="col-sm-1 col-xs-2">\n            <div class="dot small" ng-show="vm.showValidation()" ng-class="{\'bg-gray\':!vm.validationAvailable(), \'dot-success\':vm.validationAvailable()}">\n            <i c8y-icon="check" ng-show="vm.validationAvailable()" uib-tooltip="{{\'Validation rules set\' | translate}}"></i>\n            <i c8y-icon="list-ul" ng-show="!vm.validationAvailable()" style="font-size: 12px" uib-tooltip="{{\'No validation rules defined.\' | translate}}"></i>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="detail" uib-collapse="!vm.isDetailOpen">\n    <div class="row top-m">\n      <div class="col-md-8 text-pre-wrap bottom-m" ng-show="vm.resource.description"><small>{{vm.resource.description}}</small></div>\n      <div class="col-md-8 text-muted" ng-hide="vm.resource.description"><small><em translate>No description available</em></small></div>\n      <div class="col-md-4">\n        <dl class="dl-horizontal" style="margin-bottom:0">\n          <dt><label class="small" translate>Range</label></dt>\n          <dd><small>{{vm.resource.rangeEnumeration || \'--\'}}</small></dd>\n          <dt><label class="small" translate>Mandatory</label></dt>\n          <dd ng-show="vm.resource.mandatory" translate><small>Yes</small></dd>\n          <dd ng-hide="vm.resource.mandatory" translate><small>No</small></dd>\n          <dt><label class="small" translate>Operations</label></dt>\n          <dd><small>{{vm.resource.operations}}</small></dd>\n          <dt><label class="small" translate>Type</label></dt>\n          <dd><small>{{vm.resource.dataType}}</small></dd>\n          <dt><label class="small" translate>Units</label></dt>\n          <dd><small>{{vm.resource.units || \'--\'}}</small></dd>\n          <dt><label class="small" translate>Instance type</label></dt>\n          <dd ng-hide="vm.resource.multiple" translate><small>Single</small></dd>\n          <dd ng-show="vm.resource.multiple" translate><small>Multiple</small></dd>\n        </dl>\n      </div>\n    </div>\n    <form class="form" name="mappingForm">\n      <c8y-object-mapping mapping="vm.mapping" auto-observe-params="true" custom-actions="vm.customActions">\n      </c8y-object-mapping>\n\n      <c8y-lwm2m-validation-rules ng-if="vm.showValidation()" mapping="vm.mapping" resource="vm.resource">\n      </c8y-lwm2m-validation-rules>\n\n      <button class="btn btn-default top-m-md bottom-m-lg" style="min-width: 100px" ng-click="vm.cancel(); mappingForm.$pristine = true" translate>\n        Cancel\n      </button>\n      <button class="btn btn-primary top-m-md bottom-m-lg" style="min-width: 100px" ng-click="vm.save()" ng-disabled="mappingForm.$invalid || mappingForm.$pristine" translate>\n        Save\n      </button>\n    </form>\n\n  </div>\n</div>',e.put("device-protocol-lwm2m/lwm2mResource.html",t),e.put("core_device-protocol-lwm2m/lwm2mResource.html",t),e.put("/apps/core/device-protocol-lwm2m/lwm2mResource.html",t),t='<div>\n  <div class="c8y-wizard-body">\n\n    <p class="text-center">\n      <span translate>Start by uploading a DDF or XML file</span>\n    </p>\n\n    <file-picker files="vm.files" multiple="false" required="true" ng-disabled="vm.processingStatus.inProgress" display-drop-zone="true" processing-status="vm.processingStatus" on-file-selected="vm.upload(vm.files)">\n    </file-picker>\n  </div>\n\n  <div class="c8y-wizard-footer">\n    <button class="btn btn-default" ng-click="vm.wizardCtrl.goToIndex(0)" translate>Back</button>\n    <button class="btn btn-default" ng-click="vm.wizardCtrl.dismiss()" translate>Cancel</button>\n  </div>\n</div>\n',e.put("device-protocol-lwm2m/lwm2mUploadStep.html",t),e.put("core_device-protocol-lwm2m/lwm2mUploadStep.html",t),e.put("/apps/core/device-protocol-lwm2m/lwm2mUploadStep.html",t),t='<ng-form name="vm.validationRuleForm">\n  <div class="card-row-add-remove form-inline">\n  <div class="form-group">\n      <label>{{\'Type\' | translate}}</label>\n      <div class="c8y-select-wrapper">\n        <select class="form-control" name="valueType" ng-options="valueType as (valueType | translate) for valueType in vm.valueTypes track by valueType" ng-model="vm.selectedType" ng-change="vm.change()" required>\n        </select>\n        <span></span>\n      </div>\n    </div>\n    <div class="form-group">\n      <label>{{\'Rule\' | translate}}</label>\n      <div class="c8y-select-wrapper">\n        <select class="form-control" name="operations" ng-options="option as (option | translate) for option in vm.ruleOptions track by option" ng-model="vm.selectedRule" ng-change="vm.change()" required>\n        </select>\n        <span></span>\n      </div>\n    </div>\n    <div class="form-group" ng-if="vm.showDateTime">\n      <label for="booleanValue">{{\'Value\' | translate}}</label>\n      <c8y-date-time-picker ng-model="vm.dateTimeValue" class="form-group" placeholder="{{\'Select date\' | translate}}" show-weeks="false" show-spinners="false" show-seconds="true" with-milliseconds="true" append-to-body="true" ng-change="vm.dateTimeChange()"></c8y-date-time-picker>\n    </div>\n    <div class="form-group">\n      <label for="booleanValue" ng-if="vm.showDateTime">{{\'Value in ms\' | translate}}</label>\n      <label for="booleanValue" ng-if="!vm.showDateTime">{{\'Value\' | translate}}</label>\n      <input type="text" class="form-control" ng-model="vm.value" placeholder="{{vm.formValidation.tooltip | translate}}" ng-change="vm.change()" ng-blur="vm.reflectInDateTimePicker()" ng-pattern="vm.formValidation.pattern" name="booleanValue" uib-tooltip="{{vm.formValidation.tooltip | translate}}" required>\n        <c8y-error-feedback field="vm.validationRuleForm.booleanValue"></c8y-error-feedback>\n    </div>\n    <div class="add-remove-btns" style="top: 16px">\n      <button type="button" class="btn btn-clean left-m" ng-click="vm.onRemove({rule: vm.rule})">\n        <i class="text-danger" c8y-icon="minus-circle"></i>\n      </button>\n      <button type="button" ng-click="vm.onAdd({rule: vm.rule})" class="btn btn-xs btn-default" ng-if="vm.isLast" translate>\n        and\n      </button>\n    </div>\n  </div>\n</ng-form>',e.put("device-protocol-lwm2m/lwm2mValidationRules/lwm2mValidationRule.html",t),e.put("core_device-protocol-lwm2m/lwm2mValidationRules/lwm2mValidationRule.html",t),e.put("/apps/core/device-protocol-lwm2m/lwm2mValidationRules/lwm2mValidationRule.html",t),t='<div class="form" ng-form="vm.mappingForm"> \n  <div class="bg-gray-lighter" style="padding: 16px; margin: 0 -16px">  \n    <div class="legend form-block" translate>Validation rules</div>\n    <div ng-if="vm.rules.length > 0" ng-repeat="andRules in vm.rules" class="top-m-lg">\n      <div ng-if="$index > 0" class="legend form-block center" style="padding: 0 84px 0 0" translate>Or</div>\n      <c8y-lwm2m-validation-rule ng-repeat="rule in andRules" rule="rule" options="vm.options" resource-data-type="{{vm.resourceDataType}}" value-types="vm.valueTypes" on-remove="vm.remove(rule)" on-add="vm.addAndRule(rule)" on-change="vm.changes(rule)" is-last="$last">\n      </c8y-lwm2m-validation-rule>\n      <hr ng-if="vm.isLast(andRules)">\n      <button id="orBtn-{{vm.resource.id}}" ng-click="vm.addOrGroup()" ng-if="vm.isLast(andRules)" class="btn btn-default btn-sm" translate>Or</button>\n    </div>\n    <div ng-if="vm.rules.length === 0">\n      <div class="c8y-empty-state text-left">\n        <h1 c8y-icon="c8y-data-points" class="c8y-icon-duocolor"></h1>\n        <p><span translate><strong>No validation for this resource.</strong> Add a validation rule by clicking below.</span><br>\n          <button type="button" ng-click="vm.addAndRule({})" class="btn btn-default btn-sm top-m" translate>Add validation rule</button>\n        </p>\n      </div>\n      <hr>\n    </div>\n  </div>\n</div>',
e.put("device-protocol-lwm2m/lwm2mValidationRules/lwm2mValidationRules.html",t),e.put("core_device-protocol-lwm2m/lwm2mValidationRules/lwm2mValidationRules.html",t),e.put("/apps/core/device-protocol-lwm2m/lwm2mValidationRules/lwm2mValidationRules.html",t),t='<div class="row">\n  <div class="col-md-8">\n    <div class="card">\n      <div class="card-header">\n        <h4 class="card-title">\n          {{\'Commands\' | translate}}\n        </h4>\n      </div>\n      <hr>\n      <form name="optionsForm" novalidate>\n        <div ui-ace="vm.aceEditorOptions" ng-model="vm.postRegistrationOptions.commands" class="form-control" style="height:500px" required>\n        </div>\n      </form>\n    </div>\n  </div>\n  <div class="col-md-4">\n    <p translate>On the left, you can enter a set of LWM2M shell commands. Each of these commands is sent to every LWM2M device that has successfully registered.</p>\n    <p translate>You may use the following syntax for specifying post-registration actions:</p>\n    <pre style="white-space: normal" class="bg-gray-dark">\n      <ul class="list-unstyled">\n        <li ng-repeat="c in vm.EXAMPLE_COMMANDS" style="margin-top: 15px">\n          <span class="text-danger">{{c.command}}</span>\n          <span class="text-gray-white">{{c.resource}}</span>\n          <span class="text-gray"># {{c.description | translate}}</span>\n        </li>\n        \n      </ul>\n    </pre>\n  </div>\n</div>\n<div class="text-center page-footer">\n  <c8y-ui-button-footer changed="optionsForm.$dirty">\n    <button type="submit" class="btn btn-primary" ng-click="vm.setPostRegistrationOptions(vm.postRegistrationOptions.commands)" ng-disabled="optionsForm.$invalid" translate>\n      Save\n    </button>\n  </c8y-ui-button-footer>\n</div>\n',e.put("device-protocol-lwm2m/postOperations/lwm2mPostOperations.html",t),e.put("core_device-protocol-lwm2m/postOperations/lwm2mPostOperations.html",t),e.put("/apps/core/device-protocol-lwm2m/postOperations/lwm2mPostOperations.html",t)}angular.module("c8y.lwm2m").run(["$templateCache",e])}();